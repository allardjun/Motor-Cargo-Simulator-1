(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 10.4' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     44724,       1111]
NotebookOptionsPosition[     42748,       1045]
NotebookOutlinePosition[     43101,       1061]
CellTagsIndexPosition[     43058,       1058]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Equations for forward euler", "Title",
 CellChangeTimes->{{3.670201171182211*^9, 3.670201183646469*^9}}],

Cell["\<\
This notebook generates a system of equations, solves it, then writes the \
resulting solved equations to a file in c-ish syntax. When the bash script \
CformToC.sh is then run on the written file, the result should be a c file \
which encodes the equations for the next value of the locations of the \
anchors of each motor, as well as the cargo.

The first section goes through the calculation in detail. Following that is a \
function which performs all the steps for a certain number of attached \
motors. Finally, there is code which loops over numbers of attached motors up \
from 1 to however many are desired and writes as close as possible to a c \
function which will return the next location given the previous one.

Note: to see outputs in first section, delete ; at end of line\
\>", "Text",
 CellChangeTimes->{{3.684120504191019*^9, 3.684120894327046*^9}, {
  3.68412289746591*^9, 3.684122903544365*^9}, {3.6841232064572563`*^9, 
  3.684123224352906*^9}}],

Cell[CellGroupData[{

Cell["Generate matrices for multiple motors stepwise", "Section",
 CellChangeTimes->{{3.684005009896345*^9, 3.68400502268918*^9}, {
  3.684120126101068*^9, 3.6841201275721607`*^9}}],

Cell["\<\
We want to generate the system of equations for the time evolution of the \
locations of the motor anchors and the cargo center. Derivation is detailed \
in the documentation.\
\>", "Text",
 CellChangeTimes->{{3.684120135236116*^9, 3.684120217257021*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "total", " ", "number", " ", "of", " ", "pulling", " ", "motors", " ", 
    "we", " ", "want", " ", "to", " ", "generate", " ", "the", " ", "system", 
    " ", "for"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"nmotors", "=", "1"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"place", " ", "to", " ", "store", " ", "equations"}], "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"eqs", "=", 
     RowBox[{"{", "}"}]}], ";"}]}]}]], "Input",
 CellChangeTimes->{{3.684006850561824*^9, 3.684006853861206*^9}, {
  3.6840072635739937`*^9, 3.68400726366322*^9}, {3.6840893617167673`*^9, 
  3.6840893939810457`*^9}, {3.684097990182609*^9, 3.684097990225583*^9}}],

Cell["Generate equations for the sum of forces on each motor", "Text",
 CellChangeTimes->{
  3.68408951466551*^9, {3.684120232337236*^9, 3.68412024186471*^9}}],

Cell[BoxData[
 RowBox[{"For", "[", 
  RowBox[{
   RowBox[{"i", "=", "1"}], ",", 
   RowBox[{"i", "\[LessEqual]", "nmotors"}], ",", 
   RowBox[{"i", "++"}], ",", 
   RowBox[{
    RowBox[{"eqs", "=", 
     RowBox[{"Join", "[", 
      RowBox[{
       RowBox[{"Thread", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0"}], "}"}], "\[Equal]", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{
             RowBox[{"FmTangential", "[", "i", "]"}], "[", "1", "]"}], ",", 
            RowBox[{
             RowBox[{"FmTangential", "[", "i", "]"}], "[", "2", "]"}], ",", 
            RowBox[{
             RowBox[{"FmTangential", "[", "i", "]"}], "[", "3", "]"}]}], 
           "}"}], "+", 
          RowBox[{
           RowBox[{"xiAnchor", "[", "i", "]"}], " ", 
           RowBox[{"Cross", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"omega", "[", "1", "]"}], ",", 
               RowBox[{"omega", "[", "2", "]"}], ",", 
               RowBox[{"omega", "[", "3", "]"}]}], "}"}], ",", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{
                 RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                RowBox[{
                 RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}], ",", 
                RowBox[{
                 RowBox[{"a", "[", "i", "]"}], "[", "3", "]"}]}], "}"}], "-", 
              
              RowBox[{"{", 
               RowBox[{
                RowBox[{"c", "[", "1", "]"}], ",", 
                RowBox[{"c", "[", "2", "]"}], ",", 
                RowBox[{"c", "[", "3", "]"}]}], "}"}]}]}], "]"}]}], "+", 
          RowBox[{
           RowBox[{"xiAnchor", "[", "i", "]"}], 
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{
                 RowBox[{"a1", "[", "i", "]"}], "[", "1", "]"}], ",", 
                RowBox[{
                 RowBox[{"a1", "[", "i", "]"}], "[", "2", "]"}], ",", 
                RowBox[{
                 RowBox[{"a1", "[", "i", "]"}], "[", "3", "]"}]}], "}"}], "-", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{
                 RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                RowBox[{
                 RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}], ",", 
                RowBox[{
                 RowBox[{"a", "[", "i", "]"}], "[", "3", "]"}]}], "}"}]}], 
             ")"}], "/", "dt"}]}]}]}], "]"}], ",", "\[IndentingNewLine]", 
       "eqs"}], "]"}]}], ";"}]}], "\[IndentingNewLine]", "]"}]], "Input",
 CellChangeTimes->{
  3.684005070286366*^9, {3.6840051312591476`*^9, 3.684005133171887*^9}, 
   3.684005242189466*^9, {3.684005531014655*^9, 3.684005551658716*^9}, {
   3.6840058716408367`*^9, 3.6840059376885777`*^9}, {3.684006011387332*^9, 
   3.6840061546669416`*^9}, {3.6840062047076063`*^9, 3.684006260461534*^9}, {
   3.684006397970166*^9, 3.684006408780736*^9}, {3.684006770861298*^9, 
   3.684006770939032*^9}, {3.684006847011498*^9, 3.684006848034906*^9}, 
   3.684006890627513*^9, {3.684007223604097*^9, 3.6840072271365547`*^9}, {
   3.684014337611184*^9, 3.684014340484227*^9}, 3.684014716323448*^9, {
   3.684014771126289*^9, 3.6840148501529713`*^9}, {3.684015321471341*^9, 
   3.6840153685980673`*^9}, {3.684015415308132*^9, 3.684015462714096*^9}, {
   3.684080544953635*^9, 3.6840805699907846`*^9}, {3.684081747967907*^9, 
   3.684081759326367*^9}, {3.684087989732126*^9, 3.6840880671649942`*^9}, {
   3.684088139734612*^9, 3.684088216559649*^9}, {3.68408826850152*^9, 
   3.684088355553761*^9}, {3.684088419363763*^9, 3.6840884231884604`*^9}, {
   3.684088473207036*^9, 3.6840885556043987`*^9}, {3.684088586943572*^9, 
   3.6840885972592154`*^9}, {3.684088636161887*^9, 3.684088742237227*^9}, {
   3.684089313331225*^9, 3.684089360368815*^9}, {3.684089398743702*^9, 
   3.6840894079775476`*^9}, {3.68408951830622*^9, 3.6840895462268972`*^9}, {
   3.684122183840743*^9, 3.684122188798298*^9}, 3.684122220062153*^9}],

Cell["Sum of forces on cargo", "Text",
 CellChangeTimes->{{3.6840895537751904`*^9, 3.68408955812895*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"cargoForceEqs", "=", "\[IndentingNewLine]", 
   RowBox[{"Thread", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0"}], "}"}], "\[Equal]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"Ftrap", "[", "1", "]"}], ",", 
        RowBox[{"Ftrap", "[", "2", "]"}], ",", 
        RowBox[{"Ftrap", "[", "3", "]"}]}], "}"}], "+", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"Fsteric", "[", "1", "]"}], ",", 
        RowBox[{"Fsteric", "[", "2", "]"}], ",", 
        RowBox[{"Fsteric", "[", "3", "]"}]}], "}"}], "+", 
      "\[IndentingNewLine]", 
      RowBox[{"xiCargoTranslation", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"c1", "[", "1", "]"}], ",", 
            RowBox[{"c1", "[", "2", "]"}], ",", 
            RowBox[{"c1", "[", "3", "]"}]}], "}"}], "-", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"c", "[", "1", "]"}], ",", 
            RowBox[{"c", "[", "2", "]"}], ",", 
            RowBox[{"c", "[", "3", "]"}]}], "}"}]}], ")"}], "/", "dt"}]}], 
      "+", 
      RowBox[{"Sum", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{
            RowBox[{"FmRadial", "[", "i", "]"}], "[", "1", "]"}], ",", 
           RowBox[{
            RowBox[{"FmRadial", "[", "i", "]"}], "[", "2", "]"}], ",", 
           RowBox[{
            RowBox[{"FmRadial", "[", "i", "]"}], "[", "3", "]"}]}], "}"}], 
         "-", 
         RowBox[{"xiAnchor", " ", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"Cross", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"omega", "[", "1", "]"}], ",", 
                RowBox[{"omega", "[", "2", "]"}], ",", 
                RowBox[{"omega", "[", "3", "]"}]}], "}"}], ",", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{
                  RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                 RowBox[{
                  RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}], ",", 
                 RowBox[{
                  RowBox[{"a", "[", "i", "]"}], "[", "3", "]"}]}], "}"}], "-", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"c", "[", "1", "]"}], ",", 
                 RowBox[{"c", "[", "2", "]"}], ",", 
                 RowBox[{"c", "[", "3", "]"}]}], "}"}]}]}], "]"}], "+", 
            RowBox[{
             RowBox[{"-", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"a1", "[", "i", "]"}], "[", "1", "]"}], ",", 
                  RowBox[{
                   RowBox[{"a1", "[", "i", "]"}], "[", "2", "]"}], ",", 
                  RowBox[{
                   RowBox[{"a1", "[", "i", "]"}], "[", "3", "]"}]}], "}"}], 
                "-", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                  RowBox[{
                   RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}], ",", 
                  RowBox[{
                   RowBox[{"a", "[", "i", "]"}], "[", "3", "]"}]}], "}"}]}], 
               ")"}]}], "/", "dt"}]}], ")"}]}]}], ",", 
        RowBox[{"{", 
         RowBox[{"i", ",", "1", ",", "nmotors"}], "}"}]}], "]"}]}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 CellChangeTimes->{
  3.684005070286366*^9, {3.6840051312591476`*^9, 3.684005133171887*^9}, 
   3.684005242189466*^9, {3.684005531014655*^9, 3.684005551658716*^9}, {
   3.6840058716408367`*^9, 3.6840059376885777`*^9}, {3.684006011387332*^9, 
   3.6840061546669416`*^9}, {3.6840062047076063`*^9, 3.684006260461534*^9}, {
   3.684006397970166*^9, 3.684006408780736*^9}, {3.684006770861298*^9, 
   3.684006770939032*^9}, {3.684006847011498*^9, 3.684006848034906*^9}, 
   3.684006890627513*^9, {3.684007223604097*^9, 3.6840072271365547`*^9}, {
   3.684014337611184*^9, 3.684014340484227*^9}, 3.684014716323448*^9, {
   3.684014771126289*^9, 3.6840148501529713`*^9}, {3.684015321471341*^9, 
   3.6840153685980673`*^9}, {3.684015415308132*^9, 3.684015462714096*^9}, {
   3.684080544953635*^9, 3.6840805699907846`*^9}, {3.684081747967907*^9, 
   3.684081759326367*^9}, {3.684087989732126*^9, 3.6840880671649942`*^9}, {
   3.684088139734612*^9, 3.684088216559649*^9}, {3.68408826850152*^9, 
   3.684088355553761*^9}, {3.684088419363763*^9, 3.6840884231884604`*^9}, {
   3.684088473207036*^9, 3.6840885556043987`*^9}, {3.684088586943572*^9, 
   3.6840885972592154`*^9}, {3.684088636161887*^9, 3.684088742237227*^9}, {
   3.684089313331225*^9, 3.684089360368815*^9}, {3.684089398743702*^9, 
   3.6840894079775476`*^9}, {3.68408951830622*^9, 3.684089533992002*^9}, {
   3.684089567748877*^9, 3.6840895740818777`*^9}, {3.684089930559786*^9, 
   3.684089956592085*^9}, {3.6841229557080793`*^9, 3.684122962490375*^9}}],

Cell["Sum of torques on cargo", "Text",
 CellChangeTimes->{{3.684089592644373*^9, 3.684089598662537*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"cargoTorqueEqs", "=", 
   RowBox[{"Thread", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0"}], "}"}], "==", 
     RowBox[{
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"omega", "[", "1", "]"}], ",", 
         RowBox[{"omega", "[", "2", "]"}], ",", 
         RowBox[{"omega", "[", "3", "]"}]}], "}"}], "xiCargoRotation"}], "-", 
      " ", 
      RowBox[{"Sum", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"xiAnchor", "[", "i", "]"}], 
         RowBox[{"Cross", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{
               RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
              RowBox[{
               RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}], ",", 
              RowBox[{
               RowBox[{"a", "[", "i", "]"}], "[", "3", "]"}]}], "}"}], "-", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"c", "[", "1", "]"}], ",", 
              RowBox[{"c", "[", "2", "]"}], ",", 
              RowBox[{"c", "[", "3", "]"}]}], "}"}]}], ",", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"Cross", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"omega", "[", "1", "]"}], ",", 
                 RowBox[{"omega", "[", "2", "]"}], ",", 
                 RowBox[{"omega", "[", "3", "]"}]}], "}"}], ",", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                  RowBox[{
                   RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}], ",", 
                  RowBox[{
                   RowBox[{"a", "[", "i", "]"}], "[", "3", "]"}]}], "}"}], 
                "-", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"c", "[", "1", "]"}], ",", 
                  RowBox[{"c", "[", "2", "]"}], ",", 
                  RowBox[{"c", "[", "3", "]"}]}], "}"}]}]}], "]"}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"a1", "[", "i", "]"}], "[", "1", "]"}], ",", 
                  RowBox[{
                   RowBox[{"a1", "[", "i", "]"}], "[", "2", "]"}], ",", 
                  RowBox[{
                   RowBox[{"a1", "[", "i", "]"}], "[", "3", "]"}]}], "}"}], 
                "-", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                  RowBox[{
                   RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}], ",", 
                  RowBox[{
                   RowBox[{"a", "[", "i", "]"}], "[", "3", "]"}]}], "}"}]}], 
               ")"}], "/", "dt"}]}], ")"}]}], "]"}]}], ",", 
        RowBox[{"{", 
         RowBox[{"i", ",", "1", ",", "nmotors"}], "}"}]}], "]"}]}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 CellChangeTimes->{
  3.684005070286366*^9, {3.6840051312591476`*^9, 3.684005133171887*^9}, 
   3.684005242189466*^9, {3.684005531014655*^9, 3.684005551658716*^9}, {
   3.6840058716408367`*^9, 3.6840059376885777`*^9}, {3.684006011387332*^9, 
   3.6840061546669416`*^9}, {3.6840062047076063`*^9, 3.684006260461534*^9}, {
   3.684006397970166*^9, 3.684006408780736*^9}, {3.684006770861298*^9, 
   3.684006770939032*^9}, {3.684006847011498*^9, 3.684006848034906*^9}, 
   3.684006890627513*^9, {3.684007223604097*^9, 3.6840072271365547`*^9}, {
   3.684014337611184*^9, 3.684014340484227*^9}, 3.684014716323448*^9, {
   3.684014771126289*^9, 3.6840148501529713`*^9}, {3.684015321471341*^9, 
   3.6840153685980673`*^9}, {3.684015415308132*^9, 3.684015462714096*^9}, {
   3.684080544953635*^9, 3.6840805699907846`*^9}, {3.684081747967907*^9, 
   3.684081759326367*^9}, {3.684087989732126*^9, 3.6840880671649942`*^9}, {
   3.684088139734612*^9, 3.684088216559649*^9}, {3.68408826850152*^9, 
   3.684088355553761*^9}, {3.684088419363763*^9, 3.6840884231884604`*^9}, {
   3.684088473207036*^9, 3.6840885556043987`*^9}, {3.684088586943572*^9, 
   3.6840885972592154`*^9}, {3.684088636161887*^9, 3.684088742237227*^9}, {
   3.684089313331225*^9, 3.684089360368815*^9}, {3.684089398743702*^9, 
   3.6840894079775476`*^9}, {3.68408951830622*^9, 3.684089533992002*^9}, {
   3.6840896356471*^9, 3.684089814302346*^9}, {3.684089845105513*^9, 
   3.68408991459612*^9}, 3.684089960788517*^9, {3.684122998251582*^9, 
   3.684123000577752*^9}}],

Cell["Join the equations together into a system", "Text",
 CellChangeTimes->{{3.684120271360635*^9, 3.684120284488654*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"eqs", "=", 
   RowBox[{
    RowBox[{"Join", "[", 
     RowBox[{"eqs", ",", "cargoForceEqs", ",", "cargoTorqueEqs"}], "]"}], "//",
     "Flatten"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.684089980552536*^9, 3.684090010918826*^9}, {
  3.684090232081958*^9, 3.684090234325091*^9}}],

Cell["\<\
Write out the dependent variables, namely the next positions of the anchors \
and the cargo, plus the rotational velocity of the cargo\
\>", "Text",
 CellChangeTimes->{{3.684120287592751*^9, 3.684120343729823*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"vars", "=", 
  RowBox[{
   RowBox[{"Join", "[", 
    RowBox[{
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{
          RowBox[{"a1", "[", "i", "]"}], "[", "1", "]"}], ",", 
         RowBox[{
          RowBox[{"a1", "[", "i", "]"}], "[", "2", "]"}], ",", 
         RowBox[{
          RowBox[{"a1", "[", "i", "]"}], "[", "3", "]"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"i", ",", "1", ",", "nmotors"}], "}"}]}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"c1", "[", "1", "]"}], ",", 
       RowBox[{"c1", "[", "2", "]"}], ",", 
       RowBox[{"c1", "[", "3", "]"}], ",", 
       RowBox[{"omega", "[", "1", "]"}], ",", 
       RowBox[{"omega", "[", "2", "]"}], ",", 
       RowBox[{"omega", "[", "3", "]"}]}], "}"}]}], "]"}], "//", 
   "Flatten"}]}]], "Input",
 CellChangeTimes->{{3.684007637678495*^9, 3.6840076496835413`*^9}, {
  3.684007692456523*^9, 3.68400770691153*^9}, {3.684015389454631*^9, 
  3.684015393976955*^9}, {3.684090015857313*^9, 3.684090091209255*^9}, {
  3.6840901277163067`*^9, 3.684090146945503*^9}, {3.684123170364975*^9, 
  3.684123171482975*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{"a1", "[", "1", "]"}], "[", "1", "]"}], ",", 
   RowBox[{
    RowBox[{"a1", "[", "1", "]"}], "[", "2", "]"}], ",", 
   RowBox[{
    RowBox[{"a1", "[", "1", "]"}], "[", "3", "]"}], ",", 
   RowBox[{"c1", "[", "1", "]"}], ",", 
   RowBox[{"c1", "[", "2", "]"}], ",", 
   RowBox[{"c1", "[", "3", "]"}], ",", 
   RowBox[{"omega", "[", "1", "]"}], ",", 
   RowBox[{"omega", "[", "2", "]"}], ",", 
   RowBox[{"omega", "[", "3", "]"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.684007707278323*^9, 3.684015475131198*^9, 3.684018183406715*^9, {
   3.684090069061488*^9, 3.684090092218184*^9}, {3.684090136365576*^9, 
   3.684090147275579*^9}, 3.684090259787458*^9, 3.684097995506596*^9, 
   3.684121001018396*^9, 3.6841230179729633`*^9, 3.684123173436799*^9}]
}, Open  ]],

Cell["\<\
Turn this system of equations into a matrix problem, A.x=b (here A is coeff, \
b is const)\
\>", "Text",
 CellChangeTimes->{{3.684120365657811*^9, 3.6841204054416533`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"{", 
    RowBox[{"const", ",", "coeff"}], "}"}], "=", 
   RowBox[{
    RowBox[{"Normal", "@", 
     RowBox[{"CoefficientArrays", "[", 
      RowBox[{"eqs", ",", "vars"}], "]"}]}], "//", "Simplify"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.684006457661401*^9, 3.684006473456142*^9}, 
   3.684006567281929*^9, {3.6840068386748257`*^9, 3.6840068409015713`*^9}, {
   3.68400763564538*^9, 3.68400771497747*^9}, {3.684018572112109*^9, 
   3.6840185898307133`*^9}, {3.684018683936425*^9, 3.6840186930152273`*^9}}],

Cell["\<\
The result should be arrays of 3(nmotors+2) equations (3 components: x, y, z \
for each of the nmotors sum of forces equations for each motor, plus 2 for \
sum of forces and torques on cargo)\
\>", "Text",
 CellChangeTimes->{{3.68409051956328*^9, 3.6840905649788847`*^9}, {
  3.684097800709556*^9, 3.684097889425914*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"3", 
  RowBox[{"(", 
   RowBox[{"nmotors", "+", "2"}], ")"}]}], "\[IndentingNewLine]", 
 RowBox[{"Dimensions", "[", "coeff", "]"}], "\[IndentingNewLine]", 
 RowBox[{"Dimensions", "[", "const", "]"}]}], "Input",
 CellChangeTimes->{{3.6840073635073347`*^9, 3.684007374239601*^9}, {
  3.684090336371669*^9, 3.684090341610797*^9}, {3.68409048355317*^9, 
  3.684090510507255*^9}}],

Cell[BoxData["9"], "Output",
 CellChangeTimes->{
  3.6840073745679693`*^9, 3.684090274299241*^9, 3.6840903419678907`*^9, {
   3.684090493743384*^9, 3.684090511548506*^9}, 3.684097995580967*^9, 
   3.6841210011171627`*^9, 3.68412301856791*^9, 3.6841231823267403`*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"9", ",", "9"}], "}"}]], "Output",
 CellChangeTimes->{
  3.6840073745679693`*^9, 3.684090274299241*^9, 3.6840903419678907`*^9, {
   3.684090493743384*^9, 3.684090511548506*^9}, 3.684097995580967*^9, 
   3.6841210011171627`*^9, 3.68412301856791*^9, 3.684123182335174*^9}],

Cell[BoxData[
 RowBox[{"{", "9", "}"}]], "Output",
 CellChangeTimes->{
  3.6840073745679693`*^9, 3.684090274299241*^9, 3.6840903419678907`*^9, {
   3.684090493743384*^9, 3.684090511548506*^9}, 3.684097995580967*^9, 
   3.6841210011171627`*^9, 3.68412301856791*^9, 3.684123182340983*^9}]
}, Open  ]],

Cell["\<\
Using solve doesn\[CloseCurlyQuote]t appear to work, might be able to get it \
to with assumptions (would take forever to write out all of them)\
\>", "Text",
 CellChangeTimes->{{3.6840903656185904`*^9, 3.684090404678144*^9}}],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{"Solve", "[", 
   RowBox[{
    RowBox[{"coeff", ".", "vars"}], "==", "const"}], "]"}], "*)"}]], "Input",
 CellChangeTimes->{{3.684007612164157*^9, 3.684007620669202*^9}, {
  3.684007723167364*^9, 3.6840077366785316`*^9}, {3.6840903584979773`*^9, 
  3.6840903614333344`*^9}}],

Cell["\<\
However, Mathematica seems to have no trouble inverting the matrix, so we can \
solve it that way\
\>", "Text",
 CellChangeTimes->{{3.684090575250648*^9, 3.684090599493772*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"coeffinv", "=", 
   RowBox[{
    RowBox[{"Inverse", "[", "coeff", "]"}], "//", "Simplify"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.684008936600967*^9, 3.6840089402770147`*^9}, {
  3.684009201118938*^9, 3.684009236499383*^9}, {3.684018702408951*^9, 
  3.68401870405695*^9}}],

Cell[TextData[{
 "Then the solution to the system is ",
 Cell[BoxData[
  FormBox[
   RowBox[{"x", "=", 
    RowBox[{
     SuperscriptBox["A", 
      RowBox[{"-", "1"}]], "b"}]}], TraditionalForm]],
  FormatType->"TraditionalForm"]
}], "Text",
 CellChangeTimes->{{3.6841204255853567`*^9, 3.684120460783022*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"invsoln", "=", 
   RowBox[{"Thread", "[", 
    RowBox[{"vars", "==", 
     RowBox[{"coeffinv", ".", "const"}]}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.684009261274222*^9, 3.68400926910183*^9}, {
   3.6840183088171263`*^9, 3.6840183235085773`*^9}, {3.684018479524437*^9, 
   3.684018481980887*^9}, {3.684019141901951*^9, 3.684019153859799*^9}, 
   3.684120990724759*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell["All in one function", "Section",
 CellChangeTimes->{{3.684098051773768*^9, 3.684098060121355*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"generateEqs", "[", "nmotors_", "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "eqs", ",", "i", ",", "vars", ",", "coeff", ",", "coeffinv", ",", 
      "const"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"eqs", "=", 
      RowBox[{"{", "}"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"For", "[", 
      RowBox[{
       RowBox[{"i", "=", "1"}], ",", 
       RowBox[{"i", "\[LessEqual]", "nmotors"}], ",", 
       RowBox[{"i", "++"}], ",", 
       RowBox[{
        RowBox[{"eqs", "=", 
         RowBox[{"Join", "[", 
          RowBox[{
           RowBox[{"Thread", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"0", ",", "0", ",", "0"}], "}"}], "\[Equal]", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{
                 RowBox[{"FmTangential", "[", "i", "]"}], "[", "1", "]"}], 
                ",", 
                RowBox[{
                 RowBox[{"FmTangential", "[", "i", "]"}], "[", "2", "]"}], 
                ",", 
                RowBox[{
                 RowBox[{"FmTangential", "[", "i", "]"}], "[", "3", "]"}]}], 
               "}"}], "+", 
              RowBox[{
               RowBox[{"xiAnchor", "[", "i", "]"}], " ", 
               RowBox[{"Cross", "[", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"omega", "[", "1", "]"}], ",", 
                   RowBox[{"omega", "[", "2", "]"}], ",", 
                   RowBox[{"omega", "[", "3", "]"}]}], "}"}], ",", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "3", "]"}]}], "}"}], 
                  "-", 
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{"c", "[", "1", "]"}], ",", 
                    RowBox[{"c", "[", "2", "]"}], ",", 
                    RowBox[{"c", "[", "3", "]"}]}], "}"}]}]}], "]"}]}], "+", 
              RowBox[{
               RowBox[{"xiAnchor", "[", "i", "]"}], 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"a1", "[", "i", "]"}], "[", "1", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a1", "[", "i", "]"}], "[", "2", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a1", "[", "i", "]"}], "[", "3", "]"}]}], "}"}], 
                  "-", 
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "3", "]"}]}], "}"}]}], 
                 ")"}], "/", "dt"}]}]}]}], "]"}], ",", "\[IndentingNewLine]", 
           "eqs"}], "]"}]}], ";"}]}], "\[IndentingNewLine]", "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"eqs", "=", 
      RowBox[{"Join", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Thread", "[", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"0", ",", "0", ",", "0"}], "}"}], "\[Equal]", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"Ftrap", "[", "1", "]"}], ",", 
             RowBox[{"Ftrap", "[", "2", "]"}], ",", 
             RowBox[{"Ftrap", "[", "3", "]"}]}], "}"}], "+", 
           "\[IndentingNewLine]", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"Fsteric", "[", "1", "]"}], ",", 
             RowBox[{"Fsteric", "[", "2", "]"}], ",", 
             RowBox[{"Fsteric", "[", "3", "]"}]}], "}"}], "+", 
           "\[IndentingNewLine]", 
           RowBox[{"xiCargoTranslation", 
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"c1", "[", "1", "]"}], ",", 
                 RowBox[{"c1", "[", "2", "]"}], ",", 
                 RowBox[{"c1", "[", "3", "]"}]}], "}"}], "-", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"c", "[", "1", "]"}], ",", 
                 RowBox[{"c", "[", "2", "]"}], ",", 
                 RowBox[{"c", "[", "3", "]"}]}], "}"}]}], ")"}], "/", 
             "dt"}]}], "+", 
           RowBox[{"Sum", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{
                 RowBox[{"FmRadial", "[", "i", "]"}], "[", "1", "]"}], ",", 
                RowBox[{
                 RowBox[{"FmRadial", "[", "i", "]"}], "[", "2", "]"}], ",", 
                RowBox[{
                 RowBox[{"FmRadial", "[", "i", "]"}], "[", "3", "]"}]}], 
               "}"}], "-", 
              RowBox[{
               RowBox[{"xiAnchor", "[", "i", "]"}], " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"Cross", "[", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{
                    RowBox[{"omega", "[", "1", "]"}], ",", 
                    RowBox[{"omega", "[", "2", "]"}], ",", 
                    RowBox[{"omega", "[", "3", "]"}]}], "}"}], ",", 
                   RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "3", "]"}]}], "}"}], 
                    "-", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"c", "[", "1", "]"}], ",", 
                    RowBox[{"c", "[", "2", "]"}], ",", 
                    RowBox[{"c", "[", "3", "]"}]}], "}"}]}]}], "]"}], "+", 
                 RowBox[{
                  RowBox[{"-", 
                   RowBox[{"(", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"a1", "[", "i", "]"}], "[", "1", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a1", "[", "i", "]"}], "[", "2", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a1", "[", "i", "]"}], "[", "3", "]"}]}], "}"}], 
                    "-", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "3", "]"}]}], "}"}]}], 
                    ")"}]}], "/", "dt"}]}], ")"}]}]}], ",", 
             RowBox[{"{", 
              RowBox[{"i", ",", "1", ",", "nmotors"}], "}"}]}], "]"}]}]}], 
         "]"}], "\[IndentingNewLine]", ",", "eqs"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"eqs", "=", 
      RowBox[{"Join", "[", 
       RowBox[{
        RowBox[{"Thread", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"0", ",", "0", ",", "0"}], "}"}], "==", 
          RowBox[{
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"omega", "[", "1", "]"}], ",", 
              RowBox[{"omega", "[", "2", "]"}], ",", 
              RowBox[{"omega", "[", "3", "]"}]}], "}"}], "xiCargoRotation"}], 
           "-", " ", 
           RowBox[{"Sum", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"xiAnchor", "[", "i", "]"}], 
              RowBox[{"Cross", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                   RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}], ",", 
                   RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "3", "]"}]}], "}"}], 
                 "-", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"c", "[", "1", "]"}], ",", 
                   RowBox[{"c", "[", "2", "]"}], ",", 
                   RowBox[{"c", "[", "3", "]"}]}], "}"}]}], ",", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"Cross", "[", 
                   RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"omega", "[", "1", "]"}], ",", 
                    RowBox[{"omega", "[", "2", "]"}], ",", 
                    RowBox[{"omega", "[", "3", "]"}]}], "}"}], ",", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "3", "]"}]}], "}"}], 
                    "-", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"c", "[", "1", "]"}], ",", 
                    RowBox[{"c", "[", "2", "]"}], ",", 
                    RowBox[{"c", "[", "3", "]"}]}], "}"}]}]}], "]"}], "+", 
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"a1", "[", "i", "]"}], "[", "1", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a1", "[", "i", "]"}], "[", "2", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a1", "[", "i", "]"}], "[", "3", "]"}]}], "}"}], 
                    "-", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "3", "]"}]}], "}"}]}], 
                    ")"}], "/", "dt"}]}], ")"}]}], "]"}]}], ",", 
             RowBox[{"{", 
              RowBox[{"i", ",", "1", ",", "nmotors"}], "}"}]}], "]"}]}]}], 
         "]"}], "\[IndentingNewLine]", ",", "eqs"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"vars", "=", 
      RowBox[{
       RowBox[{"Join", "[", 
        RowBox[{
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{
              RowBox[{"a1", "[", "i", "]"}], "[", "1", "]"}], ",", 
             RowBox[{
              RowBox[{"a1", "[", "i", "]"}], "[", "2", "]"}], ",", 
             RowBox[{
              RowBox[{"a1", "[", "i", "]"}], "[", "3", "]"}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"i", ",", "1", ",", "nmotors"}], "}"}]}], "]"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"c1", "[", "1", "]"}], ",", 
           RowBox[{"c1", "[", "2", "]"}], ",", 
           RowBox[{"c1", "[", "3", "]"}], ",", 
           RowBox[{"omega", "[", "1", "]"}], ",", 
           RowBox[{"omega", "[", "2", "]"}], ",", 
           RowBox[{"omega", "[", "3", "]"}]}], "}"}]}], "]"}], "//", 
       "Flatten"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"const", ",", "coeff"}], "}"}], "=", 
      RowBox[{
       RowBox[{"Normal", "@", 
        RowBox[{"CoefficientArrays", "[", 
         RowBox[{"eqs", ",", "vars"}], "]"}]}], "//", "Simplify"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"coeffinv", "=", 
      RowBox[{
       RowBox[{"Inverse", "[", "coeff", "]"}], "//", "Simplify"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Thread", "[", 
      RowBox[{"vars", "==", 
       RowBox[{"coeffinv", ".", "const"}]}], "]"}]}]}], "\[IndentingNewLine]",
    "]"}]}]], "Input",
 CellChangeTimes->{{3.684098061912445*^9, 3.6840980638957357`*^9}, {
  3.684098157760518*^9, 3.684098223909584*^9}, {3.684098255264639*^9, 
  3.684098327748281*^9}, {3.684098365189097*^9, 3.684098451058679*^9}, {
  3.684098934649769*^9, 3.684099001226726*^9}, {3.684121899512581*^9, 
  3.6841219994825993`*^9}, {3.684122106585373*^9, 3.684122110992721*^9}, {
  3.684122272949432*^9, 3.684122307916671*^9}, {3.6841223491138*^9, 
  3.6841226416906548`*^9}, {3.684122933382709*^9, 3.684122938763883*^9}, {
  3.684122979124536*^9, 3.684122981515399*^9}, {3.684123940649873*^9, 
  3.6841239410173798`*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Write file with iterations of different numbers of motors", "Section",
 CellChangeTimes->{{3.684098531303584*^9, 3.684098537535494*^9}, {
  3.684098604822413*^9, 3.684098628446341*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"outfileLoc", "=", 
   RowBox[{"CreateFile", "[", 
    RowBox[{
     RowBox[{"NotebookDirectory", "[", "]"}], "<>", 
     "\"\<forwardequations.c\>\""}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"outfile", "=", 
   RowBox[{"File", "[", "outfileLoc", "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.684098648719748*^9, 3.684098677654524*^9}, 
   3.6840991788294983`*^9, 3.68409921040814*^9, {3.684102465568993*^9, 
   3.684102482037467*^9}, {3.684102558481722*^9, 3.684102578910823*^9}, {
   3.684122712337173*^9, 3.684122713519846*^9}}],

Cell["Write C function beginning lines", "Text",
 CellChangeTimes->{{3.6840992130621567`*^9, 3.684099228238578*^9}}],

Cell[BoxData[{
 RowBox[{"WriteString", "[", 
  RowBox[{
  "outfile", ",", "\"\<//prototypes\>\"", ",", "\"\<\\n\>\"", ",", 
   "\"\<void compute_next_locations();\>\"", ",", "\"\<\\n\\n\>\""}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"WriteString", "[", 
  RowBox[{
  "outfile", ",", "\"\<void compute_next_locations(){\>\"", ",", 
   "\"\<\\n\>\""}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"WriteString", "[", 
  RowBox[{
  "outfile", ",", "\"\<    \>\"", ",", 
   "\"\<switch(total_pulling_motors){\>\"", ",", "\"\<\\n\>\""}], 
  "]"}]}], "Input",
 CellChangeTimes->{{3.684099231380281*^9, 3.684099240084999*^9}, {
  3.6840992762656183`*^9, 3.684099515878077*^9}, {3.6840996083649063`*^9, 
  3.684099671532875*^9}, {3.6840997024259577`*^9, 3.684099710873991*^9}, {
  3.68410043232519*^9, 3.684100434844616*^9}, {3.684100489632914*^9, 
  3.684100491769526*^9}, {3.684102822946341*^9, 3.684102824329294*^9}}],

Cell[BoxData[
 RowBox[{"For", "[", 
  RowBox[{
   RowBox[{"j", "=", "1"}], ",", 
   RowBox[{"j", "\[LessEqual]", "2"}], ",", 
   RowBox[{"j", "++"}], ",", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"WriteString", "[", 
     RowBox[{
     "outfile", ",", "\"\<        \>\"", ",", "\"\<case \>\"", ",", "j", ",", 
      "\"\<:\>\"", ",", "\"\<\\n\>\""}], "]"}], ";", "\[IndentingNewLine]", 
    RowBox[{"invsoln", "=", 
     RowBox[{"generateEqs", "[", "j", "]"}]}], ";", "\[IndentingNewLine]", 
    RowBox[{"For", "[", 
     RowBox[{
      RowBox[{"i", "=", "1"}], ",", 
      RowBox[{"i", "\[LessEqual]", 
       RowBox[{"3", 
        RowBox[{"(", 
         RowBox[{"j", "+", "2"}], ")"}]}]}], ",", 
      RowBox[{"i", "++"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"WriteString", "[", 
        RowBox[{"outfile", ",", "\"\<            \>\"", ",", 
         RowBox[{"CForm", "[", 
          RowBox[{"invsoln", "[", 
           RowBox[{"[", "i", "]"}], "]"}], "]"}], ",", "\"\<;\>\"", ",", 
         "\"\<\\n\\n\>\""}], "]"}], ";"}]}], "\[IndentingNewLine]", "]"}], 
    ";", "\[IndentingNewLine]", 
    RowBox[{"WriteString", "[", 
     RowBox[{
     "outfile", ",", "\"\<            \>\"", ",", "\"\<break;\>\"", ",", 
      "\"\<\\n\\n\>\""}], "]"}], ";"}]}], "\[IndentingNewLine]", 
  "]"}]], "Input",
 CellChangeTimes->{{3.684098684247036*^9, 3.684098766686006*^9}, {
   3.684098856697693*^9, 3.684098878004724*^9}, {3.684099061289969*^9, 
   3.6840991277763557`*^9}, 3.6840991935196753`*^9, {3.684099519804295*^9, 
   3.684099541348055*^9}, {3.6840997343083973`*^9, 3.684099816432733*^9}, {
   3.684100169619607*^9, 3.6841001736468277`*^9}, {3.684100402884281*^9, 
   3.684100411512261*^9}, {3.6841005086000032`*^9, 3.684100540493479*^9}, {
   3.68410061534379*^9, 3.684100657686246*^9}, {3.684100711764319*^9, 
   3.684100715138089*^9}}],

Cell[BoxData[{
 RowBox[{"WriteString", "[", 
  RowBox[{
  "outfile", ",", "\"\<        \>\"", ",", "\"\<default:\>\"", ",", 
   "\"\<\\n\>\"", ",", "\"\<            \>\"", ",", 
   "\"\<printf(\\\"Bad value for total_pulling_motors\\\\n\\\");\>\"", ",", 
   "\"\<\\n\>\""}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"WriteString", "[", 
  RowBox[{"outfile", ",", "\"\<    }\\n\>\"", ",", "\"\<}\\n\>\""}], 
  "]"}]}], "Input",
 CellChangeTimes->{{3.684099840640665*^9, 3.684099931812181*^9}, {
  3.6840999744158993`*^9, 3.68409998222359*^9}, {3.684100043368163*^9, 
  3.684100084620983*^9}, {3.6841001168977137`*^9, 3.684100160693183*^9}, {
  3.684100202273947*^9, 3.6841002029258747`*^9}, {3.684100279347612*^9, 
  3.684100298168747*^9}, {3.684100370877803*^9, 3.6841003714731607`*^9}, {
  3.684100419881982*^9, 3.6841004213560467`*^9}, {3.684100523328725*^9, 
  3.684100531020879*^9}, {3.684100563084326*^9, 3.684100566716979*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Close", "[", "outfile", "]"}]], "Input"],

Cell[BoxData["\<\"/Users/matthewbovyn/project_code/Motor_Freedom/tools/\
forwardequations.c\"\>"], "Output",
 CellChangeTimes->{{3.684100300257049*^9, 3.6841003123613777`*^9}, 
   3.684100438657907*^9, 3.684100553368664*^9, 3.6841005843912697`*^9, 
   3.684100673530526*^9, {3.684100722534998*^9, 3.684100732493864*^9}, 
   3.684102391742468*^9, 3.684102594087244*^9, 3.6841028306272573`*^9, 
   3.684121002174754*^9, 3.684122725655195*^9, 3.684123019930887*^9, 
   3.6841233523696623`*^9}]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{831, 755},
WindowMargins->{{90, Automatic}, {Automatic, 0}},
FrontEndVersion->"11.0 for Mac OS X x86 (32-bit, 64-bit Kernel) (July 28, \
2016)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 110, 1, 92, "Title"],
Cell[693, 25, 979, 17, 201, "Text"],
Cell[CellGroupData[{
Cell[1697, 46, 181, 2, 64, "Section"],
Cell[1881, 50, 265, 5, 49, "Text"],
Cell[2149, 57, 765, 18, 96, "Input"],
Cell[2917, 77, 159, 2, 30, "Text"],
Cell[3079, 81, 4124, 90, 201, "Input"],
Cell[7206, 173, 105, 1, 30, "Text"],
Cell[7314, 176, 5114, 115, 264, "Input"],
Cell[12431, 293, 105, 1, 30, "Text"],
Cell[12539, 296, 4675, 104, 180, "Input"],
Cell[17217, 402, 123, 1, 30, "Text"],
Cell[17343, 405, 316, 8, 32, "Input"],
Cell[17662, 415, 224, 4, 49, "Text"],
Cell[CellGroupData[{
Cell[17911, 423, 1178, 30, 54, "Input"],
Cell[19092, 455, 817, 19, 32, "Output"]
}, Open  ]],
Cell[19924, 477, 182, 4, 30, "Text"],
Cell[20109, 483, 558, 13, 32, "Input"],
Cell[20670, 498, 331, 6, 49, "Text"],
Cell[CellGroupData[{
Cell[21026, 508, 400, 8, 75, "Input"],
Cell[21429, 518, 266, 4, 32, "Output"],
Cell[21698, 524, 309, 6, 32, "Output"],
Cell[22010, 532, 286, 5, 32, "Output"]
}, Open  ]],
Cell[22311, 540, 236, 4, 49, "Text"],
Cell[22550, 546, 314, 7, 32, "Input"],
Cell[22867, 555, 187, 4, 30, "Text"],
Cell[23057, 561, 314, 8, 32, "Input"],
Cell[23374, 571, 310, 10, 31, "Text"],
Cell[23687, 583, 414, 9, 32, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[24138, 597, 104, 1, 64, "Section"],
Cell[24245, 600, 13219, 319, 789, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[37501, 924, 191, 2, 64, "Section"],
Cell[37695, 928, 591, 13, 54, "Input"],
Cell[38289, 943, 116, 1, 30, "Text"],
Cell[38408, 946, 912, 19, 75, "Input"],
Cell[39323, 967, 1868, 41, 180, "Input"],
Cell[41194, 1010, 932, 16, 75, "Input"],
Cell[CellGroupData[{
Cell[42151, 1030, 64, 1, 32, "Input"],
Cell[42218, 1033, 490, 7, 32, "Output"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}
]
*)

