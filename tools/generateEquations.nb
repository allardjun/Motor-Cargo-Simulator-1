(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 10.4' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     84255,       2190]
NotebookOptionsPosition[     80281,       2058]
NotebookOutlinePosition[     80641,       2074]
CellTagsIndexPosition[     80598,       2071]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Equations for forward euler", "Title",
 CellChangeTimes->{{3.670201171182211*^9, 3.670201183646469*^9}}],

Cell["\<\
This notebook generates a system of equations, solves it, then writes the \
resulting solved equations to a file in c-ish syntax. When the bash script \
CformToC.sh is then run on the written file, the result should be a c file \
which encodes the equations for the next value of the locations of the \
anchors of each motor, as well as the cargo.

The first section goes through the calculation in detail. Following that is a \
function which performs all the steps for a certain number of attached \
motors. Finally, there is code which loops over numbers of attached motors up \
from 1 to however many are desired and writes as close as possible to a c \
function which will return the next location given the previous one.

Note: to see outputs in first section, delete ; at end of line\
\>", "Text",
 CellChangeTimes->{{3.684120504191019*^9, 3.684120894327046*^9}, {
  3.68412289746591*^9, 3.684122903544365*^9}, {3.6841232064572563`*^9, 
  3.684123224352906*^9}}],

Cell[CellGroupData[{

Cell["Generate matrices for multiple motors stepwise", "Section",
 CellChangeTimes->{{3.684005009896345*^9, 3.68400502268918*^9}, {
  3.684120126101068*^9, 3.6841201275721607`*^9}}],

Cell["\<\
We want to generate the system of equations for the time evolution of the \
locations of the motor anchors and the cargo center. Derivation is detailed \
in the documentation.\
\>", "Text",
 CellChangeTimes->{{3.684120135236116*^9, 3.684120217257021*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "total", " ", "number", " ", "of", " ", "pulling", " ", "motors", " ", 
    "we", " ", "want", " ", "to", " ", "generate", " ", "the", " ", "system", 
    " ", "for"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"nmotors", "=", "0"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"place", " ", "to", " ", "store", " ", "equations"}], "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"eqs", "=", 
     RowBox[{"{", "}"}]}], ";"}]}]}]], "Input",
 CellChangeTimes->{{3.684006850561824*^9, 3.684006853861206*^9}, {
  3.6840072635739937`*^9, 3.68400726366322*^9}, {3.6840893617167673`*^9, 
  3.6840893939810457`*^9}, {3.684097990182609*^9, 3.684097990225583*^9}, {
  3.6854664258235607`*^9, 3.685466425876886*^9}}],

Cell["Generate equations for the sum of forces on each motor", "Text",
 CellChangeTimes->{
  3.68408951466551*^9, {3.684120232337236*^9, 3.68412024186471*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"For", "[", 
   RowBox[{
    RowBox[{"i", "=", "0"}], ",", 
    RowBox[{"i", "<", "nmotors"}], ",", 
    RowBox[{"i", "++"}], ",", 
    RowBox[{
     RowBox[{"eqs", "=", 
      RowBox[{"Join", "[", 
       RowBox[{
        RowBox[{"Thread", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"0", ",", "0", ",", "0"}], "}"}], "\[Equal]", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{
              RowBox[{"FmTangential", "[", "i", "]"}], "[", "0", "]"}], ",", 
             RowBox[{
              RowBox[{"FmTangential", "[", "i", "]"}], "[", "1", "]"}], ",", 
             RowBox[{
              RowBox[{"FmTangential", "[", "i", "]"}], "[", "2", "]"}]}], 
            "}"}], "+", 
           RowBox[{
            RowBox[{"xiAnchor", "[", "i", "]"}], " ", 
            RowBox[{"Cross", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"omega", "[", "0", "]"}], ",", 
                RowBox[{"omega", "[", "1", "]"}], ",", 
                RowBox[{"omega", "[", "2", "]"}]}], "}"}], ",", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{
                  RowBox[{"a", "[", "i", "]"}], "[", "0", "]"}], ",", 
                 RowBox[{
                  RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                 RowBox[{
                  RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}]}], "}"}], "-", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"c", "[", "0", "]"}], ",", 
                 RowBox[{"c", "[", "1", "]"}], ",", 
                 RowBox[{"c", "[", "2", "]"}]}], "}"}]}]}], "]"}]}], "-", 
           RowBox[{
            RowBox[{"xiAnchor", "[", "i", "]"}], 
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{
                  RowBox[{"a1", "[", "i", "]"}], "[", "0", "]"}], ",", 
                 RowBox[{
                  RowBox[{"a1", "[", "i", "]"}], "[", "1", "]"}], ",", 
                 RowBox[{
                  RowBox[{"a1", "[", "i", "]"}], "[", "2", "]"}]}], "}"}], 
               "-", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{
                  RowBox[{"a", "[", "i", "]"}], "[", "0", "]"}], ",", 
                 RowBox[{
                  RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                 RowBox[{
                  RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}]}], "}"}]}], 
              ")"}], "/", "dt"}]}]}]}], "]"}], ",", "\[IndentingNewLine]", 
        "eqs"}], "]"}]}], ";"}]}], "\[IndentingNewLine]", "]"}], 
  ";"}]], "Input",
 CellChangeTimes->{
  3.684005070286366*^9, {3.6840051312591476`*^9, 3.684005133171887*^9}, 
   3.684005242189466*^9, {3.684005531014655*^9, 3.684005551658716*^9}, {
   3.6840058716408367`*^9, 3.6840059376885777`*^9}, {3.684006011387332*^9, 
   3.6840061546669416`*^9}, {3.6840062047076063`*^9, 3.684006260461534*^9}, {
   3.684006397970166*^9, 3.684006408780736*^9}, {3.684006770861298*^9, 
   3.684006770939032*^9}, {3.684006847011498*^9, 3.684006848034906*^9}, 
   3.684006890627513*^9, {3.684007223604097*^9, 3.6840072271365547`*^9}, {
   3.684014337611184*^9, 3.684014340484227*^9}, 3.684014716323448*^9, {
   3.684014771126289*^9, 3.6840148501529713`*^9}, {3.684015321471341*^9, 
   3.6840153685980673`*^9}, {3.684015415308132*^9, 3.684015462714096*^9}, {
   3.684080544953635*^9, 3.6840805699907846`*^9}, {3.684081747967907*^9, 
   3.684081759326367*^9}, {3.684087989732126*^9, 3.6840880671649942`*^9}, {
   3.684088139734612*^9, 3.684088216559649*^9}, {3.68408826850152*^9, 
   3.684088355553761*^9}, {3.684088419363763*^9, 3.6840884231884604`*^9}, {
   3.684088473207036*^9, 3.6840885556043987`*^9}, {3.684088586943572*^9, 
   3.6840885972592154`*^9}, {3.684088636161887*^9, 3.684088742237227*^9}, {
   3.684089313331225*^9, 3.684089360368815*^9}, {3.684089398743702*^9, 
   3.6840894079775476`*^9}, {3.68408951830622*^9, 3.6840895462268972`*^9}, {
   3.684122183840743*^9, 3.684122188798298*^9}, 3.684122220062153*^9, {
   3.6853102496908216`*^9, 3.6853103371005163`*^9}, {3.685310946070952*^9, 
   3.68531095054405*^9}, {3.685315848064104*^9, 3.685315883487076*^9}}],

Cell["Sum of forces on cargo", "Text",
 CellChangeTimes->{{3.6840895537751904`*^9, 3.68408955812895*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"cargoForceEqs", "=", "\[IndentingNewLine]", 
   RowBox[{"Thread", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0"}], "}"}], "\[Equal]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"Ftrap", "[", "0", "]"}], ",", 
        RowBox[{"Ftrap", "[", "1", "]"}], ",", 
        RowBox[{"Ftrap", "[", "2", "]"}]}], "}"}], "+", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"Fsteric", "[", "0", "]"}], ",", 
        RowBox[{"Fsteric", "[", "1", "]"}], ",", 
        RowBox[{"Fsteric", "[", "2", "]"}]}], "}"}], "-", 
      "\[IndentingNewLine]", 
      RowBox[{"xiCargoTranslation", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"c1", "[", "0", "]"}], ",", 
            RowBox[{"c1", "[", "1", "]"}], ",", 
            RowBox[{"c1", "[", "2", "]"}]}], "}"}], "-", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"c", "[", "0", "]"}], ",", 
            RowBox[{"c", "[", "1", "]"}], ",", 
            RowBox[{"c", "[", "2", "]"}]}], "}"}]}], ")"}], "/", "dt"}]}], 
      "+", 
      RowBox[{"Sum", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{
            RowBox[{"FmRadial", "[", "i", "]"}], "[", "0", "]"}], ",", 
           RowBox[{
            RowBox[{"FmRadial", "[", "i", "]"}], "[", "1", "]"}], ",", 
           RowBox[{
            RowBox[{"FmRadial", "[", "i", "]"}], "[", "2", "]"}]}], "}"}], 
         "-", 
         RowBox[{
          RowBox[{"xiAnchor", "[", "i", "]"}], " ", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"Cross", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"omega", "[", "0", "]"}], ",", 
                RowBox[{"omega", "[", "1", "]"}], ",", 
                RowBox[{"omega", "[", "2", "]"}]}], "}"}], ",", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{
                  RowBox[{"a", "[", "i", "]"}], "[", "0", "]"}], ",", 
                 RowBox[{
                  RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                 RowBox[{
                  RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}]}], "}"}], "-", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"c", "[", "0", "]"}], ",", 
                 RowBox[{"c", "[", "1", "]"}], ",", 
                 RowBox[{"c", "[", "2", "]"}]}], "}"}]}]}], "]"}], "-", 
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{
                  RowBox[{"a1", "[", "i", "]"}], "[", "0", "]"}], ",", 
                 RowBox[{
                  RowBox[{"a1", "[", "i", "]"}], "[", "1", "]"}], ",", 
                 RowBox[{
                  RowBox[{"a1", "[", "i", "]"}], "[", "2", "]"}]}], "}"}], 
               "-", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{
                  RowBox[{"a", "[", "i", "]"}], "[", "0", "]"}], ",", 
                 RowBox[{
                  RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                 RowBox[{
                  RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}]}], "}"}]}], 
              ")"}], "/", "dt"}]}], ")"}]}]}], ",", 
        RowBox[{"{", 
         RowBox[{"i", ",", "0", ",", 
          RowBox[{"nmotors", "-", "1"}]}], "}"}]}], "]"}]}]}], "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{
  3.684005070286366*^9, {3.6840051312591476`*^9, 3.684005133171887*^9}, 
   3.684005242189466*^9, {3.684005531014655*^9, 3.684005551658716*^9}, {
   3.6840058716408367`*^9, 3.6840059376885777`*^9}, {3.684006011387332*^9, 
   3.6840061546669416`*^9}, {3.6840062047076063`*^9, 3.684006260461534*^9}, {
   3.684006397970166*^9, 3.684006408780736*^9}, {3.684006770861298*^9, 
   3.684006770939032*^9}, {3.684006847011498*^9, 3.684006848034906*^9}, 
   3.684006890627513*^9, {3.684007223604097*^9, 3.6840072271365547`*^9}, {
   3.684014337611184*^9, 3.684014340484227*^9}, 3.684014716323448*^9, {
   3.684014771126289*^9, 3.6840148501529713`*^9}, {3.684015321471341*^9, 
   3.6840153685980673`*^9}, {3.684015415308132*^9, 3.684015462714096*^9}, {
   3.684080544953635*^9, 3.6840805699907846`*^9}, {3.684081747967907*^9, 
   3.684081759326367*^9}, {3.684087989732126*^9, 3.6840880671649942`*^9}, {
   3.684088139734612*^9, 3.684088216559649*^9}, {3.68408826850152*^9, 
   3.684088355553761*^9}, {3.684088419363763*^9, 3.6840884231884604`*^9}, {
   3.684088473207036*^9, 3.6840885556043987`*^9}, {3.684088586943572*^9, 
   3.6840885972592154`*^9}, {3.684088636161887*^9, 3.684088742237227*^9}, {
   3.684089313331225*^9, 3.684089360368815*^9}, {3.684089398743702*^9, 
   3.6840894079775476`*^9}, {3.68408951830622*^9, 3.684089533992002*^9}, {
   3.684089567748877*^9, 3.6840895740818777`*^9}, {3.684089930559786*^9, 
   3.684089956592085*^9}, {3.6841229557080793`*^9, 3.684122962490375*^9}, {
   3.685310249705818*^9, 3.6853103371369457`*^9}, {3.685311941275979*^9, 
   3.68531194366955*^9}, 3.685312833879428*^9, {3.685315899410948*^9, 
   3.685315901779602*^9}}],

Cell["Sum of torques on cargo", "Text",
 CellChangeTimes->{{3.684089592644373*^9, 3.684089598662537*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"cargoTorqueEqs", "=", 
   RowBox[{"Thread", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0"}], "}"}], "\[Equal]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"TorqeExt", "[", "0", "]"}], ",", 
        RowBox[{"TorqeExt", "[", "1", "]"}], ",", 
        RowBox[{"TorqeExt", "[", "2", "]"}]}], "}"}], "-", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"omega", "[", "0", "]"}], ",", 
         RowBox[{"omega", "[", "1", "]"}], ",", 
         RowBox[{"omega", "[", "2", "]"}]}], "}"}], "xiCargoRotation"}], "-", 
      " ", 
      RowBox[{"Sum", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"xiAnchor", "[", "i", "]"}], 
         RowBox[{"Cross", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{
               RowBox[{"a", "[", "i", "]"}], "[", "0", "]"}], ",", 
              RowBox[{
               RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
              RowBox[{
               RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}]}], "}"}], "-", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"c", "[", "0", "]"}], ",", 
              RowBox[{"c", "[", "1", "]"}], ",", 
              RowBox[{"c", "[", "2", "]"}]}], "}"}]}], ",", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"Cross", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"omega", "[", "0", "]"}], ",", 
                 RowBox[{"omega", "[", "1", "]"}], ",", 
                 RowBox[{"omega", "[", "2", "]"}]}], "}"}], ",", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"a", "[", "i", "]"}], "[", "0", "]"}], ",", 
                  RowBox[{
                   RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                  RowBox[{
                   RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}]}], "}"}], 
                "-", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"c", "[", "0", "]"}], ",", 
                  RowBox[{"c", "[", "1", "]"}], ",", 
                  RowBox[{"c", "[", "2", "]"}]}], "}"}]}]}], "]"}], "-", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"a1", "[", "i", "]"}], "[", "0", "]"}], ",", 
                  RowBox[{
                   RowBox[{"a1", "[", "i", "]"}], "[", "1", "]"}], ",", 
                  RowBox[{
                   RowBox[{"a1", "[", "i", "]"}], "[", "2", "]"}]}], "}"}], 
                "-", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"a", "[", "i", "]"}], "[", "0", "]"}], ",", 
                  RowBox[{
                   RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                  RowBox[{
                   RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}]}], "}"}]}], 
               ")"}], "/", "dt"}]}], ")"}]}], "]"}]}], ",", 
        RowBox[{"{", 
         RowBox[{"i", ",", "0", ",", 
          RowBox[{"nmotors", "-", "1"}]}], "}"}]}], "]"}]}]}], "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{
  3.684005070286366*^9, {3.6840051312591476`*^9, 3.684005133171887*^9}, 
   3.684005242189466*^9, {3.684005531014655*^9, 3.684005551658716*^9}, {
   3.6840058716408367`*^9, 3.6840059376885777`*^9}, {3.684006011387332*^9, 
   3.6840061546669416`*^9}, {3.6840062047076063`*^9, 3.684006260461534*^9}, {
   3.684006397970166*^9, 3.684006408780736*^9}, {3.684006770861298*^9, 
   3.684006770939032*^9}, {3.684006847011498*^9, 3.684006848034906*^9}, 
   3.684006890627513*^9, {3.684007223604097*^9, 3.6840072271365547`*^9}, {
   3.684014337611184*^9, 3.684014340484227*^9}, 3.684014716323448*^9, {
   3.684014771126289*^9, 3.6840148501529713`*^9}, {3.684015321471341*^9, 
   3.6840153685980673`*^9}, {3.684015415308132*^9, 3.684015462714096*^9}, {
   3.684080544953635*^9, 3.6840805699907846`*^9}, {3.684081747967907*^9, 
   3.684081759326367*^9}, {3.684087989732126*^9, 3.6840880671649942`*^9}, {
   3.684088139734612*^9, 3.684088216559649*^9}, {3.68408826850152*^9, 
   3.684088355553761*^9}, {3.684088419363763*^9, 3.6840884231884604`*^9}, {
   3.684088473207036*^9, 3.6840885556043987`*^9}, {3.684088586943572*^9, 
   3.6840885972592154`*^9}, {3.684088636161887*^9, 3.684088742237227*^9}, {
   3.684089313331225*^9, 3.684089360368815*^9}, {3.684089398743702*^9, 
   3.6840894079775476`*^9}, {3.68408951830622*^9, 3.684089533992002*^9}, {
   3.6840896356471*^9, 3.684089814302346*^9}, {3.684089845105513*^9, 
   3.68408991459612*^9}, 3.684089960788517*^9, {3.684122998251582*^9, 
   3.684123000577752*^9}, {3.685310249720796*^9, 3.685310337166182*^9}, {
   3.685311946864621*^9, 3.685311951589477*^9}, {3.685315927059969*^9, 
   3.6853159356187067`*^9}, 3.685407204998826*^9}],

Cell["Join the equations together into a system", "Text",
 CellChangeTimes->{{3.684120271360635*^9, 3.684120284488654*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"eqs", "=", 
  RowBox[{
   RowBox[{"Join", "[", 
    RowBox[{"eqs", ",", "cargoForceEqs", ",", "cargoTorqueEqs"}], "]"}], "//",
    "Flatten"}]}]], "Input",
 CellChangeTimes->{{3.684089980552536*^9, 3.684090010918826*^9}, {
   3.684090232081958*^9, 3.684090234325091*^9}, 3.685311086986302*^9, 
   3.6853113812724037`*^9, 3.685315959198448*^9, 3.6853218195625963`*^9, {
   3.68546641175907*^9, 3.68546641995942*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"0", "\[Equal]", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{"xiCargoTranslation", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", 
           RowBox[{"c", "[", "0", "]"}]}], "+", 
          RowBox[{"c1", "[", "0", "]"}]}], ")"}]}], "dt"]}], "+", 
     RowBox[{"Fsteric", "[", "0", "]"}], "+", 
     RowBox[{"Ftrap", "[", "0", "]"}]}]}], ",", 
   RowBox[{"0", "\[Equal]", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{"xiCargoTranslation", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", 
           RowBox[{"c", "[", "1", "]"}]}], "+", 
          RowBox[{"c1", "[", "1", "]"}]}], ")"}]}], "dt"]}], "+", 
     RowBox[{"Fsteric", "[", "1", "]"}], "+", 
     RowBox[{"Ftrap", "[", "1", "]"}]}]}], ",", 
   RowBox[{"0", "\[Equal]", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{"xiCargoTranslation", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", 
           RowBox[{"c", "[", "2", "]"}]}], "+", 
          RowBox[{"c1", "[", "2", "]"}]}], ")"}]}], "dt"]}], "+", 
     RowBox[{"Fsteric", "[", "2", "]"}], "+", 
     RowBox[{"Ftrap", "[", "2", "]"}]}]}], ",", 
   RowBox[{"0", "\[Equal]", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "xiCargoRotation"}], " ", 
      RowBox[{"omega", "[", "0", "]"}]}], "+", 
     RowBox[{"TorqeExt", "[", "0", "]"}]}]}], ",", 
   RowBox[{"0", "\[Equal]", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "xiCargoRotation"}], " ", 
      RowBox[{"omega", "[", "1", "]"}]}], "+", 
     RowBox[{"TorqeExt", "[", "1", "]"}]}]}], ",", 
   RowBox[{"0", "\[Equal]", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "xiCargoRotation"}], " ", 
      RowBox[{"omega", "[", "2", "]"}]}], "+", 
     RowBox[{"TorqeExt", "[", "2", "]"}]}]}]}], "}"}]], "Output",
 CellChangeTimes->{{3.685466412184204*^9, 3.685466429166615*^9}}]
}, Open  ]],

Cell["\<\
Write out the dependent variables, namely the next positions of the anchors \
and the cargo, plus the rotational velocity of the cargo\
\>", "Text",
 CellChangeTimes->{{3.684120287592751*^9, 3.684120343729823*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"vars", "=", 
  RowBox[{
   RowBox[{"Join", "[", 
    RowBox[{
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{
          RowBox[{"a1", "[", "i", "]"}], "[", "0", "]"}], ",", 
         RowBox[{
          RowBox[{"a1", "[", "i", "]"}], "[", "1", "]"}], ",", 
         RowBox[{
          RowBox[{"a1", "[", "i", "]"}], "[", "2", "]"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"i", ",", "0", ",", 
         RowBox[{"nmotors", "-", "1"}]}], "}"}]}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"c1", "[", "0", "]"}], ",", 
       RowBox[{"c1", "[", "1", "]"}], ",", 
       RowBox[{"c1", "[", "2", "]"}], ",", 
       RowBox[{"omega", "[", "0", "]"}], ",", 
       RowBox[{"omega", "[", "1", "]"}], ",", 
       RowBox[{"omega", "[", "2", "]"}]}], "}"}]}], "]"}], "//", 
   "Flatten"}]}]], "Input",
 CellChangeTimes->{{3.684007637678495*^9, 3.6840076496835413`*^9}, {
  3.684007692456523*^9, 3.68400770691153*^9}, {3.684015389454631*^9, 
  3.684015393976955*^9}, {3.684090015857313*^9, 3.684090091209255*^9}, {
  3.6840901277163067`*^9, 3.684090146945503*^9}, {3.684123170364975*^9, 
  3.684123171482975*^9}, {3.6853102497356977`*^9, 3.6853103371778173`*^9}, {
  3.68531114799236*^9, 3.685311148115879*^9}, {3.685311192395866*^9, 
  3.68531119970837*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"c1", "[", "0", "]"}], ",", 
   RowBox[{"c1", "[", "1", "]"}], ",", 
   RowBox[{"c1", "[", "2", "]"}], ",", 
   RowBox[{"omega", "[", "0", "]"}], ",", 
   RowBox[{"omega", "[", "1", "]"}], ",", 
   RowBox[{"omega", "[", "2", "]"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.685310547555923*^9, {3.6853106148050203`*^9, 3.685310627375866*^9}, 
   3.685310698362002*^9, {3.6853109557496777`*^9, 3.685310967759658*^9}, {
   3.6853112013742247`*^9, 3.685311239219606*^9}, 3.685311387892908*^9, 
   3.68531149352052*^9, 3.685312008868663*^9, 3.685312840153104*^9, {
   3.6853129844879827`*^9, 3.685313000637269*^9}, 3.685314856126049*^9, 
   3.6853162563977947`*^9, 3.6853166074611998`*^9, 3.6853218656708612`*^9, 
   3.685389151199214*^9, 3.6854072272815447`*^9, 3.6854075142158833`*^9, 
   3.685416502217928*^9, 3.6854656889863577`*^9, 3.6854664292283792`*^9}]
}, Open  ]],

Cell["\<\
Turn this system of equations into a matrix problem, A.x=b (here A is coeff, \
b is const)\
\>", "Text",
 CellChangeTimes->{{3.684120365657811*^9, 3.6841204054416533`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"{", 
   RowBox[{"const", ",", "coeff"}], "}"}], "=", 
  RowBox[{"Simplify", "[", 
   RowBox[{
    RowBox[{"Normal", "@", 
     RowBox[{"CoefficientArrays", "[", 
      RowBox[{"eqs", ",", "vars"}], "]"}]}], ",", 
    RowBox[{"Assumptions", "\[Rule]", "assump"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.684006457661401*^9, 3.684006473456142*^9}, 
   3.684006567281929*^9, {3.6840068386748257`*^9, 3.6840068409015713`*^9}, {
   3.68400763564538*^9, 3.68400771497747*^9}, {3.684018572112109*^9, 
   3.6840185898307133`*^9}, {3.684018683936425*^9, 3.6840186930152273`*^9}, {
   3.685466463688097*^9, 3.685466487392379*^9}, {3.685466532685004*^9, 
   3.68546654503307*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{
        RowBox[{"xiCargoTranslation", " ", 
         RowBox[{"c", "[", "0", "]"}]}], "+", 
        RowBox[{"dt", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"Fsteric", "[", "0", "]"}], "+", 
           RowBox[{"Ftrap", "[", "0", "]"}]}], ")"}]}]}], "dt"]}], ",", 
     RowBox[{"-", 
      FractionBox[
       RowBox[{
        RowBox[{"xiCargoTranslation", " ", 
         RowBox[{"c", "[", "1", "]"}]}], "+", 
        RowBox[{"dt", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"Fsteric", "[", "1", "]"}], "+", 
           RowBox[{"Ftrap", "[", "1", "]"}]}], ")"}]}]}], "dt"]}], ",", 
     RowBox[{"-", 
      FractionBox[
       RowBox[{
        RowBox[{"xiCargoTranslation", " ", 
         RowBox[{"c", "[", "2", "]"}]}], "+", 
        RowBox[{"dt", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"Fsteric", "[", "2", "]"}], "+", 
           RowBox[{"Ftrap", "[", "2", "]"}]}], ")"}]}]}], "dt"]}], ",", 
     RowBox[{"-", 
      RowBox[{"TorqeExt", "[", "0", "]"}]}], ",", 
     RowBox[{"-", 
      RowBox[{"TorqeExt", "[", "1", "]"}]}], ",", 
     RowBox[{"-", 
      RowBox[{"TorqeExt", "[", "2", "]"}]}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       FractionBox["xiCargoTranslation", "dt"], ",", "0", ",", "0", ",", "0", 
       ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", 
       FractionBox["xiCargoTranslation", "dt"], ",", "0", ",", "0", ",", "0", 
       ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", 
       FractionBox["xiCargoTranslation", "dt"], ",", "0", ",", "0", ",", 
       "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
      "0", ",", "0", ",", "0", ",", "xiCargoRotation", ",", "0", ",", "0"}], 
      "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
      "0", ",", "0", ",", "0", ",", "0", ",", "xiCargoRotation", ",", "0"}], 
      "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
      "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "xiCargoRotation"}], 
      "}"}]}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{{3.685466464954368*^9, 3.6854664884308987`*^9}, 
   3.68546654588288*^9, 3.685466601586219*^9, 3.685466753858857*^9}]
}, Open  ]],

Cell["\<\
The result should be arrays of 3(nmotors+2) equations (3 components: x, y, z \
for each of the nmotors sum of forces equations for each motor, plus 2 for \
sum of forces and torques on cargo)\
\>", "Text",
 CellChangeTimes->{{3.68409051956328*^9, 3.6840905649788847`*^9}, {
  3.684097800709556*^9, 3.684097889425914*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"3", 
  RowBox[{"(", 
   RowBox[{"nmotors", "+", "2"}], ")"}]}], "\[IndentingNewLine]", 
 RowBox[{"Dimensions", "[", "coeff", "]"}], "\[IndentingNewLine]", 
 RowBox[{"Dimensions", "[", "const", "]"}]}], "Input",
 CellChangeTimes->{{3.6840073635073347`*^9, 3.684007374239601*^9}, {
  3.684090336371669*^9, 3.684090341610797*^9}, {3.68409048355317*^9, 
  3.684090510507255*^9}}],

Cell[BoxData["6"], "Output",
 CellChangeTimes->{
  3.6840073745679693`*^9, 3.684090274299241*^9, 3.6840903419678907`*^9, {
   3.684090493743384*^9, 3.684090511548506*^9}, 3.684097995580967*^9, 
   3.6841210011171627`*^9, 3.68412301856791*^9, 3.6841231823267403`*^9, 
   3.6853105476689053`*^9, {3.68531061492318*^9, 3.685310627529491*^9}, 
   3.685310698510097*^9, {3.685310955889697*^9, 3.685310967860005*^9}, {
   3.6853112207724257`*^9, 3.685311239337963*^9}, 3.685311387996059*^9, 
   3.6853114936080837`*^9, 3.685312008985652*^9, 3.685312840214675*^9, {
   3.685312984545863*^9, 3.685313000700417*^9}, 3.685314856186658*^9, 
   3.685316607540236*^9, 3.68532186573781*^9, 3.68538915128854*^9, 
   3.685407227339322*^9, 3.685407514299226*^9, 3.6854165023059273`*^9, 
   3.685465689070839*^9, 3.6854664292788057`*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"6", ",", "6"}], "}"}]], "Output",
 CellChangeTimes->{
  3.6840073745679693`*^9, 3.684090274299241*^9, 3.6840903419678907`*^9, {
   3.684090493743384*^9, 3.684090511548506*^9}, 3.684097995580967*^9, 
   3.6841210011171627`*^9, 3.68412301856791*^9, 3.6841231823267403`*^9, 
   3.6853105476689053`*^9, {3.68531061492318*^9, 3.685310627529491*^9}, 
   3.685310698510097*^9, {3.685310955889697*^9, 3.685310967860005*^9}, {
   3.6853112207724257`*^9, 3.685311239337963*^9}, 3.685311387996059*^9, 
   3.6853114936080837`*^9, 3.685312008985652*^9, 3.685312840214675*^9, {
   3.685312984545863*^9, 3.685313000700417*^9}, 3.685314856186658*^9, 
   3.685316607540236*^9, 3.68532186573781*^9, 3.68538915128854*^9, 
   3.685407227339322*^9, 3.685407514299226*^9, 3.6854165023059273`*^9, 
   3.685465689070839*^9, 3.685466429286682*^9}],

Cell[BoxData[
 RowBox[{"{", "6", "}"}]], "Output",
 CellChangeTimes->{
  3.6840073745679693`*^9, 3.684090274299241*^9, 3.6840903419678907`*^9, {
   3.684090493743384*^9, 3.684090511548506*^9}, 3.684097995580967*^9, 
   3.6841210011171627`*^9, 3.68412301856791*^9, 3.6841231823267403`*^9, 
   3.6853105476689053`*^9, {3.68531061492318*^9, 3.685310627529491*^9}, 
   3.685310698510097*^9, {3.685310955889697*^9, 3.685310967860005*^9}, {
   3.6853112207724257`*^9, 3.685311239337963*^9}, 3.685311387996059*^9, 
   3.6853114936080837`*^9, 3.685312008985652*^9, 3.685312840214675*^9, {
   3.685312984545863*^9, 3.685313000700417*^9}, 3.685314856186658*^9, 
   3.685316607540236*^9, 3.68532186573781*^9, 3.68538915128854*^9, 
   3.685407227339322*^9, 3.685407514299226*^9, 3.6854165023059273`*^9, 
   3.685465689070839*^9, 3.685466429291947*^9}]
}, Open  ]],

Cell["\<\
Using solve doesn\[CloseCurlyQuote]t appear to work, might be able to get it \
to with assumptions (would take forever to write out all of them)\
\>", "Text",
 CellChangeTimes->{{3.6840903656185904`*^9, 3.684090404678144*^9}}],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{"Solve", "[", 
   RowBox[{
    RowBox[{"coeff", ".", "vars"}], "\[Equal]", 
    RowBox[{"-", "const"}]}], "]"}], "*)"}]], "Input",
 CellChangeTimes->{{3.684007612164157*^9, 3.684007620669202*^9}, {
  3.684007723167364*^9, 3.6840077366785316`*^9}, {3.6840903584979773`*^9, 
  3.6840903614333344`*^9}, {3.6853164915929317`*^9, 3.685316524328871*^9}}],

Cell["\<\
However, Mathematica seems to have no trouble inverting the matrix, so we can \
solve it that way\
\>", "Text",
 CellChangeTimes->{{3.684090575250648*^9, 3.684090599493772*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"coeffinv", "=", 
   RowBox[{
    RowBox[{"Inverse", "[", "coeff", "]"}], "//", "Simplify"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.684008936600967*^9, 3.6840089402770147`*^9}, {
  3.684009201118938*^9, 3.684009236499383*^9}, {3.684018702408951*^9, 
  3.68401870405695*^9}}],

Cell[TextData[{
 "Then the solution to the system is ",
 Cell[BoxData[
  FormBox[
   RowBox[{"x", "=", 
    RowBox[{
     SuperscriptBox["A", 
      RowBox[{"-", "1"}]], "b"}]}], TraditionalForm]]],
 "\nNote we have to matrix multiply by -const here because of how \
CoefficiantArrays works"
}], "Text",
 CellChangeTimes->{{3.6841204255853567`*^9, 3.684120460783022*^9}, {
  3.685316433789064*^9, 3.685316485527651*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"invsoln", "=", 
   RowBox[{"Thread", "[", 
    RowBox[{"vars", "==", 
     RowBox[{"coeffinv", ".", 
      RowBox[{"-", "const"}]}]}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.684009261274222*^9, 3.68400926910183*^9}, {
   3.6840183088171263`*^9, 3.6840183235085773`*^9}, {3.684018479524437*^9, 
   3.684018481980887*^9}, {3.684019141901951*^9, 3.684019153859799*^9}, 
   3.684120990724759*^9, 3.6853162705297537`*^9, 3.685316385449687*^9, 
   3.68531642724189*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell["All in one function", "Section",
 CellChangeTimes->{{3.684098051773768*^9, 3.684098060121355*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"generateEqs", "[", "nmotors_", "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "eqs", ",", "i", ",", "vars", ",", "coeff", ",", "coeffinv", ",", 
      "const", ",", "rhs"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"eqs", "=", 
      RowBox[{"{", "}"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"For", "[", 
      RowBox[{
       RowBox[{"i", "=", "0"}], ",", 
       RowBox[{"i", "<", "nmotors"}], ",", 
       RowBox[{"i", "++"}], ",", 
       RowBox[{
        RowBox[{"eqs", "=", 
         RowBox[{"Join", "[", 
          RowBox[{
           RowBox[{"Thread", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"0", ",", "0", ",", "0"}], "}"}], "\[Equal]", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{
                 RowBox[{"FmTangential", "[", "i", "]"}], "[", "0", "]"}], 
                ",", 
                RowBox[{
                 RowBox[{"FmTangential", "[", "i", "]"}], "[", "1", "]"}], 
                ",", 
                RowBox[{
                 RowBox[{"FmTangential", "[", "i", "]"}], "[", "2", "]"}]}], 
               "}"}], "+", 
              RowBox[{
               RowBox[{"xiAnchor", "[", "i", "]"}], " ", 
               RowBox[{"Cross", "[", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"omega", "[", "0", "]"}], ",", 
                   RowBox[{"omega", "[", "1", "]"}], ",", 
                   RowBox[{"omega", "[", "2", "]"}]}], "}"}], ",", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "0", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}]}], "}"}], 
                  "-", 
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{"c", "[", "0", "]"}], ",", 
                    RowBox[{"c", "[", "1", "]"}], ",", 
                    RowBox[{"c", "[", "2", "]"}]}], "}"}]}]}], "]"}]}], "-", 
              RowBox[{
               RowBox[{"xiAnchor", "[", "i", "]"}], 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"a1", "[", "i", "]"}], "[", "0", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a1", "[", "i", "]"}], "[", "1", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a1", "[", "i", "]"}], "[", "2", "]"}]}], "}"}], 
                  "-", 
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "0", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}]}], "}"}]}], 
                 ")"}], "/", "dt"}]}]}]}], "]"}], ",", "\[IndentingNewLine]", 
           "eqs"}], "]"}]}], ";"}]}], "\[IndentingNewLine]", "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"eqs", "=", 
      RowBox[{"Join", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Thread", "[", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"0", ",", "0", ",", "0"}], "}"}], "\[Equal]", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"Ftrap", "[", "0", "]"}], ",", 
             RowBox[{"Ftrap", "[", "1", "]"}], ",", 
             RowBox[{"Ftrap", "[", "2", "]"}]}], "}"}], "+", 
           "\[IndentingNewLine]", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"Fsteric", "[", "0", "]"}], ",", 
             RowBox[{"Fsteric", "[", "1", "]"}], ",", 
             RowBox[{"Fsteric", "[", "2", "]"}]}], "}"}], "-", 
           "\[IndentingNewLine]", 
           RowBox[{"xiCargoTranslation", 
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"c1", "[", "0", "]"}], ",", 
                 RowBox[{"c1", "[", "1", "]"}], ",", 
                 RowBox[{"c1", "[", "2", "]"}]}], "}"}], "-", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"c", "[", "0", "]"}], ",", 
                 RowBox[{"c", "[", "1", "]"}], ",", 
                 RowBox[{"c", "[", "2", "]"}]}], "}"}]}], ")"}], "/", 
             "dt"}]}], "+", 
           RowBox[{"Sum", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{
                 RowBox[{"FmRadial", "[", "i", "]"}], "[", "0", "]"}], ",", 
                RowBox[{
                 RowBox[{"FmRadial", "[", "i", "]"}], "[", "1", "]"}], ",", 
                RowBox[{
                 RowBox[{"FmRadial", "[", "i", "]"}], "[", "2", "]"}]}], 
               "}"}], "-", 
              RowBox[{
               RowBox[{"xiAnchor", "[", "i", "]"}], " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"Cross", "[", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{
                    RowBox[{"omega", "[", "0", "]"}], ",", 
                    RowBox[{"omega", "[", "1", "]"}], ",", 
                    RowBox[{"omega", "[", "2", "]"}]}], "}"}], ",", 
                   RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "0", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}]}], "}"}], 
                    "-", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"c", "[", "0", "]"}], ",", 
                    RowBox[{"c", "[", "1", "]"}], ",", 
                    RowBox[{"c", "[", "2", "]"}]}], "}"}]}]}], "]"}], "-", 
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"a1", "[", "i", "]"}], "[", "0", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a1", "[", "i", "]"}], "[", "1", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a1", "[", "i", "]"}], "[", "2", "]"}]}], "}"}], 
                    "-", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "0", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}]}], "}"}]}], 
                   ")"}], "/", "dt"}]}], ")"}]}]}], ",", 
             RowBox[{"{", 
              RowBox[{"i", ",", "0", ",", 
               RowBox[{"nmotors", "-", "1"}]}], "}"}]}], "]"}]}]}], "]"}], 
        "\[IndentingNewLine]", ",", "eqs"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"eqs", "=", 
      RowBox[{"Join", "[", 
       RowBox[{
        RowBox[{"Thread", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"0", ",", "0", ",", "0"}], "}"}], "\[Equal]", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"TorqeExt", "[", "0", "]"}], ",", 
             RowBox[{"TorqeExt", "[", "1", "]"}], ",", 
             RowBox[{"TorqeExt", "[", "2", "]"}]}], "}"}], "-", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"omega", "[", "0", "]"}], ",", 
              RowBox[{"omega", "[", "1", "]"}], ",", 
              RowBox[{"omega", "[", "2", "]"}]}], "}"}], "xiCargoRotation"}], 
           "-", " ", 
           RowBox[{"Sum", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"xiAnchor", "[", "i", "]"}], 
              RowBox[{"Cross", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "0", "]"}], ",", 
                   RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                   RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}]}], "}"}], 
                 "-", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"c", "[", "0", "]"}], ",", 
                   RowBox[{"c", "[", "1", "]"}], ",", 
                   RowBox[{"c", "[", "2", "]"}]}], "}"}]}], ",", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"Cross", "[", 
                   RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"omega", "[", "0", "]"}], ",", 
                    RowBox[{"omega", "[", "1", "]"}], ",", 
                    RowBox[{"omega", "[", "2", "]"}]}], "}"}], ",", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "0", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}]}], "}"}], 
                    "-", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"c", "[", "0", "]"}], ",", 
                    RowBox[{"c", "[", "1", "]"}], ",", 
                    RowBox[{"c", "[", "2", "]"}]}], "}"}]}]}], "]"}], "-", 
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"a1", "[", "i", "]"}], "[", "0", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a1", "[", "i", "]"}], "[", "1", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a1", "[", "i", "]"}], "[", "2", "]"}]}], "}"}], 
                    "-", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "0", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "1", "]"}], ",", 
                    RowBox[{
                    RowBox[{"a", "[", "i", "]"}], "[", "2", "]"}]}], "}"}]}], 
                    ")"}], "/", "dt"}]}], ")"}]}], "]"}]}], ",", 
             RowBox[{"{", 
              RowBox[{"i", ",", "0", ",", 
               RowBox[{"nmotors", "-", "1"}]}], "}"}]}], "]"}]}]}], "]"}], 
        "\[IndentingNewLine]", ",", "eqs"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"vars", "=", 
      RowBox[{
       RowBox[{"Join", "[", 
        RowBox[{
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{
              RowBox[{"a1", "[", "i", "]"}], "[", "0", "]"}], ",", 
             RowBox[{
              RowBox[{"a1", "[", "i", "]"}], "[", "1", "]"}], ",", 
             RowBox[{
              RowBox[{"a1", "[", "i", "]"}], "[", "2", "]"}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"i", ",", "0", ",", 
             RowBox[{"nmotors", "-", "1"}]}], "}"}]}], "]"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"c1", "[", "0", "]"}], ",", 
           RowBox[{"c1", "[", "1", "]"}], ",", 
           RowBox[{"c1", "[", "2", "]"}], ",", 
           RowBox[{"omega", "[", "0", "]"}], ",", 
           RowBox[{"omega", "[", "1", "]"}], ",", 
           RowBox[{"omega", "[", "2", "]"}]}], "}"}]}], "]"}], "//", 
       "Flatten"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"const", ",", "coeff"}], "}"}], "=", 
      RowBox[{"Normal", "@", 
       RowBox[{"CoefficientArrays", "[", 
        RowBox[{"eqs", ",", "vars"}], "]"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"coeffinv", "=", 
      RowBox[{"Inverse", "[", "coeff", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{"Thread", "[", 
       RowBox[{"vars", "\[Equal]", 
        RowBox[{"coeffinv", ".", 
         RowBox[{"-", "const"}]}]}], "]"}], "*)"}], "\[IndentingNewLine]", 
     RowBox[{"rhs", "=", 
      RowBox[{"Simplify", "[", 
       RowBox[{
        RowBox[{"coeffinv", ".", 
         RowBox[{"-", "const"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"xiAnchor", "[", "x_", "]"}], "\[RuleDelayed]", " ", 
           RowBox[{"1", "/", 
            RowBox[{"muAnchor", "[", "x", "]"}]}]}], ",", 
          RowBox[{"xiCargoRotation", "\[Rule]", 
           RowBox[{"1", "/", "muCargoRotation"}]}], ",", 
          RowBox[{"xiCargoTranslation", "\[Rule]", 
           RowBox[{"1", "/", "muCargoTranslation"}]}]}], "}"}]}], "]"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"Thread", "[", 
      RowBox[{"vars", "\[Equal]", "rhs"}], "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.684098061912445*^9, 3.6840980638957357`*^9}, {
   3.684098157760518*^9, 3.684098223909584*^9}, {3.684098255264639*^9, 
   3.684098327748281*^9}, {3.684098365189097*^9, 3.684098451058679*^9}, {
   3.684098934649769*^9, 3.684099001226726*^9}, {3.684121899512581*^9, 
   3.6841219994825993`*^9}, {3.684122106585373*^9, 3.684122110992721*^9}, {
   3.684122272949432*^9, 3.684122307916671*^9}, {3.6841223491138*^9, 
   3.6841226416906548`*^9}, {3.684122933382709*^9, 3.684122938763883*^9}, {
   3.684122979124536*^9, 3.684122981515399*^9}, {3.684123940649873*^9, 
   3.6841239410173798`*^9}, {3.685310249758493*^9, 3.685310337079584*^9}, {
   3.685310576306416*^9, 3.6853105797907267`*^9}, {3.685311168075555*^9, 
   3.685311184072341*^9}, {3.685311982567634*^9, 3.685311990437042*^9}, 
   3.6853128228708763`*^9, {3.685312979958774*^9, 3.6853129946652946`*^9}, {
   3.685314765160187*^9, 3.685314771991033*^9}, {3.685314804552919*^9, 
   3.6853148507746*^9}, 3.6853164076918983`*^9, {3.685407062408455*^9, 
   3.685407119725513*^9}, {3.6854668367367983`*^9, 3.685466871140676*^9}, {
   3.685466926895163*^9, 3.685466932396701*^9}, {3.685467020170374*^9, 
   3.6854670374150133`*^9}, {3.6854670737191153`*^9, 3.685467115309704*^9}, {
   3.68546716593781*^9, 3.6854671794756613`*^9}, {3.6854673211762342`*^9, 
   3.685467325482188*^9}, {3.685468368218431*^9, 3.685468388771576*^9}, {
   3.6854684309544888`*^9, 3.685468501259468*^9}, 3.685468705593649*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Special case of 0 motors", "Section",
 CellChangeTimes->{{3.6853888261477423`*^9, 3.685388832238446*^9}}],

Cell["Easiest to look at", "Text",
 CellChangeTimes->{{3.685468243444017*^9, 3.685468246569477*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"invsoln", "=", 
  RowBox[{"generateEqs", "[", "0", "]"}]}]], "Input",
 CellChangeTimes->{{3.685311743265396*^9, 3.685311755806418*^9}, {
   3.685311807129068*^9, 3.685311817816437*^9}, 3.685312289331439*^9, {
   3.685315190211714*^9, 3.685315216419607*^9}, {3.685465596646974*^9, 
   3.685465603122868*^9}, {3.685465731576527*^9, 3.685465768441174*^9}, {
   3.6854658921805353`*^9, 3.685465893034176*^9}, {3.685466014028411*^9, 
   3.685466016964177*^9}, {3.685466123998111*^9, 3.6854661250868187`*^9}, {
   3.685466915351313*^9, 3.685466915440946*^9}, {3.685466964378644*^9, 
   3.68546696440827*^9}, {3.685467340476569*^9, 3.6854673405430393`*^9}, {
   3.6854673712781897`*^9, 3.685467406068653*^9}, {3.6854674408004427`*^9, 
   3.685467447485281*^9}, {3.685467545417192*^9, 3.685467548386901*^9}, {
   3.685468096884213*^9, 3.685468096945269*^9}, {3.685468667071039*^9, 
   3.6854686806721163`*^9}, {3.6854687628765507`*^9, 3.685468767754199*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{"c1", "[", "0", "]"}], "\[Equal]", 
    RowBox[{
     RowBox[{"c", "[", "0", "]"}], "+", 
     RowBox[{"dt", " ", "muCargoTranslation", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"Fsteric", "[", "0", "]"}], "+", 
        RowBox[{"Ftrap", "[", "0", "]"}]}], ")"}]}]}]}], ",", 
   RowBox[{
    RowBox[{"c1", "[", "1", "]"}], "\[Equal]", 
    RowBox[{
     RowBox[{"c", "[", "1", "]"}], "+", 
     RowBox[{"dt", " ", "muCargoTranslation", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"Fsteric", "[", "1", "]"}], "+", 
        RowBox[{"Ftrap", "[", "1", "]"}]}], ")"}]}]}]}], ",", 
   RowBox[{
    RowBox[{"c1", "[", "2", "]"}], "\[Equal]", 
    RowBox[{
     RowBox[{"c", "[", "2", "]"}], "+", 
     RowBox[{"dt", " ", "muCargoTranslation", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"Fsteric", "[", "2", "]"}], "+", 
        RowBox[{"Ftrap", "[", "2", "]"}]}], ")"}]}]}]}], ",", 
   RowBox[{
    RowBox[{"omega", "[", "0", "]"}], "\[Equal]", 
    RowBox[{"muCargoRotation", " ", 
     RowBox[{"TorqeExt", "[", "0", "]"}]}]}], ",", 
   RowBox[{
    RowBox[{"omega", "[", "1", "]"}], "\[Equal]", 
    RowBox[{"muCargoRotation", " ", 
     RowBox[{"TorqeExt", "[", "1", "]"}]}]}], ",", 
   RowBox[{
    RowBox[{"omega", "[", "2", "]"}], "\[Equal]", 
    RowBox[{"muCargoRotation", " ", 
     RowBox[{"TorqeExt", "[", "2", "]"}]}]}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.6854656034895372`*^9, 3.685465689213483*^9, 3.685465735106903*^9, 
   3.685465768915318*^9, 3.685465893772629*^9, 3.68546612617142*^9, 
   3.685466880574355*^9, {3.6854669161991043`*^9, 3.685466964984136*^9}, 
   3.6854670429073687`*^9, {3.685467183253808*^9, 3.685467185255321*^9}, {
   3.6854673354207697`*^9, 3.685467341113183*^9}, {3.6854673718206882`*^9, 
   3.685467406384935*^9}, 3.685467448683988*^9, 3.68546755005589*^9, 
   3.685468097487165*^9, 3.6854685124959383`*^9, {3.685468664171893*^9, 
   3.685468668721938*^9}, {3.685468700456657*^9, 3.685468728004751*^9}, {
   3.6854687636334343`*^9, 3.685468768208918*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"invsoln", "/.", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"xiAnchor", "[", "x_", "]"}], "\[RuleDelayed]", " ", 
      RowBox[{"1", "/", 
       RowBox[{"muAnchor", "[", "x", "]"}]}]}], ",", 
     RowBox[{"xiCargoRotation", "\[Rule]", 
      RowBox[{"1", "/", "muCargoRotation"}]}], ",", 
     RowBox[{"xiCargoTranslation", "\[Rule]", 
      RowBox[{"1", "/", "muCargoTranslation"}]}]}], "}"}]}], "//", 
  "Simplify"}]], "Input",
 CellChangeTimes->{{3.6854675214258823`*^9, 3.6854676806069736`*^9}, {
  3.685467759213982*^9, 3.68546780449142*^9}, {3.685467849211172*^9, 
  3.685467862383697*^9}, {3.685467898698846*^9, 3.685467900625087*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"c", "[", "0", "]"}], "+", 
     RowBox[{"dt", " ", "muCargoTranslation", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"Fsteric", "[", "0", "]"}], "+", 
        RowBox[{"Ftrap", "[", "0", "]"}]}], ")"}]}]}], "\[Equal]", 
    RowBox[{"c1", "[", "0", "]"}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"c", "[", "1", "]"}], "+", 
     RowBox[{"dt", " ", "muCargoTranslation", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"Fsteric", "[", "1", "]"}], "+", 
        RowBox[{"Ftrap", "[", "1", "]"}]}], ")"}]}]}], "\[Equal]", 
    RowBox[{"c1", "[", "1", "]"}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"c", "[", "2", "]"}], "+", 
     RowBox[{"dt", " ", "muCargoTranslation", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"Fsteric", "[", "2", "]"}], "+", 
        RowBox[{"Ftrap", "[", "2", "]"}]}], ")"}]}]}], "\[Equal]", 
    RowBox[{"c1", "[", "2", "]"}]}], ",", 
   RowBox[{
    RowBox[{"omega", "[", "0", "]"}], "\[Equal]", 
    RowBox[{"muCargoRotation", " ", 
     RowBox[{"TorqeExt", "[", "0", "]"}]}]}], ",", 
   RowBox[{
    RowBox[{"omega", "[", "1", "]"}], "\[Equal]", 
    RowBox[{"muCargoRotation", " ", 
     RowBox[{"TorqeExt", "[", "1", "]"}]}]}], ",", 
   RowBox[{
    RowBox[{"omega", "[", "2", "]"}], "\[Equal]", 
    RowBox[{"muCargoRotation", " ", 
     RowBox[{"TorqeExt", "[", "2", "]"}]}]}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.6854676326119328`*^9, {3.685467891078171*^9, 3.685467901321004*^9}, 
   3.685468100065701*^9}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["List of assumptions that are applicable", "Section",
 CellChangeTimes->{{3.685465793259143*^9, 3.6854658033491383`*^9}}],

Cell["\<\
Can simplify the equations and reduce number of operations by listing out \
assumptions\
\>", "Text",
 CellChangeTimes->{{3.685465806915616*^9, 3.6854658311930323`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"assump", "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"xiCargoTranslation", ">", "0"}], ",", 
    RowBox[{"xiCargoRotation", ">", "0"}], ",", 
    RowBox[{"xiAnchor", ">", "0"}], ",", 
    RowBox[{"dt", ">", "0"}], ",", 
    RowBox[{"Element", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "xiAnchor", ",", "xiCargoRotation", ",", "xiCargoTranslation"}], "}"}],
       ",", "Reals"}], "]"}]}], "}"}]}]], "Input",
 CellChangeTimes->{{3.685465834224248*^9, 3.685465880422881*^9}, {
  3.6854665837034407`*^9, 3.6854666096006947`*^9}, {3.685466715474777*^9, 
  3.68546674307008*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"xiCargoTranslation", ">", "0"}], ",", 
   RowBox[{"xiCargoRotation", ">", "0"}], ",", 
   RowBox[{"xiAnchor", ">", "0"}], ",", 
   RowBox[{"dt", ">", "0"}], ",", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{"xiAnchor", "|", "xiCargoRotation", "|", "xiCargoTranslation"}], 
     ")"}], "\[Element]", "Reals"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.685465887525001*^9, {3.685466595963521*^9, 3.6854666116560926`*^9}, 
   3.685466744223613*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"assump2", "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"muCargoTranslation", ">", "0"}], ",", 
    RowBox[{"muCargoRotation", ">", "0"}], ",", 
    RowBox[{"muAnchor", ">", "0"}], ",", 
    RowBox[{"dt", ">", "0"}], ",", 
    RowBox[{"Element", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "muAnchor", ",", "muCargoRotation", ",", "muCargoTranslation", ",", 
        "dt"}], "}"}], ",", "Reals"}], "]"}]}], "}"}]}]], "Input",
 CellChangeTimes->{{3.6854682713202887`*^9, 3.6854682785420923`*^9}, {
  3.685468314115395*^9, 3.685468326602062*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"muCargoTranslation", ">", "0"}], ",", 
   RowBox[{"muCargoRotation", ">", "0"}], ",", 
   RowBox[{"muAnchor", ">", "0"}], ",", 
   RowBox[{"dt", ">", "0"}], ",", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{
     "muAnchor", "|", "muCargoRotation", "|", "muCargoTranslation", "|", 
      "dt"}], ")"}], "\[Element]", "Reals"}]}], "}"}]], "Output",
 CellChangeTimes->{3.685468330618637*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"invsoln", "=", 
  RowBox[{"generateEqs", "[", "0", "]"}]}]], "Input",
 CellChangeTimes->{{3.685466330426907*^9, 3.685466341626891*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{"c1", "[", "0", "]"}], "\[Equal]", 
    FractionBox[
     RowBox[{
      RowBox[{"xiCargoTranslation", " ", 
       RowBox[{"c", "[", "0", "]"}]}], "+", 
      RowBox[{"dt", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"Fsteric", "[", "0", "]"}], "+", 
         RowBox[{"Ftrap", "[", "0", "]"}]}], ")"}]}]}], 
     "xiCargoTranslation"]}], ",", 
   RowBox[{
    RowBox[{"c1", "[", "1", "]"}], "\[Equal]", 
    FractionBox[
     RowBox[{
      RowBox[{"xiCargoTranslation", " ", 
       RowBox[{"c", "[", "1", "]"}]}], "+", 
      RowBox[{"dt", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"Fsteric", "[", "1", "]"}], "+", 
         RowBox[{"Ftrap", "[", "1", "]"}]}], ")"}]}]}], 
     "xiCargoTranslation"]}], ",", 
   RowBox[{
    RowBox[{"c1", "[", "2", "]"}], "\[Equal]", 
    FractionBox[
     RowBox[{
      RowBox[{"xiCargoTranslation", " ", 
       RowBox[{"c", "[", "2", "]"}]}], "+", 
      RowBox[{"dt", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"Fsteric", "[", "2", "]"}], "+", 
         RowBox[{"Ftrap", "[", "2", "]"}]}], ")"}]}]}], 
     "xiCargoTranslation"]}], ",", 
   RowBox[{
    RowBox[{"omega", "[", "0", "]"}], "\[Equal]", 
    FractionBox[
     RowBox[{"TorqeExt", "[", "0", "]"}], "xiCargoRotation"]}], ",", 
   RowBox[{
    RowBox[{"omega", "[", "1", "]"}], "\[Equal]", 
    FractionBox[
     RowBox[{"TorqeExt", "[", "1", "]"}], "xiCargoRotation"]}], ",", 
   RowBox[{
    RowBox[{"omega", "[", "2", "]"}], "\[Equal]", 
    FractionBox[
     RowBox[{"TorqeExt", "[", "2", "]"}], "xiCargoRotation"]}]}], 
  "}"}]], "Output",
 CellChangeTimes->{{3.685466343340007*^9, 3.685466357210354*^9}, 
   3.685466777477577*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Simplify", "[", 
  RowBox[{"invsoln", ",", 
   RowBox[{"Assumptions", "\[Rule]", "assump"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.685466010131773*^9, 3.6854660109853*^9}, {
  3.685466134278133*^9, 3.685466150760227*^9}, {3.6854663517520227`*^9, 
  3.6854663527137747`*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{"xiCargoTranslation", " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"-", 
        RowBox[{"c", "[", "0", "]"}]}], "+", 
       RowBox[{"c1", "[", "0", "]"}]}], ")"}]}], "\[Equal]", 
    RowBox[{"dt", " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"Fsteric", "[", "0", "]"}], "+", 
       RowBox[{"Ftrap", "[", "0", "]"}]}], ")"}]}]}], ",", 
   RowBox[{
    RowBox[{"xiCargoTranslation", " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"-", 
        RowBox[{"c", "[", "1", "]"}]}], "+", 
       RowBox[{"c1", "[", "1", "]"}]}], ")"}]}], "\[Equal]", 
    RowBox[{"dt", " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"Fsteric", "[", "1", "]"}], "+", 
       RowBox[{"Ftrap", "[", "1", "]"}]}], ")"}]}]}], ",", 
   RowBox[{
    RowBox[{"xiCargoTranslation", " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"-", 
        RowBox[{"c", "[", "2", "]"}]}], "+", 
       RowBox[{"c1", "[", "2", "]"}]}], ")"}]}], "\[Equal]", 
    RowBox[{"dt", " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"Fsteric", "[", "2", "]"}], "+", 
       RowBox[{"Ftrap", "[", "2", "]"}]}], ")"}]}]}], ",", 
   RowBox[{
    RowBox[{"xiCargoRotation", " ", 
     RowBox[{"omega", "[", "0", "]"}]}], "\[Equal]", 
    RowBox[{"TorqeExt", "[", "0", "]"}]}], ",", 
   RowBox[{
    RowBox[{"xiCargoRotation", " ", 
     RowBox[{"omega", "[", "1", "]"}]}], "\[Equal]", 
    RowBox[{"TorqeExt", "[", "1", "]"}]}], ",", 
   RowBox[{
    RowBox[{"xiCargoRotation", " ", 
     RowBox[{"omega", "[", "2", "]"}]}], "\[Equal]", 
    RowBox[{"TorqeExt", "[", "2", "]"}]}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.685466151652707*^9, {3.685466353411879*^9, 3.68546635927453*^9}, 
   3.685466780381435*^9}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Write file with iterations of different numbers of motors", "Section",
 CellChangeTimes->{{3.684098531303584*^9, 3.684098537535494*^9}, {
  3.684098604822413*^9, 3.684098628446341*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"outfileLoc", "=", 
   RowBox[{"CreateFile", "[", 
    RowBox[{
     RowBox[{"NotebookDirectory", "[", "]"}], "<>", 
     "\"\<forwardequations.c\>\""}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"outfile", "=", 
   RowBox[{"File", "[", "outfileLoc", "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.684098648719748*^9, 3.684098677654524*^9}, 
   3.6840991788294983`*^9, 3.68409921040814*^9, {3.684102465568993*^9, 
   3.684102482037467*^9}, {3.684102558481722*^9, 3.684102578910823*^9}, {
   3.684122712337173*^9, 3.684122713519846*^9}}],

Cell["Write C function beginning lines", "Text",
 CellChangeTimes->{{3.6840992130621567`*^9, 3.684099228238578*^9}}],

Cell[BoxData[{
 RowBox[{"WriteString", "[", 
  RowBox[{
  "outfile", ",", "\"\<//prototypes\>\"", ",", "\"\<\\n\>\"", ",", 
   "\"\<void compute_next_locations();\>\"", ",", "\"\<\\n\\n\>\""}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"WriteString", "[", 
  RowBox[{
  "outfile", ",", "\"\<void compute_next_locations(){\>\"", ",", 
   "\"\<\\n\>\""}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"WriteString", "[", 
  RowBox[{
  "outfile", ",", "\"\<    \>\"", ",", "\"\<switch(total_motors){\>\"", ",", 
   "\"\<\\n\>\""}], "]"}]}], "Input",
 CellChangeTimes->{{3.684099231380281*^9, 3.684099240084999*^9}, {
  3.6840992762656183`*^9, 3.684099515878077*^9}, {3.6840996083649063`*^9, 
  3.684099671532875*^9}, {3.6840997024259577`*^9, 3.684099710873991*^9}, {
  3.68410043232519*^9, 3.684100434844616*^9}, {3.684100489632914*^9, 
  3.684100491769526*^9}, {3.684102822946341*^9, 3.684102824329294*^9}, {
  3.685388941745635*^9, 3.685388952817151*^9}, {3.685407473277313*^9, 
  3.685407474546224*^9}}],

Cell[BoxData[
 RowBox[{"For", "[", 
  RowBox[{
   RowBox[{"j", "=", "0"}], ",", 
   RowBox[{"j", "\[LessEqual]", "5"}], ",", 
   RowBox[{"j", "++"}], ",", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"WriteString", "[", 
     RowBox[{
     "outfile", ",", "\"\<        \>\"", ",", "\"\<case \>\"", ",", "j", ",", 
      "\"\<:\>\"", ",", "\"\<\\n\>\""}], "]"}], ";", "\[IndentingNewLine]", 
    RowBox[{"invsoln", "=", 
     RowBox[{"generateEqs", "[", "j", "]"}]}], ";", "\[IndentingNewLine]", 
    RowBox[{"For", "[", 
     RowBox[{
      RowBox[{"i", "=", "1"}], ",", 
      RowBox[{"i", "\[LessEqual]", " ", 
       RowBox[{"3", 
        RowBox[{"(", 
         RowBox[{"j", "+", "2"}], ")"}]}]}], ",", 
      RowBox[{"i", "++"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"WriteString", "[", 
        RowBox[{"outfile", ",", "\"\<            \>\"", ",", 
         RowBox[{"CForm", "[", 
          RowBox[{"invsoln", "[", 
           RowBox[{"[", "i", "]"}], "]"}], "]"}], ",", "\"\<;\>\"", ",", 
         "\"\<\\n\\n\>\""}], "]"}], ";"}]}], "\[IndentingNewLine]", "]"}], 
    ";", "\[IndentingNewLine]", 
    RowBox[{"WriteString", "[", 
     RowBox[{
     "outfile", ",", "\"\<            \>\"", ",", "\"\<break;\>\"", ",", 
      "\"\<\\n\\n\>\""}], "]"}], ";"}]}], "\[IndentingNewLine]", 
  "]"}]], "Input",
 CellChangeTimes->{{3.684098684247036*^9, 3.684098766686006*^9}, {
   3.684098856697693*^9, 3.684098878004724*^9}, {3.684099061289969*^9, 
   3.6840991277763557`*^9}, 3.6840991935196753`*^9, {3.684099519804295*^9, 
   3.684099541348055*^9}, {3.6840997343083973`*^9, 3.684099816432733*^9}, {
   3.684100169619607*^9, 3.6841001736468277`*^9}, {3.684100402884281*^9, 
   3.684100411512261*^9}, {3.6841005086000032`*^9, 3.684100540493479*^9}, {
   3.68410061534379*^9, 3.684100657686246*^9}, {3.684100711764319*^9, 
   3.684100715138089*^9}, {3.685310680916917*^9, 3.685310683885453*^9}, {
   3.6853114763699017`*^9, 3.685311479619326*^9}, {3.685407221763399*^9, 
   3.685407221799777*^9}, {3.685465676220456*^9, 3.685465676259206*^9}, {
   3.6854659373040123`*^9, 3.685465953817956*^9}, {3.6854685904634333`*^9, 
   3.68546859084135*^9}, {3.685468806323731*^9, 3.6854688063796387`*^9}, {
   3.685471190990142*^9, 3.685471191024145*^9}}],

Cell[BoxData[{
 RowBox[{"WriteString", "[", 
  RowBox[{
  "outfile", ",", "\"\<        \>\"", ",", "\"\<default:\>\"", ",", 
   "\"\<\\n\>\"", ",", "\"\<            \>\"", ",", 
   "\"\<printf(\\\"Bad value for total_motors\\\\n\\\");\>\"", ",", 
   "\"\<\\n\>\""}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"WriteString", "[", 
  RowBox[{"outfile", ",", "\"\<    }\\n\>\"", ",", "\"\<}\\n\>\""}], 
  "]"}]}], "Input",
 CellChangeTimes->{{3.684099840640665*^9, 3.684099931812181*^9}, {
  3.6840999744158993`*^9, 3.68409998222359*^9}, {3.684100043368163*^9, 
  3.684100084620983*^9}, {3.6841001168977137`*^9, 3.684100160693183*^9}, {
  3.684100202273947*^9, 3.6841002029258747`*^9}, {3.684100279347612*^9, 
  3.684100298168747*^9}, {3.684100370877803*^9, 3.6841003714731607`*^9}, {
  3.684100419881982*^9, 3.6841004213560467`*^9}, {3.684100523328725*^9, 
  3.684100531020879*^9}, {3.684100563084326*^9, 3.684100566716979*^9}, {
  3.685416480599662*^9, 3.685416481870009*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Close", "[", "outfile", "]"}]], "Input"],

Cell[BoxData["\<\"/Users/Matt/project_code/Motor_Freedom/tools/\
forwardequations.c\"\>"], "Output",
 CellChangeTimes->{{3.684100300257049*^9, 3.6841003123613777`*^9}, 
   3.684100438657907*^9, 3.684100553368664*^9, 3.6841005843912697`*^9, 
   3.684100673530526*^9, {3.684100722534998*^9, 3.684100732493864*^9}, 
   3.684102391742468*^9, 3.684102594087244*^9, 3.6841028306272573`*^9, 
   3.684121002174754*^9, 3.684122725655195*^9, 3.684123019930887*^9, 
   3.6841233523696623`*^9, 3.685310548666443*^9, {3.685310618702059*^9, 
   3.6853106288145733`*^9}, 3.68531069968434*^9, {3.685310957682103*^9, 
   3.685310969501884*^9}, 3.685311255730791*^9, 3.685311402237832*^9, 
   3.6853115071808147`*^9, 3.685312010253036*^9, 3.685312841126239*^9, {
   3.685312985680805*^9, 3.6853130014500933`*^9}, 3.685314857065839*^9, 
   3.685316608044868*^9, 3.6853218660793743`*^9, 3.685389151945215*^9, 
   3.685407229598117*^9, 3.685407515813778*^9, 3.685416503740095*^9, {
   3.6854656908324947`*^9, 3.685465700600263*^9}, 3.685466038857834*^9, 
   3.685468637688806*^9, {3.685468811556815*^9, 3.6854688194929333`*^9}, 
   3.6854712321194677`*^9}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Testing", "Section",
 CellChangeTimes->{{3.6853117361432056`*^9, 3.6853117417205057`*^9}}],

Cell["If all forces are 0, should simplify to a1=a, c1=c, omega=0", "Text",
 CellChangeTimes->{{3.685312226178508*^9, 3.685312269040287*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"invsoln", "=", 
   RowBox[{"generateEqs", "[", "1", "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.685311743265396*^9, 3.685311755806418*^9}, {
   3.685311807129068*^9, 3.685311817816437*^9}, 3.685312289331439*^9, {
   3.685315190211714*^9, 3.685315216419607*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"invsoln", "/.", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"FmTangential", "[", "0", "]"}], "[", "0", "]"}], "\[Rule]", 
      "0"}], ",", 
     RowBox[{
      RowBox[{
       RowBox[{"FmTangential", "[", "0", "]"}], "[", "1", "]"}], "\[Rule]", 
      "0"}], ",", 
     RowBox[{
      RowBox[{
       RowBox[{"FmTangential", "[", "0", "]"}], "[", "2", "]"}], "\[Rule]", 
      "0"}], ",", 
     RowBox[{
      RowBox[{
       RowBox[{"FmRadial", "[", "0", "]"}], "[", "0", "]"}], "\[Rule]", "0"}],
      ",", 
     RowBox[{
      RowBox[{
       RowBox[{"FmRadial", "[", "0", "]"}], "[", "1", "]"}], "\[Rule]", "0"}],
      ",", 
     RowBox[{
      RowBox[{
       RowBox[{"FmRadial", "[", "0", "]"}], "[", "2", "]"}], "\[Rule]", "0"}],
      ",", 
     RowBox[{
      RowBox[{"Fsteric", "[", "0", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"Fsteric", "[", "1", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"Fsteric", "[", "2", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"Ftrap", "[", "0", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"Ftrap", "[", "1", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"Ftrap", "[", "2", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"TorqeExt", "[", "0", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"TorqeExt", "[", "1", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"TorqeExt", "[", "2", "]"}], "\[Rule]", "0"}]}], "}"}]}], "//", 
  "Simplify"}]], "Input",
 CellChangeTimes->{{3.6853118098066807`*^9, 3.68531184518676*^9}, {
  3.685312044684111*^9, 3.685312059048627*^9}, {3.6853121588028812`*^9, 
  3.685312206507292*^9}, {3.685407166613646*^9, 3.685407176299637*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"a", "[", "0", "]"}], "[", "0", "]"}], "\[Equal]", 
    RowBox[{
     RowBox[{"a1", "[", "0", "]"}], "[", "0", "]"}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"a", "[", "0", "]"}], "[", "1", "]"}], "\[Equal]", 
    RowBox[{
     RowBox[{"a1", "[", "0", "]"}], "[", "1", "]"}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"a", "[", "0", "]"}], "[", "2", "]"}], "\[Equal]", 
    RowBox[{
     RowBox[{"a1", "[", "0", "]"}], "[", "2", "]"}]}], ",", 
   RowBox[{
    RowBox[{"c", "[", "0", "]"}], "\[Equal]", 
    RowBox[{"c1", "[", "0", "]"}]}], ",", 
   RowBox[{
    RowBox[{"c", "[", "1", "]"}], "\[Equal]", 
    RowBox[{"c1", "[", "1", "]"}]}], ",", 
   RowBox[{
    RowBox[{"c", "[", "2", "]"}], "\[Equal]", 
    RowBox[{"c1", "[", "2", "]"}]}], ",", 
   RowBox[{
    RowBox[{"omega", "[", "0", "]"}], "\[Equal]", "0"}], ",", 
   RowBox[{
    RowBox[{"omega", "[", "1", "]"}], "\[Equal]", "0"}], ",", 
   RowBox[{
    RowBox[{"omega", "[", "2", "]"}], "\[Equal]", "0"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.6853122070263243`*^9, {3.685312841610694*^9, 3.685312861320689*^9}, {
   3.685312985869761*^9, 3.685313001665258*^9}, {3.6853148573301992`*^9, 
   3.6853148799213457`*^9}, 3.685315294823612*^9, 3.685316414325128*^9, {
   3.685316595181591*^9, 3.6853166081293697`*^9}, 3.685321866171012*^9, 
   3.685389152058531*^9, 3.6854071841584272`*^9, 3.685407229771969*^9, 
   3.685407515901168*^9, 3.68541650383854*^9, 3.685465690923542*^9, 
   3.685468858570932*^9}]
}, Open  ]],

Cell["For more anchors ", "Text",
 CellChangeTimes->{{3.685469932854989*^9, 3.685469941074626*^9}, {
  3.685469972383471*^9, 3.685469974543227*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"invsoln", "=", 
   RowBox[{"generateEqs", "[", "2", "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.685311743265396*^9, 3.685311755806418*^9}, {
   3.685311807129068*^9, 3.685311817816437*^9}, 3.685312289331439*^9, {
   3.685315190211714*^9, 3.685315216419607*^9}, {3.685469994158395*^9, 
   3.685469994243108*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"invsoln", "/.", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"FmTangential", "[", "x_", "]"}], "[", "y_", "]"}], 
      "\[RuleDelayed]", "0"}], ",", 
     RowBox[{
      RowBox[{
       RowBox[{"FmRadial", "[", "x_", "]"}], "[", "y_", "]"}], 
      "\[RuleDelayed]", "0"}], ",", 
     RowBox[{
      RowBox[{"Fsteric", "[", "0", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"Fsteric", "[", "1", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"Fsteric", "[", "2", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"Ftrap", "[", "0", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"Ftrap", "[", "1", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"Ftrap", "[", "2", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"TorqeExt", "[", "0", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"TorqeExt", "[", "1", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"TorqeExt", "[", "2", "]"}], "\[Rule]", "0"}]}], "}"}]}], "//", 
  "Simplify"}]], "Input",
 CellChangeTimes->{{3.6853118098066807`*^9, 3.68531184518676*^9}, {
   3.685312044684111*^9, 3.685312059048627*^9}, {3.6853121588028812`*^9, 
   3.685312206507292*^9}, {3.685407166613646*^9, 3.685407176299637*^9}, {
   3.685469997437358*^9, 3.6854700419430323`*^9}, {3.685470075414962*^9, 
   3.685470084489835*^9}, 3.68547239881627*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"a", "[", "0", "]"}], "[", "0", "]"}], "\[Equal]", 
    RowBox[{
     RowBox[{"a1", "[", "0", "]"}], "[", "0", "]"}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"a", "[", "0", "]"}], "[", "1", "]"}], "\[Equal]", 
    RowBox[{
     RowBox[{"a1", "[", "0", "]"}], "[", "1", "]"}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"a", "[", "0", "]"}], "[", "2", "]"}], "\[Equal]", 
    RowBox[{
     RowBox[{"a1", "[", "0", "]"}], "[", "2", "]"}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"a", "[", "1", "]"}], "[", "0", "]"}], "\[Equal]", 
    RowBox[{
     RowBox[{"a1", "[", "1", "]"}], "[", "0", "]"}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"a", "[", "1", "]"}], "[", "1", "]"}], "\[Equal]", 
    RowBox[{
     RowBox[{"a1", "[", "1", "]"}], "[", "1", "]"}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"a", "[", "1", "]"}], "[", "2", "]"}], "\[Equal]", 
    RowBox[{
     RowBox[{"a1", "[", "1", "]"}], "[", "2", "]"}]}], ",", 
   RowBox[{
    RowBox[{"c", "[", "0", "]"}], "\[Equal]", 
    RowBox[{"c1", "[", "0", "]"}]}], ",", 
   RowBox[{
    RowBox[{"c", "[", "1", "]"}], "\[Equal]", 
    RowBox[{"c1", "[", "1", "]"}]}], ",", 
   RowBox[{
    RowBox[{"c", "[", "2", "]"}], "\[Equal]", 
    RowBox[{"c1", "[", "2", "]"}]}], ",", 
   RowBox[{
    RowBox[{"omega", "[", "0", "]"}], "\[Equal]", "0"}], ",", 
   RowBox[{
    RowBox[{"omega", "[", "1", "]"}], "\[Equal]", "0"}], ",", 
   RowBox[{
    RowBox[{"omega", "[", "2", "]"}], "\[Equal]", "0"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.6853122070263243`*^9, {3.685312841610694*^9, 3.685312861320689*^9}, {
   3.685312985869761*^9, 3.685313001665258*^9}, {3.6853148573301992`*^9, 
   3.6853148799213457`*^9}, 3.685315294823612*^9, 3.685316414325128*^9, {
   3.685316595181591*^9, 3.6853166081293697`*^9}, 3.685321866171012*^9, 
   3.685389152058531*^9, 3.6854071841584272`*^9, 3.685407229771969*^9, 
   3.685407515901168*^9, 3.68541650383854*^9, 3.685465690923542*^9, 
   3.685468858570932*^9, {3.685470060591865*^9, 3.685470085048129*^9}}]
}, Open  ]],

Cell["\<\
Want to take a look at equations for only external torque in the z direction\
\>", "Text",
 CellChangeTimes->{{3.685470100520462*^9, 3.6854701195630827`*^9}, {
  3.685471093817589*^9, 3.685471095771871*^9}, {3.6854724282536697`*^9, 
  3.6854724307388973`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"invsoln", "=", 
   RowBox[{"generateEqs", "[", "1", "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.685470128162623*^9, 3.6854701282293262`*^9}, 
   3.685471596681834*^9, 3.685472300550909*^9}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"invsoln", "/.", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"FmTangential", "[", "x_", "]"}], "[", "y_", "]"}], 
      "\[RuleDelayed]", "0"}], ",", 
     RowBox[{
      RowBox[{
       RowBox[{"FmRadial", "[", "x_", "]"}], "[", "y_", "]"}], 
      "\[RuleDelayed]", "0"}], ",", 
     RowBox[{
      RowBox[{"Fsteric", "[", "0", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"Fsteric", "[", "1", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"Fsteric", "[", "2", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"Ftrap", "[", "0", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"Ftrap", "[", "1", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"Ftrap", "[", "2", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"TorqeExt", "[", "0", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"TorqeExt", "[", "1", "]"}], "\[Rule]", "0"}]}], "}"}]}], "//", 
  "Simplify"}]], "Input",
 CellChangeTimes->{{3.685470146567751*^9, 3.685470147511881*^9}, {
  3.685472402882764*^9, 3.685472407294991*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"a", "[", "0", "]"}], "[", "0", "]"}], "+", 
     RowBox[{"dt", " ", "muCargoRotation", " ", 
      RowBox[{"TorqeExt", "[", "2", "]"}], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"c", "[", "1", "]"}], "-", 
        RowBox[{
         RowBox[{"a", "[", "0", "]"}], "[", "1", "]"}]}], ")"}]}]}], 
    "\[Equal]", 
    RowBox[{
     RowBox[{"a1", "[", "0", "]"}], "[", "0", "]"}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"dt", " ", "muCargoRotation", " ", 
      RowBox[{"TorqeExt", "[", "2", "]"}], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"c", "[", "0", "]"}], "-", 
        RowBox[{
         RowBox[{"a", "[", "0", "]"}], "[", "0", "]"}]}], ")"}]}], "+", 
     RowBox[{
      RowBox[{"a1", "[", "0", "]"}], "[", "1", "]"}]}], "\[Equal]", 
    RowBox[{
     RowBox[{"a", "[", "0", "]"}], "[", "1", "]"}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"a", "[", "0", "]"}], "[", "2", "]"}], "\[Equal]", 
    RowBox[{
     RowBox[{"a1", "[", "0", "]"}], "[", "2", "]"}]}], ",", 
   RowBox[{
    RowBox[{"c", "[", "0", "]"}], "\[Equal]", 
    RowBox[{"c1", "[", "0", "]"}]}], ",", 
   RowBox[{
    RowBox[{"c", "[", "1", "]"}], "\[Equal]", 
    RowBox[{"c1", "[", "1", "]"}]}], ",", 
   RowBox[{
    RowBox[{"c", "[", "2", "]"}], "\[Equal]", 
    RowBox[{"c1", "[", "2", "]"}]}], ",", 
   RowBox[{
    RowBox[{"omega", "[", "0", "]"}], "\[Equal]", "0"}], ",", 
   RowBox[{
    RowBox[{"omega", "[", "1", "]"}], "\[Equal]", "0"}], ",", 
   RowBox[{
    RowBox[{"omega", "[", "2", "]"}], "\[Equal]", 
    RowBox[{"muCargoRotation", " ", 
     RowBox[{"TorqeExt", "[", "2", "]"}]}]}]}], "}"}]], "Output",
 CellChangeTimes->{3.68547014800445*^9, 3.685472408826877*^9}]
}, Open  ]],

Cell["Want to look at external force in x direction", "Text",
 CellChangeTimes->{{3.685472357470635*^9, 3.6854723737015533`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"invsoln", "=", 
   RowBox[{"generateEqs", "[", "1", "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.685470128162623*^9, 3.6854701282293262`*^9}, 
   3.685471596681834*^9, 3.685472300550909*^9}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"invsoln", "/.", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"FmTangential", "[", "x_", "]"}], "[", "y_", "]"}], 
      "\[RuleDelayed]", "0"}], ",", 
     RowBox[{
      RowBox[{
       RowBox[{"FmRadial", "[", "x_", "]"}], "[", "y_", "]"}], 
      "\[RuleDelayed]", "0"}], ",", 
     RowBox[{
      RowBox[{"Fsteric", "[", "0", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"Fsteric", "[", "1", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"Fsteric", "[", "2", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"Ftrap", "[", "1", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"Ftrap", "[", "2", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"TorqeExt", "[", "0", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"TorqeExt", "[", "1", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"TorqeExt", "[", "2", "]"}], "\[Rule]", "0"}]}], "}"}]}], "//", 
  "Simplify"}]], "Input",
 CellChangeTimes->{{3.685470146567751*^9, 3.685470147511881*^9}, {
  3.6854723303599453`*^9, 3.685472338031509*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"a", "[", "0", "]"}], "[", "0", "]"}], "\[Equal]", 
    RowBox[{
     RowBox[{"a1", "[", "0", "]"}], "[", "0", "]"}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"a", "[", "0", "]"}], "[", "1", "]"}], "\[Equal]", 
    RowBox[{
     RowBox[{"a1", "[", "0", "]"}], "[", "1", "]"}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"a", "[", "0", "]"}], "[", "2", "]"}], "\[Equal]", 
    RowBox[{
     RowBox[{"a1", "[", "0", "]"}], "[", "2", "]"}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"c", "[", "0", "]"}], "+", 
     RowBox[{"dt", " ", "muCargoTranslation", " ", 
      RowBox[{"Ftrap", "[", "0", "]"}]}]}], "\[Equal]", 
    RowBox[{"c1", "[", "0", "]"}]}], ",", 
   RowBox[{
    RowBox[{"c", "[", "1", "]"}], "\[Equal]", 
    RowBox[{"c1", "[", "1", "]"}]}], ",", 
   RowBox[{
    RowBox[{"c", "[", "2", "]"}], "\[Equal]", 
    RowBox[{"c1", "[", "2", "]"}]}], ",", 
   RowBox[{
    RowBox[{"omega", "[", "0", "]"}], "\[Equal]", "0"}], ",", 
   RowBox[{
    RowBox[{"omega", "[", "1", "]"}], "\[Equal]", "0"}], ",", 
   RowBox[{
    RowBox[{"omega", "[", "2", "]"}], "\[Equal]", "0"}]}], "}"}]], "Output",
 CellChangeTimes->{3.68547014800445*^9, 3.685472340124744*^9}]
}, Open  ]],

Cell["\<\
This makes sense, tells me that we forgot a term that would drag the motors \
along with the membrane\
\>", "Text",
 CellChangeTimes->{{3.685478911548401*^9, 3.68547893713652*^9}}]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1087, 1018},
WindowMargins->{{13, Automatic}, {Automatic, 0}},
FrontEndVersion->"11.0 for Mac OS X x86 (32-bit, 64-bit Kernel) (September \
21, 2016)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 110, 1, 92, "Title"],
Cell[693, 25, 979, 17, 182, "Text"],
Cell[CellGroupData[{
Cell[1697, 46, 181, 2, 64, "Section"],
Cell[1881, 50, 265, 5, 49, "Text"],
Cell[2149, 57, 816, 19, 96, "Input"],
Cell[2968, 78, 159, 2, 30, "Text"],
Cell[3130, 82, 4352, 94, 159, "Input"],
Cell[7485, 178, 105, 1, 30, "Text"],
Cell[7593, 181, 5280, 119, 180, "Input"],
Cell[12876, 302, 105, 1, 30, "Text"],
Cell[12984, 305, 5055, 112, 117, "Input"],
Cell[18042, 419, 123, 1, 30, "Text"],
Cell[CellGroupData[{
Cell[18190, 424, 439, 9, 32, "Input"],
Cell[18632, 435, 1922, 57, 110, "Output"]
}, Open  ]],
Cell[20569, 495, 224, 4, 30, "Text"],
Cell[CellGroupData[{
Cell[20818, 503, 1354, 33, 54, "Input"],
Cell[22175, 538, 910, 17, 32, "Output"]
}, Open  ]],
Cell[23100, 558, 182, 4, 30, "Text"],
Cell[CellGroupData[{
Cell[23307, 566, 707, 15, 32, "Input"],
Cell[24017, 583, 2359, 68, 145, "Output"]
}, Open  ]],
Cell[26391, 654, 331, 6, 49, "Text"],
Cell[CellGroupData[{
Cell[26747, 664, 400, 8, 75, "Input"],
Cell[27150, 674, 819, 12, 32, "Output"],
Cell[27972, 688, 862, 14, 32, "Output"],
Cell[28837, 704, 839, 13, 32, "Output"]
}, Open  ]],
Cell[29691, 720, 236, 4, 30, "Text"],
Cell[29930, 726, 388, 8, 32, "Input"],
Cell[30321, 736, 187, 4, 30, "Text"],
Cell[30511, 742, 314, 8, 32, "Input"],
Cell[30828, 752, 420, 12, 50, "Text"],
Cell[31251, 766, 507, 11, 32, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[31795, 782, 104, 1, 64, "Section"],
Cell[31902, 785, 15106, 353, 747, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[47045, 1143, 111, 1, 64, "Section"],
Cell[47159, 1146, 100, 1, 30, "Text"],
Cell[CellGroupData[{
Cell[47284, 1151, 974, 14, 32, "Input"],
Cell[48261, 1167, 2107, 51, 75, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[50405, 1223, 693, 16, 54, "Input"],
Cell[51101, 1241, 1573, 44, 75, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[52723, 1291, 126, 1, 64, "Section"],
Cell[52852, 1294, 179, 4, 30, "Text"],
Cell[CellGroupData[{
Cell[53056, 1302, 621, 16, 54, "Input"],
Cell[53680, 1320, 499, 13, 34, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[54216, 1338, 587, 15, 54, "Input"],
Cell[54806, 1355, 440, 12, 34, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[55283, 1372, 159, 3, 32, "Input"],
Cell[55445, 1377, 1756, 53, 123, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[57238, 1435, 301, 6, 32, "Input"],
Cell[57542, 1443, 1771, 53, 75, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[59362, 1502, 191, 2, 64, "Section"],
Cell[59556, 1506, 591, 13, 54, "Input"],
Cell[60150, 1521, 116, 1, 30, "Text"],
Cell[60269, 1524, 999, 20, 75, "Input"],
Cell[61271, 1546, 2268, 46, 180, "Input"],
Cell[63542, 1594, 973, 17, 54, "Input"],
Cell[CellGroupData[{
Cell[64540, 1615, 64, 1, 32, "Input"],
Cell[64607, 1618, 1135, 16, 32, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[65791, 1640, 96, 1, 64, "Section"],
Cell[65890, 1643, 141, 1, 30, "Text"],
Cell[66034, 1646, 300, 6, 32, "Input"],
Cell[CellGroupData[{
Cell[66359, 1656, 1784, 50, 75, "Input"],
Cell[68146, 1708, 1558, 40, 54, "Output"]
}, Open  ]],
Cell[69719, 1751, 148, 2, 30, "Text"],
Cell[69870, 1755, 350, 7, 32, "Input"],
Cell[CellGroupData[{
Cell[70245, 1766, 1438, 36, 54, "Input"],
Cell[71686, 1804, 2096, 55, 54, "Output"]
}, Open  ]],
Cell[73797, 1862, 270, 5, 30, "Text"],
Cell[74070, 1869, 228, 5, 32, "Input"],
Cell[CellGroupData[{
Cell[74323, 1878, 1134, 31, 54, "Input"],
Cell[75460, 1911, 1791, 52, 75, "Output"]
}, Open  ]],
Cell[77266, 1966, 129, 1, 30, "Text"],
Cell[77398, 1969, 228, 5, 32, "Input"],
Cell[CellGroupData[{
Cell[77651, 1978, 1139, 31, 54, "Input"],
Cell[78793, 2011, 1255, 36, 54, "Output"]
}, Open  ]],
Cell[80063, 2050, 190, 4, 30, "Text"]
}, Open  ]]
}, Open  ]]
}
]
*)

