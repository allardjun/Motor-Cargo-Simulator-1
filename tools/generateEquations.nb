(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 10.4' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    270173,       6870]
NotebookOptionsPosition[    263537,       6650]
NotebookOutlinePosition[    263893,       6666]
CellTagsIndexPosition[    263850,       6663]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Equations for forward euler", "Title",
 CellChangeTimes->{{3.670201171182211*^9, 3.670201183646469*^9}}],

Cell[CellGroupData[{

Cell["Solve with equations only (Solve)", "Section",
 CellChangeTimes->{{3.6840075119838667`*^9, 3.684007525033183*^9}}],

Cell["Sum of forces on the anchor", "Text",
 CellChangeTimes->{{3.6706227053156977`*^9, 3.670622710884417*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"anchoreqs", "=", 
  RowBox[{"Thread", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "0"}], "}"}], "==", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "k"}], 
      RowBox[{"(", 
       RowBox[{"L", "-", "R"}], ")"}], 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"hx", ",", "hy", ",", "hz"}], "}"}], "-", 
         RowBox[{"{", 
          RowBox[{"ax", ",", "ay", ",", "az"}], "}"}]}], ")"}], "/", "L"}]}], 
     "+", 
     RowBox[{"\[Xi]m", " ", 
      RowBox[{"Cross", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"\[Omega]x", ",", "\[Omega]y", ",", "\[Omega]z"}], "}"}], 
        ",", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"ax", ",", "ay", ",", "az"}], "}"}], "-", 
         RowBox[{"{", 
          RowBox[{"cx", ",", "cy", ",", "cz"}], "}"}]}]}], "]"}]}], "+", 
     RowBox[{"\[Xi]m", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"ax1", ",", "ay1", ",", "az1"}], "}"}], "-", 
         RowBox[{"{", 
          RowBox[{"ax", ",", "ay", ",", "az"}], "}"}]}], ")"}], "/", 
       "dt"}]}]}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.670201196582883*^9, 3.670201198012827*^9}, {
  3.670201252417695*^9, 3.670201367290771*^9}, {3.670201439481929*^9, 
  3.6702015888137913`*^9}, {3.670201635996417*^9, 3.6702016366153803`*^9}, {
  3.6702019732592993`*^9, 3.6702019876027308`*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"0", "\[Equal]", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", "ax"}], "+", "hx"}], ")"}], " ", "k", " ", 
        RowBox[{"(", 
         RowBox[{"L", "-", "R"}], ")"}]}], "L"]}], "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "ax"}], "+", "ax1"}], ")"}], " ", "\[Xi]m"}], "dt"], 
     "+", 
     RowBox[{"\[Xi]m", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"az", " ", "\[Omega]y"}], "-", 
        RowBox[{"cz", " ", "\[Omega]y"}], "-", 
        RowBox[{"ay", " ", "\[Omega]z"}], "+", 
        RowBox[{"cy", " ", "\[Omega]z"}]}], ")"}]}]}]}], ",", 
   RowBox[{"0", "\[Equal]", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", "ay"}], "+", "hy"}], ")"}], " ", "k", " ", 
        RowBox[{"(", 
         RowBox[{"L", "-", "R"}], ")"}]}], "L"]}], "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "ay"}], "+", "ay1"}], ")"}], " ", "\[Xi]m"}], "dt"], 
     "+", 
     RowBox[{"\[Xi]m", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "az"}], " ", "\[Omega]x"}], "+", 
        RowBox[{"cz", " ", "\[Omega]x"}], "+", 
        RowBox[{"ax", " ", "\[Omega]z"}], "-", 
        RowBox[{"cx", " ", "\[Omega]z"}]}], ")"}]}]}]}], ",", 
   RowBox[{"0", "\[Equal]", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", "az"}], "+", "hz"}], ")"}], " ", "k", " ", 
        RowBox[{"(", 
         RowBox[{"L", "-", "R"}], ")"}]}], "L"]}], "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "az"}], "+", "az1"}], ")"}], " ", "\[Xi]m"}], "dt"], 
     "+", 
     RowBox[{"\[Xi]m", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"ay", " ", "\[Omega]x"}], "-", 
        RowBox[{"cy", " ", "\[Omega]x"}], "-", 
        RowBox[{"ax", " ", "\[Omega]y"}], "+", 
        RowBox[{"cx", " ", "\[Omega]y"}]}], ")"}]}]}]}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.670201592490835*^9, 3.670201640450859*^9, {3.670201979449851*^9, 
   3.67020198793552*^9}, 3.670620975405838*^9, 3.684007531096078*^9}]
}, Open  ]],

Cell["Sum of forces on the cargo", "Text",
 CellChangeTimes->{{3.670622714653213*^9, 3.670622718084396*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"cargoFeqs", "=", 
  RowBox[{"Thread", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "0"}], "}"}], "==", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "\[Xi]m"}], 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"ax1", ",", "ay1", ",", "az1"}], "}"}], "-", 
         RowBox[{"{", 
          RowBox[{"ax", ",", "ay", ",", "az"}], "}"}]}], ")"}], "/", "dt"}]}],
      "+", 
     RowBox[{"\[Xi]ct", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"cx1", ",", "cy1", ",", "cz1"}], "}"}], "-", 
         RowBox[{"{", 
          RowBox[{"cx", ",", "cy", ",", "cz"}], "}"}]}], ")"}], "/", "dt"}]}],
      "-", 
     RowBox[{"ks", 
      RowBox[{"(", 
       RowBox[{"Ls", "-", "R"}], ")"}], 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"MTx", ",", "MTy", ",", "MTz"}], "}"}], "-", 
         RowBox[{"{", 
          RowBox[{"cx", ",", "cy", ",", "cz"}], "}"}]}], ")"}], "/", 
       "Ls"}]}]}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.6702016184234447`*^9, 3.67020162528581*^9}, {
  3.670201662411532*^9, 3.670201691132023*^9}, {3.670201997380299*^9, 
  3.6702019996965446`*^9}, {3.6702029040018587`*^9, 3.670202928301923*^9}, {
  3.67020298335818*^9, 3.670202996115602*^9}, {3.67020310049262*^9, 
  3.67020310442997*^9}, {3.6702031609272623`*^9, 3.670203203620912*^9}, {
  3.6702032832145033`*^9, 3.6702033098318443`*^9}, {3.670620963233138*^9, 
  3.670620967902801*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"0", "\[Equal]", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{"ks", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", "cx"}], "+", "MTx"}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{"Ls", "-", "R"}], ")"}]}], "Ls"]}], "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "cx"}], "+", "cx1"}], ")"}], " ", "\[Xi]ct"}], "dt"], 
     "-", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "ax"}], "+", "ax1"}], ")"}], " ", "\[Xi]m"}], "dt"]}]}],
    ",", 
   RowBox[{"0", "\[Equal]", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{"ks", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", "cy"}], "+", "MTy"}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{"Ls", "-", "R"}], ")"}]}], "Ls"]}], "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "cy"}], "+", "cy1"}], ")"}], " ", "\[Xi]ct"}], "dt"], 
     "-", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "ay"}], "+", "ay1"}], ")"}], " ", "\[Xi]m"}], "dt"]}]}],
    ",", 
   RowBox[{"0", "\[Equal]", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{"ks", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", "cz"}], "+", "MTz"}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{"Ls", "-", "R"}], ")"}]}], "Ls"]}], "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "cz"}], "+", "cz1"}], ")"}], " ", "\[Xi]ct"}], "dt"], 
     "-", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "az"}], "+", "az1"}], ")"}], " ", "\[Xi]m"}], 
      "dt"]}]}]}], "}"}]], "Output",
 CellChangeTimes->{3.670201696952327*^9, 3.670201999968904*^9, 
  3.670203311371953*^9, 3.670620970010828*^9, 3.684007531166108*^9}]
}, Open  ]],

Cell["Sum of torques on the cargo", "Text",
 CellChangeTimes->{{3.670622721392006*^9, 3.670622727039551*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"cargoTeqs", "=", 
  RowBox[{"Thread", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "0"}], "}"}], "==", 
    RowBox[{
     RowBox[{"Cross", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"{", 
         RowBox[{"ax", ",", "ay", ",", "az"}], "}"}], "-", 
        RowBox[{"{", 
         RowBox[{"cx", ",", "cy", ",", "cz"}], "}"}]}], ",", 
       RowBox[{
        RowBox[{"-", "\[Xi]m"}], 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"ax1", ",", "ay1", ",", "az1"}], "}"}], "-", 
           RowBox[{"{", 
            RowBox[{"ax", ",", "ay", ",", "az"}], "}"}]}], ")"}], "/", 
         "dt"}]}]}], "]"}], "+", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\[Omega]x", ",", "\[Omega]y", ",", "\[Omega]z"}], "}"}], 
      "\[Xi]cr"}]}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.670201712496181*^9, 3.6702018127776823`*^9}, {
  3.670202003927223*^9, 3.670202006018992*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"0", "\[Equal]", 
    RowBox[{
     FractionBox[
      RowBox[{"ay1", " ", "az", " ", "\[Xi]m"}], "dt"], "-", 
     FractionBox[
      RowBox[{"ay", " ", "az1", " ", "\[Xi]m"}], "dt"], "-", 
     FractionBox[
      RowBox[{"az", " ", "cy", " ", "\[Xi]m"}], "dt"], "+", 
     FractionBox[
      RowBox[{"az1", " ", "cy", " ", "\[Xi]m"}], "dt"], "+", 
     FractionBox[
      RowBox[{"ay", " ", "cz", " ", "\[Xi]m"}], "dt"], "-", 
     FractionBox[
      RowBox[{"ay1", " ", "cz", " ", "\[Xi]m"}], "dt"], "+", 
     RowBox[{"\[Xi]cr", " ", "\[Omega]x"}]}]}], ",", 
   RowBox[{"0", "\[Equal]", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{"ax1", " ", "az", " ", "\[Xi]m"}], "dt"]}], "+", 
     FractionBox[
      RowBox[{"ax", " ", "az1", " ", "\[Xi]m"}], "dt"], "+", 
     FractionBox[
      RowBox[{"az", " ", "cx", " ", "\[Xi]m"}], "dt"], "-", 
     FractionBox[
      RowBox[{"az1", " ", "cx", " ", "\[Xi]m"}], "dt"], "-", 
     FractionBox[
      RowBox[{"ax", " ", "cz", " ", "\[Xi]m"}], "dt"], "+", 
     FractionBox[
      RowBox[{"ax1", " ", "cz", " ", "\[Xi]m"}], "dt"], "+", 
     RowBox[{"\[Xi]cr", " ", "\[Omega]y"}]}]}], ",", 
   RowBox[{"0", "\[Equal]", 
    RowBox[{
     FractionBox[
      RowBox[{"ax1", " ", "ay", " ", "\[Xi]m"}], "dt"], "-", 
     FractionBox[
      RowBox[{"ax", " ", "ay1", " ", "\[Xi]m"}], "dt"], "-", 
     FractionBox[
      RowBox[{"ay", " ", "cx", " ", "\[Xi]m"}], "dt"], "+", 
     FractionBox[
      RowBox[{"ay1", " ", "cx", " ", "\[Xi]m"}], "dt"], "+", 
     FractionBox[
      RowBox[{"ax", " ", "cy", " ", "\[Xi]m"}], "dt"], "-", 
     FractionBox[
      RowBox[{"ax1", " ", "cy", " ", "\[Xi]m"}], "dt"], "+", 
     RowBox[{"\[Xi]cr", " ", "\[Omega]z"}]}]}]}], "}"}]], "Output",
 CellChangeTimes->{3.6702018169286013`*^9, 3.6702020071404*^9, 
  3.6706210198964767`*^9, 3.684007531212565*^9}]
}, Open  ]],

Cell["Solve all 9 equations simultaneously", "Text",
 CellChangeTimes->{{3.6706227360282793`*^9, 3.6706227472894087`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"soln", "=", 
  RowBox[{
   RowBox[{
    RowBox[{"Solve", "[", 
     RowBox[{
      RowBox[{"Join", "[", 
       RowBox[{"anchoreqs", ",", "cargoFeqs", ",", "cargoTeqs"}], "]"}], ",", 
      
      RowBox[{"{", 
       RowBox[{
       "ax1", ",", "ay1", ",", "az1", ",", "cx1", ",", "cy1", ",", "cz1", ",",
         "\[Omega]x", ",", "\[Omega]y", ",", "\[Omega]z"}], "}"}]}], "]"}], "//",
     "Simplify"}], "//", "First"}]}]], "Input",
 CellChangeTimes->{{3.670201880651703*^9, 3.670201956766527*^9}, {
  3.670202035178179*^9, 3.670202036734055*^9}, {3.6702726465820427`*^9, 
  3.670272647083996*^9}, {3.67062102956376*^9, 3.670621030227519*^9}, {
  3.670621224829893*^9, 3.670621225954537*^9}, {3.670621588418326*^9, 
  3.670621591593937*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"ax1", "\[Rule]", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        SuperscriptBox["ax", "3"], " ", "\[Xi]m", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"dt", " ", "k", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"-", "L"}], "+", "R"}], ")"}]}], "+", 
          RowBox[{"L", " ", "\[Xi]m"}]}], ")"}]}], "+", 
       RowBox[{"dt", " ", "k", " ", 
        RowBox[{"(", 
         RowBox[{"L", "-", "R"}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"cx", " ", 
           RowBox[{"(", 
            RowBox[{
             SuperscriptBox["ay", "2"], "+", 
             SuperscriptBox["az", "2"], "+", 
             RowBox[{"cy", " ", "hy"}], "-", 
             RowBox[{"ay", " ", 
              RowBox[{"(", 
               RowBox[{"cy", "+", "hy"}], ")"}]}], "+", 
             RowBox[{"cz", " ", "hz"}], "-", 
             RowBox[{"az", " ", 
              RowBox[{"(", 
               RowBox[{"cz", "+", "hz"}], ")"}]}]}], ")"}], " ", "\[Xi]m"}], 
          "+", 
          RowBox[{"hx", " ", 
           RowBox[{"(", 
            RowBox[{"\[Xi]cr", "+", 
             RowBox[{
              SuperscriptBox["cx", "2"], " ", "\[Xi]m"}]}], ")"}]}]}], 
         ")"}]}], "+", 
       RowBox[{"ax", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"L", " ", "\[Xi]m", " ", 
           RowBox[{"(", 
            RowBox[{"\[Xi]cr", "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                SuperscriptBox["ay", "2"], "+", 
                SuperscriptBox["az", "2"], "+", 
                SuperscriptBox["cx", "2"], "-", 
                RowBox[{"2", " ", "ay", " ", "cy"}], "+", 
                SuperscriptBox["cy", "2"], "-", 
                RowBox[{"2", " ", "az", " ", "cz"}], "+", 
                SuperscriptBox["cz", "2"]}], ")"}], " ", "\[Xi]m"}]}], 
            ")"}]}], "-", 
          RowBox[{"dt", " ", "k", " ", 
           RowBox[{"(", 
            RowBox[{"L", "-", "R"}], ")"}], " ", 
           RowBox[{"(", 
            RowBox[{"\[Xi]cr", "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                SuperscriptBox["ay", "2"], "+", 
                SuperscriptBox["az", "2"], "+", 
                SuperscriptBox["cx", "2"], "+", 
                RowBox[{"2", " ", "cx", " ", "hx"}], "+", 
                RowBox[{"cy", " ", "hy"}], "-", 
                RowBox[{"ay", " ", 
                 RowBox[{"(", 
                  RowBox[{"cy", "+", "hy"}], ")"}]}], "+", 
                RowBox[{"cz", " ", "hz"}], "-", 
                RowBox[{"az", " ", 
                 RowBox[{"(", 
                  RowBox[{"cz", "+", "hz"}], ")"}]}]}], ")"}], " ", 
              "\[Xi]m"}]}], ")"}]}]}], ")"}]}], "+", 
       RowBox[{
        SuperscriptBox["ax", "2"], " ", "\[Xi]m", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"dt", " ", "hx", " ", "k", " ", 
           RowBox[{"(", 
            RowBox[{"L", "-", "R"}], ")"}]}], "+", 
          RowBox[{"2", " ", "cx", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"dt", " ", "k", " ", 
              RowBox[{"(", 
               RowBox[{"L", "-", "R"}], ")"}]}], "-", 
             RowBox[{"L", " ", "\[Xi]m"}]}], ")"}]}]}], ")"}]}]}], ")"}], "/", 
     RowBox[{"(", 
      RowBox[{"L", " ", "\[Xi]m", " ", 
       RowBox[{"(", 
        RowBox[{"\[Xi]cr", "+", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            SuperscriptBox["ax", "2"], "+", 
            SuperscriptBox["ay", "2"], "+", 
            SuperscriptBox["az", "2"], "-", 
            RowBox[{"2", " ", "ax", " ", "cx"}], "+", 
            SuperscriptBox["cx", "2"], "-", 
            RowBox[{"2", " ", "ay", " ", "cy"}], "+", 
            SuperscriptBox["cy", "2"], "-", 
            RowBox[{"2", " ", "az", " ", "cz"}], "+", 
            SuperscriptBox["cz", "2"]}], ")"}], " ", "\[Xi]m"}]}], ")"}]}], 
      ")"}]}]}], ",", 
   RowBox[{"ay1", "\[Rule]", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        SuperscriptBox["ay", "3"], " ", "\[Xi]m", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"dt", " ", "k", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"-", "L"}], "+", "R"}], ")"}]}], "+", 
          RowBox[{"L", " ", "\[Xi]m"}]}], ")"}]}], "+", 
       RowBox[{"dt", " ", "k", " ", 
        RowBox[{"(", 
         RowBox[{"L", "-", "R"}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"cy", " ", 
           RowBox[{"(", 
            RowBox[{
             SuperscriptBox["ax", "2"], "+", 
             SuperscriptBox["az", "2"], "+", 
             RowBox[{"cx", " ", "hx"}], "-", 
             RowBox[{"ax", " ", 
              RowBox[{"(", 
               RowBox[{"cx", "+", "hx"}], ")"}]}], "+", 
             RowBox[{"cz", " ", "hz"}], "-", 
             RowBox[{"az", " ", 
              RowBox[{"(", 
               RowBox[{"cz", "+", "hz"}], ")"}]}]}], ")"}], " ", "\[Xi]m"}], 
          "+", 
          RowBox[{"hy", " ", 
           RowBox[{"(", 
            RowBox[{"\[Xi]cr", "+", 
             RowBox[{
              SuperscriptBox["cy", "2"], " ", "\[Xi]m"}]}], ")"}]}]}], 
         ")"}]}], "+", 
       RowBox[{"ay", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"L", " ", "\[Xi]m", " ", 
           RowBox[{"(", 
            RowBox[{"\[Xi]cr", "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                SuperscriptBox["ax", "2"], "+", 
                SuperscriptBox["az", "2"], "-", 
                RowBox[{"2", " ", "ax", " ", "cx"}], "+", 
                SuperscriptBox["cx", "2"], "+", 
                SuperscriptBox["cy", "2"], "-", 
                RowBox[{"2", " ", "az", " ", "cz"}], "+", 
                SuperscriptBox["cz", "2"]}], ")"}], " ", "\[Xi]m"}]}], 
            ")"}]}], "-", 
          RowBox[{"dt", " ", "k", " ", 
           RowBox[{"(", 
            RowBox[{"L", "-", "R"}], ")"}], " ", 
           RowBox[{"(", 
            RowBox[{"\[Xi]cr", "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                SuperscriptBox["ax", "2"], "+", 
                SuperscriptBox["az", "2"], "+", 
                SuperscriptBox["cy", "2"], "+", 
                RowBox[{"cx", " ", "hx"}], "-", 
                RowBox[{"ax", " ", 
                 RowBox[{"(", 
                  RowBox[{"cx", "+", "hx"}], ")"}]}], "+", 
                RowBox[{"2", " ", "cy", " ", "hy"}], "+", 
                RowBox[{"cz", " ", "hz"}], "-", 
                RowBox[{"az", " ", 
                 RowBox[{"(", 
                  RowBox[{"cz", "+", "hz"}], ")"}]}]}], ")"}], " ", 
              "\[Xi]m"}]}], ")"}]}]}], ")"}]}], "+", 
       RowBox[{
        SuperscriptBox["ay", "2"], " ", "\[Xi]m", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"dt", " ", "hy", " ", "k", " ", 
           RowBox[{"(", 
            RowBox[{"L", "-", "R"}], ")"}]}], "+", 
          RowBox[{"2", " ", "cy", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"dt", " ", "k", " ", 
              RowBox[{"(", 
               RowBox[{"L", "-", "R"}], ")"}]}], "-", 
             RowBox[{"L", " ", "\[Xi]m"}]}], ")"}]}]}], ")"}]}]}], ")"}], "/", 
     RowBox[{"(", 
      RowBox[{"L", " ", "\[Xi]m", " ", 
       RowBox[{"(", 
        RowBox[{"\[Xi]cr", "+", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            SuperscriptBox["ax", "2"], "+", 
            SuperscriptBox["ay", "2"], "+", 
            SuperscriptBox["az", "2"], "-", 
            RowBox[{"2", " ", "ax", " ", "cx"}], "+", 
            SuperscriptBox["cx", "2"], "-", 
            RowBox[{"2", " ", "ay", " ", "cy"}], "+", 
            SuperscriptBox["cy", "2"], "-", 
            RowBox[{"2", " ", "az", " ", "cz"}], "+", 
            SuperscriptBox["cz", "2"]}], ")"}], " ", "\[Xi]m"}]}], ")"}]}], 
      ")"}]}]}], ",", 
   RowBox[{"az1", "\[Rule]", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        SuperscriptBox["az", "3"], " ", "\[Xi]m", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"dt", " ", "k", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"-", "L"}], "+", "R"}], ")"}]}], "+", 
          RowBox[{"L", " ", "\[Xi]m"}]}], ")"}]}], "+", 
       RowBox[{"dt", " ", "k", " ", 
        RowBox[{"(", 
         RowBox[{"L", "-", "R"}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"cz", " ", 
           RowBox[{"(", 
            RowBox[{
             SuperscriptBox["ax", "2"], "+", 
             SuperscriptBox["ay", "2"], "+", 
             RowBox[{"cx", " ", "hx"}], "-", 
             RowBox[{"ax", " ", 
              RowBox[{"(", 
               RowBox[{"cx", "+", "hx"}], ")"}]}], "+", 
             RowBox[{"cy", " ", "hy"}], "-", 
             RowBox[{"ay", " ", 
              RowBox[{"(", 
               RowBox[{"cy", "+", "hy"}], ")"}]}]}], ")"}], " ", "\[Xi]m"}], 
          "+", 
          RowBox[{"hz", " ", 
           RowBox[{"(", 
            RowBox[{"\[Xi]cr", "+", 
             RowBox[{
              SuperscriptBox["cz", "2"], " ", "\[Xi]m"}]}], ")"}]}]}], 
         ")"}]}], "+", 
       RowBox[{"az", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"L", " ", "\[Xi]m", " ", 
           RowBox[{"(", 
            RowBox[{"\[Xi]cr", "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                SuperscriptBox["ax", "2"], "+", 
                SuperscriptBox["ay", "2"], "-", 
                RowBox[{"2", " ", "ax", " ", "cx"}], "+", 
                SuperscriptBox["cx", "2"], "-", 
                RowBox[{"2", " ", "ay", " ", "cy"}], "+", 
                SuperscriptBox["cy", "2"], "+", 
                SuperscriptBox["cz", "2"]}], ")"}], " ", "\[Xi]m"}]}], 
            ")"}]}], "-", 
          RowBox[{"dt", " ", "k", " ", 
           RowBox[{"(", 
            RowBox[{"L", "-", "R"}], ")"}], " ", 
           RowBox[{"(", 
            RowBox[{"\[Xi]cr", "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                SuperscriptBox["ax", "2"], "+", 
                SuperscriptBox["ay", "2"], "+", 
                SuperscriptBox["cz", "2"], "+", 
                RowBox[{"cx", " ", "hx"}], "-", 
                RowBox[{"ax", " ", 
                 RowBox[{"(", 
                  RowBox[{"cx", "+", "hx"}], ")"}]}], "+", 
                RowBox[{"cy", " ", "hy"}], "-", 
                RowBox[{"ay", " ", 
                 RowBox[{"(", 
                  RowBox[{"cy", "+", "hy"}], ")"}]}], "+", 
                RowBox[{"2", " ", "cz", " ", "hz"}]}], ")"}], " ", 
              "\[Xi]m"}]}], ")"}]}]}], ")"}]}], "+", 
       RowBox[{
        SuperscriptBox["az", "2"], " ", "\[Xi]m", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"dt", " ", "hz", " ", "k", " ", 
           RowBox[{"(", 
            RowBox[{"L", "-", "R"}], ")"}]}], "+", 
          RowBox[{"2", " ", "cz", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"dt", " ", "k", " ", 
              RowBox[{"(", 
               RowBox[{"L", "-", "R"}], ")"}]}], "-", 
             RowBox[{"L", " ", "\[Xi]m"}]}], ")"}]}]}], ")"}]}]}], ")"}], "/", 
     RowBox[{"(", 
      RowBox[{"L", " ", "\[Xi]m", " ", 
       RowBox[{"(", 
        RowBox[{"\[Xi]cr", "+", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            SuperscriptBox["ax", "2"], "+", 
            SuperscriptBox["ay", "2"], "+", 
            SuperscriptBox["az", "2"], "-", 
            RowBox[{"2", " ", "ax", " ", "cx"}], "+", 
            SuperscriptBox["cx", "2"], "-", 
            RowBox[{"2", " ", "ay", " ", "cy"}], "+", 
            SuperscriptBox["cy", "2"], "-", 
            RowBox[{"2", " ", "az", " ", "cz"}], "+", 
            SuperscriptBox["cz", "2"]}], ")"}], " ", "\[Xi]m"}]}], ")"}]}], 
      ")"}]}]}], ",", 
   RowBox[{"cx1", "\[Rule]", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        SuperscriptBox["ax", "3"], " ", "dt", " ", "k", " ", "Ls", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", "L"}], "+", "R"}], ")"}], " ", "\[Xi]m"}], "+", 
       RowBox[{
        SuperscriptBox["ax", "2"], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"dt", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"hx", " ", "k", " ", "Ls", " ", 
              RowBox[{"(", 
               RowBox[{"L", "-", "R"}], ")"}]}], "+", 
             RowBox[{"ks", " ", "L", " ", "MTx", " ", 
              RowBox[{"(", 
               RowBox[{"Ls", "-", "R"}], ")"}]}]}], ")"}]}], "+", 
          RowBox[{"cx", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"dt", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"2", " ", "k", " ", "Ls", " ", 
                 RowBox[{"(", 
                  RowBox[{"L", "-", "R"}], ")"}]}], "+", 
                RowBox[{"ks", " ", "L", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"-", "Ls"}], "+", "R"}], ")"}]}]}], ")"}]}], "+", 
             RowBox[{"L", " ", "Ls", " ", "\[Xi]ct"}]}], ")"}]}]}], ")"}], 
        " ", "\[Xi]m"}], "+", 
       RowBox[{"cx", " ", "L", " ", "Ls", " ", "\[Xi]ct", " ", 
        RowBox[{"(", 
         RowBox[{"\[Xi]cr", "+", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             SuperscriptBox["ay", "2"], "+", 
             SuperscriptBox["az", "2"], "+", 
             SuperscriptBox["cx", "2"], "-", 
             RowBox[{"2", " ", "ay", " ", "cy"}], "+", 
             SuperscriptBox["cy", "2"], "-", 
             RowBox[{"2", " ", "az", " ", "cz"}], "+", 
             SuperscriptBox["cz", "2"]}], ")"}], " ", "\[Xi]m"}]}], ")"}]}], 
       "+", 
       RowBox[{"dt", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           SuperscriptBox["cx", "2"], " ", "ks", " ", "L", " ", "MTx", " ", 
           RowBox[{"(", 
            RowBox[{"Ls", "-", "R"}], ")"}], " ", "\[Xi]m"}], "+", 
          RowBox[{
           SuperscriptBox["cx", "3"], " ", "ks", " ", "L", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"-", "Ls"}], "+", "R"}], ")"}], " ", "\[Xi]m"}], "+", 
          RowBox[{"hx", " ", "k", " ", "Ls", " ", 
           RowBox[{"(", 
            RowBox[{"L", "-", "R"}], ")"}], " ", 
           RowBox[{"(", 
            RowBox[{"\[Xi]cr", "+", 
             RowBox[{
              SuperscriptBox["cx", "2"], " ", "\[Xi]m"}]}], ")"}]}], "+", 
          RowBox[{"ks", " ", "L", " ", "MTx", " ", 
           RowBox[{"(", 
            RowBox[{"Ls", "-", "R"}], ")"}], " ", 
           RowBox[{"(", 
            RowBox[{"\[Xi]cr", "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                SuperscriptBox["ay", "2"], "+", 
                SuperscriptBox["az", "2"], "-", 
                RowBox[{"2", " ", "ay", " ", "cy"}], "+", 
                SuperscriptBox["cy", "2"], "-", 
                RowBox[{"2", " ", "az", " ", "cz"}], "+", 
                SuperscriptBox["cz", "2"]}], ")"}], " ", "\[Xi]m"}]}], 
            ")"}]}], "+", 
          RowBox[{"cx", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                SuperscriptBox["ay", "2"], "+", 
                SuperscriptBox["az", "2"], "+", 
                RowBox[{"cy", " ", "hy"}], "-", 
                RowBox[{"ay", " ", 
                 RowBox[{"(", 
                  RowBox[{"cy", "+", "hy"}], ")"}]}], "+", 
                RowBox[{"cz", " ", "hz"}], "-", 
                RowBox[{"az", " ", 
                 RowBox[{"(", 
                  RowBox[{"cz", "+", "hz"}], ")"}]}]}], ")"}], " ", "k", " ", 
              "Ls", " ", 
              RowBox[{"(", 
               RowBox[{"L", "-", "R"}], ")"}], " ", "\[Xi]m"}], "-", 
             RowBox[{"ks", " ", "L", " ", 
              RowBox[{"(", 
               RowBox[{"Ls", "-", "R"}], ")"}], " ", 
              RowBox[{"(", 
               RowBox[{"\[Xi]cr", "+", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   SuperscriptBox["ay", "2"], "+", 
                   SuperscriptBox["az", "2"], "-", 
                   RowBox[{"2", " ", "ay", " ", "cy"}], "+", 
                   SuperscriptBox["cy", "2"], "-", 
                   RowBox[{"2", " ", "az", " ", "cz"}], "+", 
                   SuperscriptBox["cz", "2"]}], ")"}], " ", "\[Xi]m"}]}], 
               ")"}]}]}], ")"}]}]}], ")"}]}], "+", 
       RowBox[{"ax", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "2"}], " ", 
           SuperscriptBox["cx", "2"], " ", "L", " ", "Ls", " ", "\[Xi]ct", 
           " ", "\[Xi]m"}], "+", 
          RowBox[{"dt", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"2", " ", "cx", " ", "ks", " ", "L", " ", 
              RowBox[{"(", 
               RowBox[{"cx", "-", "MTx"}], ")"}], " ", 
              RowBox[{"(", 
               RowBox[{"Ls", "-", "R"}], ")"}], " ", "\[Xi]m"}], "-", 
             RowBox[{"k", " ", "Ls", " ", 
              RowBox[{"(", 
               RowBox[{"L", "-", "R"}], ")"}], " ", 
              RowBox[{"(", 
               RowBox[{"\[Xi]cr", "+", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   SuperscriptBox["ay", "2"], "+", 
                   SuperscriptBox["az", "2"], "+", 
                   SuperscriptBox["cx", "2"], "+", 
                   RowBox[{"2", " ", "cx", " ", "hx"}], "+", 
                   RowBox[{"cy", " ", "hy"}], "-", 
                   RowBox[{"ay", " ", 
                    RowBox[{"(", 
                    RowBox[{"cy", "+", "hy"}], ")"}]}], "+", 
                   RowBox[{"cz", " ", "hz"}], "-", 
                   RowBox[{"az", " ", 
                    RowBox[{"(", 
                    RowBox[{"cz", "+", "hz"}], ")"}]}]}], ")"}], " ", 
                 "\[Xi]m"}]}], ")"}]}]}], ")"}]}]}], ")"}]}]}], ")"}], "/", 
     RowBox[{"(", 
      RowBox[{"L", " ", "Ls", " ", "\[Xi]ct", " ", 
       RowBox[{"(", 
        RowBox[{"\[Xi]cr", "+", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            SuperscriptBox["ax", "2"], "+", 
            SuperscriptBox["ay", "2"], "+", 
            SuperscriptBox["az", "2"], "-", 
            RowBox[{"2", " ", "ax", " ", "cx"}], "+", 
            SuperscriptBox["cx", "2"], "-", 
            RowBox[{"2", " ", "ay", " ", "cy"}], "+", 
            SuperscriptBox["cy", "2"], "-", 
            RowBox[{"2", " ", "az", " ", "cz"}], "+", 
            SuperscriptBox["cz", "2"]}], ")"}], " ", "\[Xi]m"}]}], ")"}]}], 
      ")"}]}]}], ",", 
   RowBox[{"cy1", "\[Rule]", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        SuperscriptBox["ay", "3"], " ", "dt", " ", "k", " ", "Ls", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", "L"}], "+", "R"}], ")"}], " ", "\[Xi]m"}], "+", 
       RowBox[{
        SuperscriptBox["ay", "2"], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"dt", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"hy", " ", "k", " ", "Ls", " ", 
              RowBox[{"(", 
               RowBox[{"L", "-", "R"}], ")"}]}], "+", 
             RowBox[{"ks", " ", "L", " ", "MTy", " ", 
              RowBox[{"(", 
               RowBox[{"Ls", "-", "R"}], ")"}]}]}], ")"}]}], "+", 
          RowBox[{"cy", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"dt", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"2", " ", "k", " ", "Ls", " ", 
                 RowBox[{"(", 
                  RowBox[{"L", "-", "R"}], ")"}]}], "+", 
                RowBox[{"ks", " ", "L", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"-", "Ls"}], "+", "R"}], ")"}]}]}], ")"}]}], "+", 
             RowBox[{"L", " ", "Ls", " ", "\[Xi]ct"}]}], ")"}]}]}], ")"}], 
        " ", "\[Xi]m"}], "+", 
       RowBox[{"cy", " ", "L", " ", "Ls", " ", "\[Xi]ct", " ", 
        RowBox[{"(", 
         RowBox[{"\[Xi]cr", "+", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             SuperscriptBox["ax", "2"], "+", 
             SuperscriptBox["az", "2"], "-", 
             RowBox[{"2", " ", "ax", " ", "cx"}], "+", 
             SuperscriptBox["cx", "2"], "+", 
             SuperscriptBox["cy", "2"], "-", 
             RowBox[{"2", " ", "az", " ", "cz"}], "+", 
             SuperscriptBox["cz", "2"]}], ")"}], " ", "\[Xi]m"}]}], ")"}]}], 
       "+", 
       RowBox[{"dt", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           SuperscriptBox["cy", "2"], " ", "ks", " ", "L", " ", "MTy", " ", 
           RowBox[{"(", 
            RowBox[{"Ls", "-", "R"}], ")"}], " ", "\[Xi]m"}], "+", 
          RowBox[{
           SuperscriptBox["cy", "3"], " ", "ks", " ", "L", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"-", "Ls"}], "+", "R"}], ")"}], " ", "\[Xi]m"}], "+", 
          RowBox[{"hy", " ", "k", " ", "Ls", " ", 
           RowBox[{"(", 
            RowBox[{"L", "-", "R"}], ")"}], " ", 
           RowBox[{"(", 
            RowBox[{"\[Xi]cr", "+", 
             RowBox[{
              SuperscriptBox["cy", "2"], " ", "\[Xi]m"}]}], ")"}]}], "+", 
          RowBox[{"ks", " ", "L", " ", "MTy", " ", 
           RowBox[{"(", 
            RowBox[{"Ls", "-", "R"}], ")"}], " ", 
           RowBox[{"(", 
            RowBox[{"\[Xi]cr", "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                SuperscriptBox["ax", "2"], "+", 
                SuperscriptBox["az", "2"], "-", 
                RowBox[{"2", " ", "ax", " ", "cx"}], "+", 
                SuperscriptBox["cx", "2"], "-", 
                RowBox[{"2", " ", "az", " ", "cz"}], "+", 
                SuperscriptBox["cz", "2"]}], ")"}], " ", "\[Xi]m"}]}], 
            ")"}]}], "+", 
          RowBox[{"cy", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                SuperscriptBox["ax", "2"], "+", 
                SuperscriptBox["az", "2"], "+", 
                RowBox[{"cx", " ", "hx"}], "-", 
                RowBox[{"ax", " ", 
                 RowBox[{"(", 
                  RowBox[{"cx", "+", "hx"}], ")"}]}], "+", 
                RowBox[{"cz", " ", "hz"}], "-", 
                RowBox[{"az", " ", 
                 RowBox[{"(", 
                  RowBox[{"cz", "+", "hz"}], ")"}]}]}], ")"}], " ", "k", " ", 
              "Ls", " ", 
              RowBox[{"(", 
               RowBox[{"L", "-", "R"}], ")"}], " ", "\[Xi]m"}], "-", 
             RowBox[{"ks", " ", "L", " ", 
              RowBox[{"(", 
               RowBox[{"Ls", "-", "R"}], ")"}], " ", 
              RowBox[{"(", 
               RowBox[{"\[Xi]cr", "+", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   SuperscriptBox["ax", "2"], "+", 
                   SuperscriptBox["az", "2"], "-", 
                   RowBox[{"2", " ", "ax", " ", "cx"}], "+", 
                   SuperscriptBox["cx", "2"], "-", 
                   RowBox[{"2", " ", "az", " ", "cz"}], "+", 
                   SuperscriptBox["cz", "2"]}], ")"}], " ", "\[Xi]m"}]}], 
               ")"}]}]}], ")"}]}]}], ")"}]}], "+", 
       RowBox[{"ay", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "2"}], " ", 
           SuperscriptBox["cy", "2"], " ", "L", " ", "Ls", " ", "\[Xi]ct", 
           " ", "\[Xi]m"}], "+", 
          RowBox[{"dt", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"2", " ", "cy", " ", "ks", " ", "L", " ", 
              RowBox[{"(", 
               RowBox[{"cy", "-", "MTy"}], ")"}], " ", 
              RowBox[{"(", 
               RowBox[{"Ls", "-", "R"}], ")"}], " ", "\[Xi]m"}], "-", 
             RowBox[{"k", " ", "Ls", " ", 
              RowBox[{"(", 
               RowBox[{"L", "-", "R"}], ")"}], " ", 
              RowBox[{"(", 
               RowBox[{"\[Xi]cr", "+", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   SuperscriptBox["ax", "2"], "+", 
                   SuperscriptBox["az", "2"], "+", 
                   SuperscriptBox["cy", "2"], "+", 
                   RowBox[{"cx", " ", "hx"}], "-", 
                   RowBox[{"ax", " ", 
                    RowBox[{"(", 
                    RowBox[{"cx", "+", "hx"}], ")"}]}], "+", 
                   RowBox[{"2", " ", "cy", " ", "hy"}], "+", 
                   RowBox[{"cz", " ", "hz"}], "-", 
                   RowBox[{"az", " ", 
                    RowBox[{"(", 
                    RowBox[{"cz", "+", "hz"}], ")"}]}]}], ")"}], " ", 
                 "\[Xi]m"}]}], ")"}]}]}], ")"}]}]}], ")"}]}]}], ")"}], "/", 
     RowBox[{"(", 
      RowBox[{"L", " ", "Ls", " ", "\[Xi]ct", " ", 
       RowBox[{"(", 
        RowBox[{"\[Xi]cr", "+", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            SuperscriptBox["ax", "2"], "+", 
            SuperscriptBox["ay", "2"], "+", 
            SuperscriptBox["az", "2"], "-", 
            RowBox[{"2", " ", "ax", " ", "cx"}], "+", 
            SuperscriptBox["cx", "2"], "-", 
            RowBox[{"2", " ", "ay", " ", "cy"}], "+", 
            SuperscriptBox["cy", "2"], "-", 
            RowBox[{"2", " ", "az", " ", "cz"}], "+", 
            SuperscriptBox["cz", "2"]}], ")"}], " ", "\[Xi]m"}]}], ")"}]}], 
      ")"}]}]}], ",", 
   RowBox[{"cz1", "\[Rule]", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        SuperscriptBox["az", "3"], " ", "dt", " ", "k", " ", "Ls", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", "L"}], "+", "R"}], ")"}], " ", "\[Xi]m"}], "+", 
       RowBox[{
        SuperscriptBox["az", "2"], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"dt", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"hz", " ", "k", " ", "Ls", " ", 
              RowBox[{"(", 
               RowBox[{"L", "-", "R"}], ")"}]}], "+", 
             RowBox[{"ks", " ", "L", " ", "MTz", " ", 
              RowBox[{"(", 
               RowBox[{"Ls", "-", "R"}], ")"}]}]}], ")"}]}], "+", 
          RowBox[{"cz", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"dt", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"2", " ", "k", " ", "Ls", " ", 
                 RowBox[{"(", 
                  RowBox[{"L", "-", "R"}], ")"}]}], "+", 
                RowBox[{"ks", " ", "L", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"-", "Ls"}], "+", "R"}], ")"}]}]}], ")"}]}], "+", 
             RowBox[{"L", " ", "Ls", " ", "\[Xi]ct"}]}], ")"}]}]}], ")"}], 
        " ", "\[Xi]m"}], "+", 
       RowBox[{"cz", " ", "L", " ", "Ls", " ", "\[Xi]ct", " ", 
        RowBox[{"(", 
         RowBox[{"\[Xi]cr", "+", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             SuperscriptBox["ax", "2"], "+", 
             SuperscriptBox["ay", "2"], "-", 
             RowBox[{"2", " ", "ax", " ", "cx"}], "+", 
             SuperscriptBox["cx", "2"], "-", 
             RowBox[{"2", " ", "ay", " ", "cy"}], "+", 
             SuperscriptBox["cy", "2"], "+", 
             SuperscriptBox["cz", "2"]}], ")"}], " ", "\[Xi]m"}]}], ")"}]}], 
       "+", 
       RowBox[{"dt", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           SuperscriptBox["cz", "2"], " ", "ks", " ", "L", " ", "MTz", " ", 
           RowBox[{"(", 
            RowBox[{"Ls", "-", "R"}], ")"}], " ", "\[Xi]m"}], "+", 
          RowBox[{
           SuperscriptBox["cz", "3"], " ", "ks", " ", "L", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"-", "Ls"}], "+", "R"}], ")"}], " ", "\[Xi]m"}], "+", 
          RowBox[{"ks", " ", "L", " ", "MTz", " ", 
           RowBox[{"(", 
            RowBox[{"Ls", "-", "R"}], ")"}], " ", 
           RowBox[{"(", 
            RowBox[{"\[Xi]cr", "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                SuperscriptBox["ax", "2"], "+", 
                SuperscriptBox["ay", "2"], "-", 
                RowBox[{"2", " ", "ax", " ", "cx"}], "+", 
                SuperscriptBox["cx", "2"], "-", 
                RowBox[{"2", " ", "ay", " ", "cy"}], "+", 
                SuperscriptBox["cy", "2"]}], ")"}], " ", "\[Xi]m"}]}], 
            ")"}]}], "+", 
          RowBox[{"hz", " ", "k", " ", "Ls", " ", 
           RowBox[{"(", 
            RowBox[{"L", "-", "R"}], ")"}], " ", 
           RowBox[{"(", 
            RowBox[{"\[Xi]cr", "+", 
             RowBox[{
              SuperscriptBox["cz", "2"], " ", "\[Xi]m"}]}], ")"}]}], "+", 
          RowBox[{"cz", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                SuperscriptBox["ax", "2"], "+", 
                SuperscriptBox["ay", "2"], "+", 
                RowBox[{"cx", " ", "hx"}], "-", 
                RowBox[{"ax", " ", 
                 RowBox[{"(", 
                  RowBox[{"cx", "+", "hx"}], ")"}]}], "+", 
                RowBox[{"cy", " ", "hy"}], "-", 
                RowBox[{"ay", " ", 
                 RowBox[{"(", 
                  RowBox[{"cy", "+", "hy"}], ")"}]}]}], ")"}], " ", "k", " ", 
              "Ls", " ", 
              RowBox[{"(", 
               RowBox[{"L", "-", "R"}], ")"}], " ", "\[Xi]m"}], "-", 
             RowBox[{"ks", " ", "L", " ", 
              RowBox[{"(", 
               RowBox[{"Ls", "-", "R"}], ")"}], " ", 
              RowBox[{"(", 
               RowBox[{"\[Xi]cr", "+", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   SuperscriptBox["ax", "2"], "+", 
                   SuperscriptBox["ay", "2"], "-", 
                   RowBox[{"2", " ", "ax", " ", "cx"}], "+", 
                   SuperscriptBox["cx", "2"], "-", 
                   RowBox[{"2", " ", "ay", " ", "cy"}], "+", 
                   SuperscriptBox["cy", "2"]}], ")"}], " ", "\[Xi]m"}]}], 
               ")"}]}]}], ")"}]}]}], ")"}]}], "+", 
       RowBox[{"az", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "2"}], " ", 
           SuperscriptBox["cz", "2"], " ", "L", " ", "Ls", " ", "\[Xi]ct", 
           " ", "\[Xi]m"}], "+", 
          RowBox[{"dt", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"2", " ", "cz", " ", "ks", " ", "L", " ", 
              RowBox[{"(", 
               RowBox[{"cz", "-", "MTz"}], ")"}], " ", 
              RowBox[{"(", 
               RowBox[{"Ls", "-", "R"}], ")"}], " ", "\[Xi]m"}], "-", 
             RowBox[{"k", " ", "Ls", " ", 
              RowBox[{"(", 
               RowBox[{"L", "-", "R"}], ")"}], " ", 
              RowBox[{"(", 
               RowBox[{"\[Xi]cr", "+", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   SuperscriptBox["ax", "2"], "+", 
                   SuperscriptBox["ay", "2"], "+", 
                   SuperscriptBox["cz", "2"], "+", 
                   RowBox[{"cx", " ", "hx"}], "-", 
                   RowBox[{"ax", " ", 
                    RowBox[{"(", 
                    RowBox[{"cx", "+", "hx"}], ")"}]}], "+", 
                   RowBox[{"cy", " ", "hy"}], "-", 
                   RowBox[{"ay", " ", 
                    RowBox[{"(", 
                    RowBox[{"cy", "+", "hy"}], ")"}]}], "+", 
                   RowBox[{"2", " ", "cz", " ", "hz"}]}], ")"}], " ", 
                 "\[Xi]m"}]}], ")"}]}]}], ")"}]}]}], ")"}]}]}], ")"}], "/", 
     RowBox[{"(", 
      RowBox[{"L", " ", "Ls", " ", "\[Xi]ct", " ", 
       RowBox[{"(", 
        RowBox[{"\[Xi]cr", "+", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            SuperscriptBox["ax", "2"], "+", 
            SuperscriptBox["ay", "2"], "+", 
            SuperscriptBox["az", "2"], "-", 
            RowBox[{"2", " ", "ax", " ", "cx"}], "+", 
            SuperscriptBox["cx", "2"], "-", 
            RowBox[{"2", " ", "ay", " ", "cy"}], "+", 
            SuperscriptBox["cy", "2"], "-", 
            RowBox[{"2", " ", "az", " ", "cz"}], "+", 
            SuperscriptBox["cz", "2"]}], ")"}], " ", "\[Xi]m"}]}], ")"}]}], 
      ")"}]}]}], ",", 
   RowBox[{"\[Omega]x", "\[Rule]", 
    FractionBox[
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"az", " ", 
         RowBox[{"(", 
          RowBox[{"cy", "-", "hy"}], ")"}]}], "+", 
        RowBox[{"cz", " ", "hy"}], "-", 
        RowBox[{"cy", " ", "hz"}], "+", 
        RowBox[{"ay", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"-", "cz"}], "+", "hz"}], ")"}]}]}], ")"}], " ", "k", " ", 
      
      RowBox[{"(", 
       RowBox[{"L", "-", "R"}], ")"}]}], 
     RowBox[{"L", " ", 
      RowBox[{"(", 
       RowBox[{"\[Xi]cr", "+", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           SuperscriptBox["ax", "2"], "+", 
           SuperscriptBox["ay", "2"], "+", 
           SuperscriptBox["az", "2"], "-", 
           RowBox[{"2", " ", "ax", " ", "cx"}], "+", 
           SuperscriptBox["cx", "2"], "-", 
           RowBox[{"2", " ", "ay", " ", "cy"}], "+", 
           SuperscriptBox["cy", "2"], "-", 
           RowBox[{"2", " ", "az", " ", "cz"}], "+", 
           SuperscriptBox["cz", "2"]}], ")"}], " ", "\[Xi]m"}]}], ")"}]}]]}], 
   ",", 
   RowBox[{"\[Omega]y", "\[Rule]", 
    RowBox[{"-", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"az", " ", 
          RowBox[{"(", 
           RowBox[{"cx", "-", "hx"}], ")"}]}], "+", 
         RowBox[{"cz", " ", "hx"}], "-", 
         RowBox[{"cx", " ", "hz"}], "+", 
         RowBox[{"ax", " ", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"-", "cz"}], "+", "hz"}], ")"}]}]}], ")"}], " ", "k", " ", 
       RowBox[{"(", 
        RowBox[{"L", "-", "R"}], ")"}]}], 
      RowBox[{"L", " ", 
       RowBox[{"(", 
        RowBox[{"\[Xi]cr", "+", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            SuperscriptBox["ax", "2"], "+", 
            SuperscriptBox["ay", "2"], "+", 
            SuperscriptBox["az", "2"], "-", 
            RowBox[{"2", " ", "ax", " ", "cx"}], "+", 
            SuperscriptBox["cx", "2"], "-", 
            RowBox[{"2", " ", "ay", " ", "cy"}], "+", 
            SuperscriptBox["cy", "2"], "-", 
            RowBox[{"2", " ", "az", " ", "cz"}], "+", 
            SuperscriptBox["cz", "2"]}], ")"}], " ", "\[Xi]m"}]}], 
        ")"}]}]]}]}], ",", 
   RowBox[{"\[Omega]z", "\[Rule]", 
    FractionBox[
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"ay", " ", 
         RowBox[{"(", 
          RowBox[{"cx", "-", "hx"}], ")"}]}], "+", 
        RowBox[{"cy", " ", "hx"}], "-", 
        RowBox[{"cx", " ", "hy"}], "+", 
        RowBox[{"ax", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"-", "cy"}], "+", "hy"}], ")"}]}]}], ")"}], " ", "k", " ", 
      
      RowBox[{"(", 
       RowBox[{"L", "-", "R"}], ")"}]}], 
     RowBox[{"L", " ", 
      RowBox[{"(", 
       RowBox[{"\[Xi]cr", "+", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           SuperscriptBox["ax", "2"], "+", 
           SuperscriptBox["ay", "2"], "+", 
           SuperscriptBox["az", "2"], "-", 
           RowBox[{"2", " ", "ax", " ", "cx"}], "+", 
           SuperscriptBox["cx", "2"], "-", 
           RowBox[{"2", " ", "ay", " ", "cy"}], "+", 
           SuperscriptBox["cy", "2"], "-", 
           RowBox[{"2", " ", "az", " ", "cz"}], "+", 
           SuperscriptBox["cz", "2"]}], ")"}], " ", "\[Xi]m"}]}], 
       ")"}]}]]}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.670201957410329*^9, {3.670202012467165*^9, 3.670202039546742*^9}, 
   3.6702033192307367`*^9, 3.6702726972246103`*^9, {3.670621032811246*^9, 
   3.670621039212659*^9}, 3.67062122925294*^9, 3.670621593440257*^9, 
   3.684007490548566*^9, 3.684007536554545*^9}]
}, Open  ]],

Cell["CForm is useless for these rules, need to generate equations", "Text",
 CellChangeTimes->{{3.68400755414793*^9, 3.684007576850477*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CForm", "[", "soln", "]"}]], "Input",
 CellChangeTimes->{{3.684007480357253*^9, 3.684007484263431*^9}}],

Cell["\<\
List(Rule(ax1,(Power(ax,3)*\[Xi]m*(dt*k*(-L + R) + L*\[Xi]m) + 
       dt*k*(L - R)*(cx*(Power(ay,2) + Power(az,2) + cy*hy - ay*(cy + hy) + \
cz*hz - 
             az*(cz + hz))*\[Xi]m + hx*(\[Xi]cr + Power(cx,2)*\[Xi]m)) + 
       ax*(L*\[Xi]m*(\[Xi]cr + (Power(ay,2) + Power(az,2) + Power(cx,2) - \
2*ay*cy + Power(cy,2) - 
                2*az*cz + Power(cz,2))*\[Xi]m) - 
          dt*k*(L - R)*(\[Xi]cr + (Power(ay,2) + Power(az,2) + Power(cx,2) + \
2*cx*hx + 
                cy*hy - ay*(cy + hy) + cz*hz - az*(cz + hz))*\[Xi]m)) + 
       Power(ax,2)*\[Xi]m*(dt*hx*k*(L - R) + 2*cx*(dt*k*(L - R) - \
L*\[Xi]m)))/
     (L*\[Xi]m*(\[Xi]cr + (Power(ax,2) + Power(ay,2) + Power(az,2) - 2*ax*cx \
+ Power(cx,2) - 
            2*ay*cy + Power(cy,2) - 2*az*cz + Power(cz,2))*\[Xi]m))),
   Rule(ay1,(Power(ay,3)*\[Xi]m*(dt*k*(-L + R) + L*\[Xi]m) + 
       dt*k*(L - R)*(cy*(Power(ax,2) + Power(az,2) + cx*hx - ax*(cx + hx) + \
cz*hz - 
             az*(cz + hz))*\[Xi]m + hy*(\[Xi]cr + Power(cy,2)*\[Xi]m)) + 
       ay*(L*\[Xi]m*(\[Xi]cr + (Power(ax,2) + Power(az,2) - 2*ax*cx + \
Power(cx,2) + Power(cy,2) - 
                2*az*cz + Power(cz,2))*\[Xi]m) - 
          dt*k*(L - R)*(\[Xi]cr + (Power(ax,2) + Power(az,2) + Power(cy,2) + \
cx*hx - 
                ax*(cx + hx) + 2*cy*hy + cz*hz - az*(cz + hz))*\[Xi]m)) + 
       Power(ay,2)*\[Xi]m*(dt*hy*k*(L - R) + 2*cy*(dt*k*(L - R) - \
L*\[Xi]m)))/
     (L*\[Xi]m*(\[Xi]cr + (Power(ax,2) + Power(ay,2) + Power(az,2) - 2*ax*cx \
+ Power(cx,2) - 
            2*ay*cy + Power(cy,2) - 2*az*cz + Power(cz,2))*\[Xi]m))),
   Rule(az1,(Power(az,3)*\[Xi]m*(dt*k*(-L + R) + L*\[Xi]m) + 
       dt*k*(L - R)*(cz*(Power(ax,2) + Power(ay,2) + cx*hx - ax*(cx + hx) + \
cy*hy - 
             ay*(cy + hy))*\[Xi]m + hz*(\[Xi]cr + Power(cz,2)*\[Xi]m)) + 
       az*(L*\[Xi]m*(\[Xi]cr + (Power(ax,2) + Power(ay,2) - 2*ax*cx + \
Power(cx,2) - 2*ay*cy + 
                Power(cy,2) + Power(cz,2))*\[Xi]m) - 
          dt*k*(L - R)*(\[Xi]cr + (Power(ax,2) + Power(ay,2) + Power(cz,2) + \
cx*hx - 
                ax*(cx + hx) + cy*hy - ay*(cy + hy) + 2*cz*hz)*\[Xi]m)) + 
       Power(az,2)*\[Xi]m*(dt*hz*k*(L - R) + 2*cz*(dt*k*(L - R) - \
L*\[Xi]m)))/
     (L*\[Xi]m*(\[Xi]cr + (Power(ax,2) + Power(ay,2) + Power(az,2) - 2*ax*cx \
+ Power(cx,2) - 
            2*ay*cy + Power(cy,2) - 2*az*cz + Power(cz,2))*\[Xi]m))),
   Rule(cx1,(Power(ax,3)*dt*k*Ls*(-L + R)*\[Xi]m + 
       Power(ax,2)*(dt*(hx*k*Ls*(L - R) + ks*L*MTx*(Ls - R)) + 
          cx*(dt*(2*k*Ls*(L - R) + ks*L*(-Ls + R)) + L*Ls*\[Xi]ct))*\[Xi]m + 
       cx*L*Ls*\[Xi]ct*(\[Xi]cr + (Power(ay,2) + Power(az,2) + Power(cx,2) - \
2*ay*cy + 
             Power(cy,2) - 2*az*cz + Power(cz,2))*\[Xi]m) + 
       dt*(Power(cx,2)*ks*L*MTx*(Ls - R)*\[Xi]m + Power(cx,3)*ks*L*(-Ls + R)*\
\[Xi]m + 
          hx*k*Ls*(L - R)*(\[Xi]cr + Power(cx,2)*\[Xi]m) + 
          ks*L*MTx*(Ls - R)*(\[Xi]cr + (Power(ay,2) + Power(az,2) - 2*ay*cy + \
Power(cy,2) - 
                2*az*cz + Power(cz,2))*\[Xi]m) + 
          cx*((Power(ay,2) + Power(az,2) + cy*hy - ay*(cy + hy) + cz*hz - \
az*(cz + hz))*k*
              Ls*(L - R)*\[Xi]m - ks*L*(Ls - R)*
              (\[Xi]cr + (Power(ay,2) + Power(az,2) - 2*ay*cy + Power(cy,2) - \
2*az*cz + 
                   Power(cz,2))*\[Xi]m))) + 
       ax*(-2*Power(cx,2)*L*Ls*\[Xi]ct*\[Xi]m + 
          dt*(2*cx*ks*L*(cx - MTx)*(Ls - R)*\[Xi]m - 
             k*Ls*(L - R)*(\[Xi]cr + (Power(ay,2) + Power(az,2) + Power(cx,2) \
+ 2*cx*hx + 
                   cy*hy - ay*(cy + hy) + cz*hz - az*(cz + hz))*\[Xi]m))))/
     (L*Ls*\[Xi]ct*(\[Xi]cr + (Power(ax,2) + Power(ay,2) + Power(az,2) - \
2*ax*cx + Power(cx,2) - 
            2*ay*cy + Power(cy,2) - 2*az*cz + Power(cz,2))*\[Xi]m))),
   Rule(cy1,(Power(ay,3)*dt*k*Ls*(-L + R)*\[Xi]m + 
       Power(ay,2)*(dt*(hy*k*Ls*(L - R) + ks*L*MTy*(Ls - R)) + 
          cy*(dt*(2*k*Ls*(L - R) + ks*L*(-Ls + R)) + L*Ls*\[Xi]ct))*\[Xi]m + 
       cy*L*Ls*\[Xi]ct*(\[Xi]cr + (Power(ax,2) + Power(az,2) - 2*ax*cx + \
Power(cx,2) + 
             Power(cy,2) - 2*az*cz + Power(cz,2))*\[Xi]m) + 
       dt*(Power(cy,2)*ks*L*MTy*(Ls - R)*\[Xi]m + Power(cy,3)*ks*L*(-Ls + R)*\
\[Xi]m + 
          hy*k*Ls*(L - R)*(\[Xi]cr + Power(cy,2)*\[Xi]m) + 
          ks*L*MTy*(Ls - R)*(\[Xi]cr + (Power(ax,2) + Power(az,2) - 2*ax*cx + \
Power(cx,2) - 
                2*az*cz + Power(cz,2))*\[Xi]m) + 
          cy*((Power(ax,2) + Power(az,2) + cx*hx - ax*(cx + hx) + cz*hz - \
az*(cz + hz))*k*
              Ls*(L - R)*\[Xi]m - ks*L*(Ls - R)*
              (\[Xi]cr + (Power(ax,2) + Power(az,2) - 2*ax*cx + Power(cx,2) - \
2*az*cz + 
                   Power(cz,2))*\[Xi]m))) + 
       ay*(-2*Power(cy,2)*L*Ls*\[Xi]ct*\[Xi]m + 
          dt*(2*cy*ks*L*(cy - MTy)*(Ls - R)*\[Xi]m - 
             k*Ls*(L - R)*(\[Xi]cr + (Power(ax,2) + Power(az,2) + Power(cy,2) \
+ cx*hx - 
                   ax*(cx + hx) + 2*cy*hy + cz*hz - az*(cz + hz))*\[Xi]m))))/
     (L*Ls*\[Xi]ct*(\[Xi]cr + (Power(ax,2) + Power(ay,2) + Power(az,2) - \
2*ax*cx + Power(cx,2) - 
            2*ay*cy + Power(cy,2) - 2*az*cz + Power(cz,2))*\[Xi]m))),
   Rule(cz1,(Power(az,3)*dt*k*Ls*(-L + R)*\[Xi]m + 
       Power(az,2)*(dt*(hz*k*Ls*(L - R) + ks*L*MTz*(Ls - R)) + 
          cz*(dt*(2*k*Ls*(L - R) + ks*L*(-Ls + R)) + L*Ls*\[Xi]ct))*\[Xi]m + 
       cz*L*Ls*\[Xi]ct*(\[Xi]cr + (Power(ax,2) + Power(ay,2) - 2*ax*cx + \
Power(cx,2) - 2*ay*cy + 
             Power(cy,2) + Power(cz,2))*\[Xi]m) + 
       dt*(Power(cz,2)*ks*L*MTz*(Ls - R)*\[Xi]m + Power(cz,3)*ks*L*(-Ls + R)*\
\[Xi]m + 
          ks*L*MTz*(Ls - R)*(\[Xi]cr + (Power(ax,2) + Power(ay,2) - 2*ax*cx + \
Power(cx,2) - 
                2*ay*cy + Power(cy,2))*\[Xi]m) + hz*k*Ls*(L - R)*(\[Xi]cr + \
Power(cz,2)*\[Xi]m) + 
          cz*((Power(ax,2) + Power(ay,2) + cx*hx - ax*(cx + hx) + cy*hy - \
ay*(cy + hy))*k*
              Ls*(L - R)*\[Xi]m - ks*L*(Ls - R)*
              (\[Xi]cr + (Power(ax,2) + Power(ay,2) - 2*ax*cx + Power(cx,2) - \
2*ay*cy + 
                   Power(cy,2))*\[Xi]m))) + 
       az*(-2*Power(cz,2)*L*Ls*\[Xi]ct*\[Xi]m + 
          dt*(2*cz*ks*L*(cz - MTz)*(Ls - R)*\[Xi]m - 
             k*Ls*(L - R)*(\[Xi]cr + (Power(ax,2) + Power(ay,2) + Power(cz,2) \
+ cx*hx - 
                   ax*(cx + hx) + cy*hy - ay*(cy + hy) + 2*cz*hz)*\[Xi]m))))/
     (L*Ls*\[Xi]ct*(\[Xi]cr + (Power(ax,2) + Power(ay,2) + Power(az,2) - \
2*ax*cx + Power(cx,2) - 
            2*ay*cy + Power(cy,2) - 2*az*cz + Power(cz,2))*\[Xi]m))),
   Rule(\[Omega]x,((az*(cy - hy) + cz*hy - cy*hz + ay*(-cz + hz))*k*(L - R))/
     (L*(\[Xi]cr + (Power(ax,2) + Power(ay,2) + Power(az,2) - 2*ax*cx + \
Power(cx,2) - 
            2*ay*cy + Power(cy,2) - 2*az*cz + Power(cz,2))*\[Xi]m))),
   Rule(\[Omega]y,-(((az*(cx - hx) + cz*hx - cx*hz + ax*(-cz + hz))*k*(L - R))/
       (L*(\[Xi]cr + (Power(ax,2) + Power(ay,2) + Power(az,2) - 2*ax*cx + \
Power(cx,2) - 
              2*ay*cy + Power(cy,2) - 2*az*cz + Power(cz,2))*\[Xi]m)))),
   Rule(\[Omega]z,((ay*(cx - hx) + cy*hx - cx*hy + ax*(-cy + hy))*k*(L - R))/
     (L*(\[Xi]cr + (Power(ax,2) + Power(ay,2) + Power(az,2) - 2*ax*cx + \
Power(cx,2) - 
            2*ay*cy + Power(cy,2) - 2*az*cz + Power(cz,2))*\[Xi]m))))\
\>", "Output",
 CellChangeTimes->{3.6840075366128283`*^9}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Can we simplify this somehow?", "Section",
 CellChangeTimes->{{3.67062269072504*^9, 3.670622697800729*^9}}],

Cell["We see the next anchor locations have a common multiple", "Text",
 CellChangeTimes->{{3.6706228014699078`*^9, 3.670622825139284*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"p", "=", 
  RowBox[{"PolynomialGCD", "@@", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"ax1", ",", "ay1", ",", "az1"}], "}"}], "/.", "soln"}], 
    ")"}]}]}]], "Input",
 CellChangeTimes->{{3.6706212103249598`*^9, 3.6706212421281548`*^9}, {
  3.670621441958947*^9, 3.6706214522588463`*^9}, {3.670621508947608*^9, 
  3.670621510286289*^9}}],

Cell[BoxData[
 FractionBox["1", 
  RowBox[{"L", " ", "\[Xi]m", " ", 
   RowBox[{"(", 
    RowBox[{"\[Xi]cr", "+", 
     RowBox[{
      SuperscriptBox["ax", "2"], " ", "\[Xi]m"}], "+", 
     RowBox[{
      SuperscriptBox["ay", "2"], " ", "\[Xi]m"}], "+", 
     RowBox[{
      SuperscriptBox["az", "2"], " ", "\[Xi]m"}], "-", 
     RowBox[{"2", " ", "ax", " ", "cx", " ", "\[Xi]m"}], "+", 
     RowBox[{
      SuperscriptBox["cx", "2"], " ", "\[Xi]m"}], "-", 
     RowBox[{"2", " ", "ay", " ", "cy", " ", "\[Xi]m"}], "+", 
     RowBox[{
      SuperscriptBox["cy", "2"], " ", "\[Xi]m"}], "-", 
     RowBox[{"2", " ", "az", " ", "cz", " ", "\[Xi]m"}], "+", 
     RowBox[{
      SuperscriptBox["cz", "2"], " ", "\[Xi]m"}]}], ")"}]}]]], "Output",
 CellChangeTimes->{{3.670621232864933*^9, 3.670621242450515*^9}, {
   3.670621446257197*^9, 3.670621452678266*^9}, 3.6706215112572727`*^9, 
   3.67062159760312*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Collect", "[", 
  RowBox[{
   RowBox[{"1", "/", "p"}], ",", "\[Xi]m"}], "]"}]], "Input",
 CellChangeTimes->{{3.6706216791146317`*^9, 3.6706216811338673`*^9}, {
  3.6706217402366247`*^9, 3.670621742676931*^9}, {3.6706217760114603`*^9, 
  3.670621820083049*^9}, {3.670622279898284*^9, 3.670622286647488*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"L", " ", "\[Xi]cr", " ", "\[Xi]m"}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     SuperscriptBox["ax", "2"], "+", 
     SuperscriptBox["ay", "2"], "+", 
     SuperscriptBox["az", "2"], "-", 
     RowBox[{"2", " ", "ax", " ", "cx"}], "+", 
     SuperscriptBox["cx", "2"], "-", 
     RowBox[{"2", " ", "ay", " ", "cy"}], "+", 
     SuperscriptBox["cy", "2"], "-", 
     RowBox[{"2", " ", "az", " ", "cz"}], "+", 
     SuperscriptBox["cz", "2"]}], ")"}], " ", "L", " ", 
   SuperscriptBox["\[Xi]m", "2"]}]}]], "Output",
 CellChangeTimes->{
  3.6706216814344482`*^9, 3.67062174318309*^9, {3.670621793193315*^9, 
   3.670621826011086*^9}, {3.670622281064444*^9, 3.6706222870705013`*^9}}]
}, Open  ]],

Cell["but it doesn\[CloseCurlyQuote]t really help things much", "Text",
 CellChangeTimes->{{3.6706228321367598`*^9, 3.670622839741879*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Collect", "[", 
  RowBox[{
   RowBox[{
    RowBox[{"Simplify", "[", 
     RowBox[{"(", 
      RowBox[{"ax1", "/.", "soln"}], ")"}], "]"}], "/", "p"}], ",", 
   "\[Xi]m"}], "]"}]], "Input",
 CellChangeTimes->{{3.6706215451168423`*^9, 3.6706215451498413`*^9}, {
  3.670621873661249*^9, 3.670621880928628*^9}, {3.670622170750989*^9, 
  3.670622177995229*^9}, {3.6706223037250566`*^9, 3.670622361673725*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"(", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{"\[Xi]cr", "+", 
      RowBox[{
       SuperscriptBox["ax", "2"], " ", "\[Xi]m"}], "+", 
      RowBox[{
       SuperscriptBox["ay", "2"], " ", "\[Xi]m"}], "+", 
      RowBox[{
       SuperscriptBox["az", "2"], " ", "\[Xi]m"}], "-", 
      RowBox[{"2", " ", "ax", " ", "cx", " ", "\[Xi]m"}], "+", 
      RowBox[{
       SuperscriptBox["cx", "2"], " ", "\[Xi]m"}], "-", 
      RowBox[{"2", " ", "ay", " ", "cy", " ", "\[Xi]m"}], "+", 
      RowBox[{
       SuperscriptBox["cy", "2"], " ", "\[Xi]m"}], "-", 
      RowBox[{"2", " ", "az", " ", "cz", " ", "\[Xi]m"}], "+", 
      RowBox[{
       SuperscriptBox["cz", "2"], " ", "\[Xi]m"}]}], ")"}], " ", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{
       SuperscriptBox["ax", "3"], " ", "\[Xi]m", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"dt", " ", "k", " ", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"-", "L"}], "+", "R"}], ")"}]}], "+", 
         RowBox[{"L", " ", "\[Xi]m"}]}], ")"}]}], "+", 
      RowBox[{"dt", " ", "k", " ", 
       RowBox[{"(", 
        RowBox[{"L", "-", "R"}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"cx", " ", 
          RowBox[{"(", 
           RowBox[{
            SuperscriptBox["ay", "2"], "+", 
            SuperscriptBox["az", "2"], "+", 
            RowBox[{"cy", " ", "hy"}], "-", 
            RowBox[{"ay", " ", 
             RowBox[{"(", 
              RowBox[{"cy", "+", "hy"}], ")"}]}], "+", 
            RowBox[{"cz", " ", "hz"}], "-", 
            RowBox[{"az", " ", 
             RowBox[{"(", 
              RowBox[{"cz", "+", "hz"}], ")"}]}]}], ")"}], " ", "\[Xi]m"}], 
         "+", 
         RowBox[{"hx", " ", 
          RowBox[{"(", 
           RowBox[{"\[Xi]cr", "+", 
            RowBox[{
             SuperscriptBox["cx", "2"], " ", "\[Xi]m"}]}], ")"}]}]}], ")"}]}],
       "+", 
      RowBox[{"ax", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"L", " ", "\[Xi]m", " ", 
          RowBox[{"(", 
           RowBox[{"\[Xi]cr", "+", 
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               SuperscriptBox["ay", "2"], "+", 
               SuperscriptBox["az", "2"], "+", 
               SuperscriptBox["cx", "2"], "-", 
               RowBox[{"2", " ", "ay", " ", "cy"}], "+", 
               SuperscriptBox["cy", "2"], "-", 
               RowBox[{"2", " ", "az", " ", "cz"}], "+", 
               SuperscriptBox["cz", "2"]}], ")"}], " ", "\[Xi]m"}]}], ")"}]}],
          "-", 
         RowBox[{"dt", " ", "k", " ", 
          RowBox[{"(", 
           RowBox[{"L", "-", "R"}], ")"}], " ", 
          RowBox[{"(", 
           RowBox[{"\[Xi]cr", "+", 
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               SuperscriptBox["ay", "2"], "+", 
               SuperscriptBox["az", "2"], "+", 
               SuperscriptBox["cx", "2"], "+", 
               RowBox[{"2", " ", "cx", " ", "hx"}], "+", 
               RowBox[{"cy", " ", "hy"}], "-", 
               RowBox[{"ay", " ", 
                RowBox[{"(", 
                 RowBox[{"cy", "+", "hy"}], ")"}]}], "+", 
               RowBox[{"cz", " ", "hz"}], "-", 
               RowBox[{"az", " ", 
                RowBox[{"(", 
                 RowBox[{"cz", "+", "hz"}], ")"}]}]}], ")"}], " ", 
             "\[Xi]m"}]}], ")"}]}]}], ")"}]}], "+", 
      RowBox[{
       SuperscriptBox["ax", "2"], " ", "\[Xi]m", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"dt", " ", "hx", " ", "k", " ", 
          RowBox[{"(", 
           RowBox[{"L", "-", "R"}], ")"}]}], "+", 
         RowBox[{"2", " ", "cx", " ", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"dt", " ", "k", " ", 
             RowBox[{"(", 
              RowBox[{"L", "-", "R"}], ")"}]}], "-", 
            RowBox[{"L", " ", "\[Xi]m"}]}], ")"}]}]}], ")"}]}]}], ")"}]}], 
   ")"}], "/", 
  RowBox[{"(", 
   RowBox[{"\[Xi]cr", "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{
       SuperscriptBox["ax", "2"], "+", 
       SuperscriptBox["ay", "2"], "+", 
       SuperscriptBox["az", "2"], "-", 
       RowBox[{"2", " ", "ax", " ", "cx"}], "+", 
       SuperscriptBox["cx", "2"], "-", 
       RowBox[{"2", " ", "ay", " ", "cy"}], "+", 
       SuperscriptBox["cy", "2"], "-", 
       RowBox[{"2", " ", "az", " ", "cz"}], "+", 
       SuperscriptBox["cz", "2"]}], ")"}], " ", "\[Xi]m"}]}], 
   ")"}]}]], "Output",
 CellChangeTimes->{
  3.6706215480950212`*^9, 3.670621606220511*^9, 3.670621881339362*^9, {
   3.6706221721460247`*^9, 3.6706221785744553`*^9}, {3.6706223123082533`*^9, 
   3.670622362012163*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ax1simp", "=", 
  RowBox[{"Simplify", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"ax1", "/.", "soln"}], ")"}], "/", "p"}], ",", 
    RowBox[{"Assumptions", "\[Rule]", 
     RowBox[{"Thread", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
        "ax", ",", "ay", ",", "az", ",", "cx", ",", "cy", ",", "cz", ",", 
         "\[Xi]m", ",", "\[Xi]ct", ",", "\[Xi]cr", ",", "L", ",", "R", ",", 
         "hx", ",", "hy", ",", "hz", ",", "dt", ",", "k", ",", "ks"}], "}"}], 
       ">", "0"}], "]"}]}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.670622387313147*^9, 3.6706224358448477`*^9}, {
  3.670622468403075*^9, 3.670622577819806*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   SuperscriptBox["ax", "3"], " ", "\[Xi]m", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"dt", " ", "k", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"-", "L"}], "+", "R"}], ")"}]}], "+", 
     RowBox[{"L", " ", "\[Xi]m"}]}], ")"}]}], "+", 
  RowBox[{"dt", " ", "k", " ", 
   RowBox[{"(", 
    RowBox[{"L", "-", "R"}], ")"}], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"cx", " ", 
      RowBox[{"(", 
       RowBox[{
        SuperscriptBox["ay", "2"], "+", 
        SuperscriptBox["az", "2"], "+", 
        RowBox[{"cy", " ", "hy"}], "-", 
        RowBox[{"ay", " ", 
         RowBox[{"(", 
          RowBox[{"cy", "+", "hy"}], ")"}]}], "+", 
        RowBox[{"cz", " ", "hz"}], "-", 
        RowBox[{"az", " ", 
         RowBox[{"(", 
          RowBox[{"cz", "+", "hz"}], ")"}]}]}], ")"}], " ", "\[Xi]m"}], "+", 
     RowBox[{"hx", " ", 
      RowBox[{"(", 
       RowBox[{"\[Xi]cr", "+", 
        RowBox[{
         SuperscriptBox["cx", "2"], " ", "\[Xi]m"}]}], ")"}]}]}], ")"}]}], 
  "+", 
  RowBox[{"ax", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"L", " ", "\[Xi]m", " ", 
      RowBox[{"(", 
       RowBox[{"\[Xi]cr", "+", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           SuperscriptBox["ay", "2"], "+", 
           SuperscriptBox["az", "2"], "+", 
           SuperscriptBox["cx", "2"], "-", 
           RowBox[{"2", " ", "ay", " ", "cy"}], "+", 
           SuperscriptBox["cy", "2"], "-", 
           RowBox[{"2", " ", "az", " ", "cz"}], "+", 
           SuperscriptBox["cz", "2"]}], ")"}], " ", "\[Xi]m"}]}], ")"}]}], 
     "-", 
     RowBox[{"dt", " ", "k", " ", 
      RowBox[{"(", 
       RowBox[{"L", "-", "R"}], ")"}], " ", 
      RowBox[{"(", 
       RowBox[{"\[Xi]cr", "+", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           SuperscriptBox["ay", "2"], "+", 
           SuperscriptBox["az", "2"], "+", 
           SuperscriptBox["cx", "2"], "+", 
           RowBox[{"2", " ", "cx", " ", "hx"}], "+", 
           RowBox[{"cy", " ", "hy"}], "-", 
           RowBox[{"ay", " ", 
            RowBox[{"(", 
             RowBox[{"cy", "+", "hy"}], ")"}]}], "+", 
           RowBox[{"cz", " ", "hz"}], "-", 
           RowBox[{"az", " ", 
            RowBox[{"(", 
             RowBox[{"cz", "+", "hz"}], ")"}]}]}], ")"}], " ", "\[Xi]m"}]}], 
       ")"}]}]}], ")"}]}], "+", 
  RowBox[{
   SuperscriptBox["ax", "2"], " ", "\[Xi]m", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"dt", " ", "hx", " ", "k", " ", 
      RowBox[{"(", 
       RowBox[{"L", "-", "R"}], ")"}]}], "+", 
     RowBox[{"2", " ", "cx", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"dt", " ", "k", " ", 
         RowBox[{"(", 
          RowBox[{"L", "-", "R"}], ")"}]}], "-", 
        RowBox[{"L", " ", "\[Xi]m"}]}], ")"}]}]}], ")"}]}]}]], "Output",
 CellChangeTimes->{{3.670622477777068*^9, 3.670622578443119*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Collect", "[", 
  RowBox[{"ax1simp", ",", "\[Xi]m"}], "]"}]], "Input",
 CellChangeTimes->{{3.670622581533704*^9, 3.670622592636599*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"-", "ax"}], " ", "dt", " ", "k", " ", 
   RowBox[{"(", 
    RowBox[{"L", "-", "R"}], ")"}], " ", "\[Xi]cr"}], "+", 
  RowBox[{"dt", " ", "hx", " ", "k", " ", 
   RowBox[{"(", 
    RowBox[{"L", "-", "R"}], ")"}], " ", "\[Xi]cr"}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     RowBox[{"2", " ", 
      SuperscriptBox["ax", "2"], " ", "cx", " ", "dt", " ", "k", " ", 
      RowBox[{"(", 
       RowBox[{"L", "-", "R"}], ")"}]}], "+", 
     RowBox[{
      SuperscriptBox["ax", "2"], " ", "dt", " ", "hx", " ", "k", " ", 
      RowBox[{"(", 
       RowBox[{"L", "-", "R"}], ")"}]}], "+", 
     RowBox[{
      SuperscriptBox["cx", "2"], " ", "dt", " ", "hx", " ", "k", " ", 
      RowBox[{"(", 
       RowBox[{"L", "-", "R"}], ")"}]}], "+", 
     RowBox[{"cx", " ", "dt", " ", 
      RowBox[{"(", 
       RowBox[{
        SuperscriptBox["ay", "2"], "+", 
        SuperscriptBox["az", "2"], "+", 
        RowBox[{"cy", " ", "hy"}], "-", 
        RowBox[{"ay", " ", 
         RowBox[{"(", 
          RowBox[{"cy", "+", "hy"}], ")"}]}], "+", 
        RowBox[{"cz", " ", "hz"}], "-", 
        RowBox[{"az", " ", 
         RowBox[{"(", 
          RowBox[{"cz", "+", "hz"}], ")"}]}]}], ")"}], " ", "k", " ", 
      RowBox[{"(", 
       RowBox[{"L", "-", "R"}], ")"}]}], "-", 
     RowBox[{"ax", " ", "dt", " ", 
      RowBox[{"(", 
       RowBox[{
        SuperscriptBox["ay", "2"], "+", 
        SuperscriptBox["az", "2"], "+", 
        SuperscriptBox["cx", "2"], "+", 
        RowBox[{"2", " ", "cx", " ", "hx"}], "+", 
        RowBox[{"cy", " ", "hy"}], "-", 
        RowBox[{"ay", " ", 
         RowBox[{"(", 
          RowBox[{"cy", "+", "hy"}], ")"}]}], "+", 
        RowBox[{"cz", " ", "hz"}], "-", 
        RowBox[{"az", " ", 
         RowBox[{"(", 
          RowBox[{"cz", "+", "hz"}], ")"}]}]}], ")"}], " ", "k", " ", 
      RowBox[{"(", 
       RowBox[{"L", "-", "R"}], ")"}]}], "+", 
     RowBox[{
      SuperscriptBox["ax", "3"], " ", "dt", " ", "k", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"-", "L"}], "+", "R"}], ")"}]}], "+", 
     RowBox[{"ax", " ", "L", " ", "\[Xi]cr"}]}], ")"}], " ", "\[Xi]m"}], "+", 
  
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      SuperscriptBox["ax", "3"], " ", "L"}], "-", 
     RowBox[{"2", " ", 
      SuperscriptBox["ax", "2"], " ", "cx", " ", "L"}], "+", 
     RowBox[{"ax", " ", 
      RowBox[{"(", 
       RowBox[{
        SuperscriptBox["ay", "2"], "+", 
        SuperscriptBox["az", "2"], "+", 
        SuperscriptBox["cx", "2"], "-", 
        RowBox[{"2", " ", "ay", " ", "cy"}], "+", 
        SuperscriptBox["cy", "2"], "-", 
        RowBox[{"2", " ", "az", " ", "cz"}], "+", 
        SuperscriptBox["cz", "2"]}], ")"}], " ", "L"}]}], ")"}], " ", 
   SuperscriptBox["\[Xi]m", "2"]}]}]], "Output",
 CellChangeTimes->{3.6706225929485073`*^9}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Matrix version", "Section",
 CellChangeTimes->{{3.6706295535655813`*^9, 3.6706295652196007`*^9}, {
  3.6706359291864033`*^9, 3.670635932661539*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"anchoreqs", "=", 
  RowBox[{"Thread", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "0"}], "}"}], "\[Equal]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"FmTx", ",", "FmTy", ",", "FmTy"}], "}"}], "+", 
     RowBox[{"\[Xi]m", " ", 
      RowBox[{"Cross", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"\[Omega]x", ",", "\[Omega]y", ",", "\[Omega]z"}], "}"}], 
        ",", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"ax", ",", "ay", ",", "az"}], "}"}], "-", 
         RowBox[{"{", 
          RowBox[{"cx", ",", "cy", ",", "cz"}], "}"}]}]}], "]"}]}], "+", 
     RowBox[{"\[Xi]m", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"ax1", ",", "ay1", ",", "az1"}], "}"}], "-", 
         RowBox[{"{", 
          RowBox[{"ax", ",", "ay", ",", "az"}], "}"}]}], ")"}], "/", 
       "dt"}]}]}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.670201196582883*^9, 3.670201198012827*^9}, {
  3.670201252417695*^9, 3.670201367290771*^9}, {3.670201439481929*^9, 
  3.6702015888137913`*^9}, {3.670201635996417*^9, 3.6702016366153803`*^9}, {
  3.6702019732592993`*^9, 3.6702019876027308`*^9}, {3.670633556161256*^9, 
  3.67063358426262*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"0", "\[Equal]", 
    RowBox[{"FmTx", "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "ax"}], "+", "ax1"}], ")"}], " ", "\[Xi]m"}], "dt"], 
     "+", 
     RowBox[{"\[Xi]m", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"az", " ", "\[Omega]y"}], "-", 
        RowBox[{"cz", " ", "\[Omega]y"}], "-", 
        RowBox[{"ay", " ", "\[Omega]z"}], "+", 
        RowBox[{"cy", " ", "\[Omega]z"}]}], ")"}]}]}]}], ",", 
   RowBox[{"0", "\[Equal]", 
    RowBox[{"FmTy", "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "ay"}], "+", "ay1"}], ")"}], " ", "\[Xi]m"}], "dt"], 
     "+", 
     RowBox[{"\[Xi]m", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "az"}], " ", "\[Omega]x"}], "+", 
        RowBox[{"cz", " ", "\[Omega]x"}], "+", 
        RowBox[{"ax", " ", "\[Omega]z"}], "-", 
        RowBox[{"cx", " ", "\[Omega]z"}]}], ")"}]}]}]}], ",", 
   RowBox[{"0", "\[Equal]", 
    RowBox[{"FmTy", "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "az"}], "+", "az1"}], ")"}], " ", "\[Xi]m"}], "dt"], 
     "+", 
     RowBox[{"\[Xi]m", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"ay", " ", "\[Omega]x"}], "-", 
        RowBox[{"cy", " ", "\[Omega]x"}], "-", 
        RowBox[{"ax", " ", "\[Omega]y"}], "+", 
        RowBox[{"cx", " ", "\[Omega]y"}]}], ")"}]}]}]}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.670201592490835*^9, 3.670201640450859*^9, {3.670201979449851*^9, 
   3.67020198793552*^9}, 3.670620975405838*^9, 3.670633648609209*^9, 
   3.670634247946698*^9}]
}, Open  ]],

Cell["Sum of forces on the cargo", "Text",
 CellChangeTimes->{{3.670622714653213*^9, 3.670622718084396*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"cargoFeqs", "=", 
  RowBox[{"Thread", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "0"}], "}"}], "==", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"FmRx", ",", "FmRy", ",", "FmRz"}], "}"}], "-", 
     RowBox[{"\[Xi]m", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"ax1", ",", "ay1", ",", "az1"}], "}"}], "-", 
         RowBox[{"{", 
          RowBox[{"ax", ",", "ay", ",", "az"}], "}"}]}], ")"}], "/", "dt"}]}],
      "+", 
     RowBox[{"\[Xi]ct", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"cx1", ",", "cy1", ",", "cz1"}], "}"}], "-", 
         RowBox[{"{", 
          RowBox[{"cx", ",", "cy", ",", "cz"}], "}"}]}], ")"}], "/", "dt"}]}],
      "+", 
     RowBox[{"{", 
      RowBox[{"Fsx", ",", "Fsy", ",", "Fsz"}], "}"}]}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.6702016184234447`*^9, 3.67020162528581*^9}, {
  3.670201662411532*^9, 3.670201691132023*^9}, {3.670201997380299*^9, 
  3.6702019996965446`*^9}, {3.6702029040018587`*^9, 3.670202928301923*^9}, {
  3.67020298335818*^9, 3.670202996115602*^9}, {3.67020310049262*^9, 
  3.67020310442997*^9}, {3.6702031609272623`*^9, 3.670203203620912*^9}, {
  3.6702032832145033`*^9, 3.6702033098318443`*^9}, {3.670620963233138*^9, 
  3.670620967902801*^9}, {3.670633670371669*^9, 3.670633676118671*^9}, {
  3.670633726192534*^9, 3.670633771552236*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"0", "\[Equal]", 
    RowBox[{"FmRx", "+", "Fsx", "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "cx"}], "+", "cx1"}], ")"}], " ", "\[Xi]ct"}], "dt"], 
     "-", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "ax"}], "+", "ax1"}], ")"}], " ", "\[Xi]m"}], "dt"]}]}],
    ",", 
   RowBox[{"0", "\[Equal]", 
    RowBox[{"FmRy", "+", "Fsy", "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "cy"}], "+", "cy1"}], ")"}], " ", "\[Xi]ct"}], "dt"], 
     "-", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "ay"}], "+", "ay1"}], ")"}], " ", "\[Xi]m"}], "dt"]}]}],
    ",", 
   RowBox[{"0", "\[Equal]", 
    RowBox[{"FmRz", "+", "Fsz", "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "cz"}], "+", "cz1"}], ")"}], " ", "\[Xi]ct"}], "dt"], 
     "-", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "az"}], "+", "az1"}], ")"}], " ", "\[Xi]m"}], 
      "dt"]}]}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.670201696952327*^9, 3.670201999968904*^9, 3.670203311371953*^9, 
   3.670620970010828*^9, {3.6706337430213003`*^9, 3.6706337721232967`*^9}}]
}, Open  ]],

Cell["Sum of torques on the cargo", "Text",
 CellChangeTimes->{{3.670622721392006*^9, 3.670622727039551*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"cargoTeqs", "=", 
  RowBox[{"Thread", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "0"}], "}"}], "==", 
    RowBox[{
     RowBox[{"Cross", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"{", 
         RowBox[{"ax", ",", "ay", ",", "az"}], "}"}], "-", 
        RowBox[{"{", 
         RowBox[{"cx", ",", "cy", ",", "cz"}], "}"}]}], ",", 
       RowBox[{
        RowBox[{"-", "\[Xi]m"}], 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"ax1", ",", "ay1", ",", "az1"}], "}"}], "-", 
           RowBox[{"{", 
            RowBox[{"ax", ",", "ay", ",", "az"}], "}"}]}], ")"}], "/", 
         "dt"}]}]}], "]"}], "+", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\[Omega]x", ",", "\[Omega]y", ",", "\[Omega]z"}], "}"}], 
      "\[Xi]cr"}]}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.670201712496181*^9, 3.6702018127776823`*^9}, {
  3.670202003927223*^9, 3.670202006018992*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"0", "\[Equal]", 
    RowBox[{
     FractionBox[
      RowBox[{"ay1", " ", "az", " ", "\[Xi]m"}], "dt"], "-", 
     FractionBox[
      RowBox[{"ay", " ", "az1", " ", "\[Xi]m"}], "dt"], "-", 
     FractionBox[
      RowBox[{"az", " ", "cy", " ", "\[Xi]m"}], "dt"], "+", 
     FractionBox[
      RowBox[{"az1", " ", "cy", " ", "\[Xi]m"}], "dt"], "+", 
     FractionBox[
      RowBox[{"ay", " ", "cz", " ", "\[Xi]m"}], "dt"], "-", 
     FractionBox[
      RowBox[{"ay1", " ", "cz", " ", "\[Xi]m"}], "dt"], "+", 
     RowBox[{"\[Xi]cr", " ", "\[Omega]x"}]}]}], ",", 
   RowBox[{"0", "\[Equal]", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{"ax1", " ", "az", " ", "\[Xi]m"}], "dt"]}], "+", 
     FractionBox[
      RowBox[{"ax", " ", "az1", " ", "\[Xi]m"}], "dt"], "+", 
     FractionBox[
      RowBox[{"az", " ", "cx", " ", "\[Xi]m"}], "dt"], "-", 
     FractionBox[
      RowBox[{"az1", " ", "cx", " ", "\[Xi]m"}], "dt"], "-", 
     FractionBox[
      RowBox[{"ax", " ", "cz", " ", "\[Xi]m"}], "dt"], "+", 
     FractionBox[
      RowBox[{"ax1", " ", "cz", " ", "\[Xi]m"}], "dt"], "+", 
     RowBox[{"\[Xi]cr", " ", "\[Omega]y"}]}]}], ",", 
   RowBox[{"0", "\[Equal]", 
    RowBox[{
     FractionBox[
      RowBox[{"ax1", " ", "ay", " ", "\[Xi]m"}], "dt"], "-", 
     FractionBox[
      RowBox[{"ax", " ", "ay1", " ", "\[Xi]m"}], "dt"], "-", 
     FractionBox[
      RowBox[{"ay", " ", "cx", " ", "\[Xi]m"}], "dt"], "+", 
     FractionBox[
      RowBox[{"ay1", " ", "cx", " ", "\[Xi]m"}], "dt"], "+", 
     FractionBox[
      RowBox[{"ax", " ", "cy", " ", "\[Xi]m"}], "dt"], "-", 
     FractionBox[
      RowBox[{"ax1", " ", "cy", " ", "\[Xi]m"}], "dt"], "+", 
     RowBox[{"\[Xi]cr", " ", "\[Omega]z"}]}]}]}], "}"}]], "Output",
 CellChangeTimes->{3.6702018169286013`*^9, 3.6702020071404*^9, 
  3.6706210198964767`*^9, 3.670633808819541*^9, 3.6706342531620007`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"{", 
   RowBox[{"const", ",", "coeff"}], "}"}], "=", 
  RowBox[{"Normal", "@", 
   RowBox[{"CoefficientArrays", "[", 
    RowBox[{
     RowBox[{"Join", "[", 
      RowBox[{"anchoreqs", ",", "cargoFeqs", ",", "cargoTeqs"}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{
      "ax1", ",", "ay1", ",", "az1", ",", "cx1", ",", "cy1", ",", "cz1", ",", 
       "\[Omega]x", ",", "\[Omega]y", ",", "\[Omega]z"}], "}"}]}], 
    "]"}]}]}]], "Input",
 CellChangeTimes->{{3.67063406620093*^9, 3.670634130978595*^9}, {
  3.670634204147932*^9, 3.6706342106923103`*^9}, {3.6706346069880953`*^9, 
  3.670634622186791*^9}, {3.670634694467856*^9, 3.6706346953330393`*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "FmTx"}], "+", 
      FractionBox[
       RowBox[{"ax", " ", "\[Xi]m"}], "dt"]}], ",", 
     RowBox[{
      RowBox[{"-", "FmTy"}], "+", 
      FractionBox[
       RowBox[{"ay", " ", "\[Xi]m"}], "dt"]}], ",", 
     RowBox[{
      RowBox[{"-", "FmTy"}], "+", 
      FractionBox[
       RowBox[{"az", " ", "\[Xi]m"}], "dt"]}], ",", 
     RowBox[{
      RowBox[{"-", "FmRx"}], "-", "Fsx", "+", 
      FractionBox[
       RowBox[{"cx", " ", "\[Xi]ct"}], "dt"], "-", 
      FractionBox[
       RowBox[{"ax", " ", "\[Xi]m"}], "dt"]}], ",", 
     RowBox[{
      RowBox[{"-", "FmRy"}], "-", "Fsy", "+", 
      FractionBox[
       RowBox[{"cy", " ", "\[Xi]ct"}], "dt"], "-", 
      FractionBox[
       RowBox[{"ay", " ", "\[Xi]m"}], "dt"]}], ",", 
     RowBox[{
      RowBox[{"-", "FmRz"}], "-", "Fsz", "+", 
      FractionBox[
       RowBox[{"cz", " ", "\[Xi]ct"}], "dt"], "-", 
      FractionBox[
       RowBox[{"az", " ", "\[Xi]m"}], "dt"]}], ",", 
     RowBox[{
      FractionBox[
       RowBox[{"az", " ", "cy", " ", "\[Xi]m"}], "dt"], "-", 
      FractionBox[
       RowBox[{"ay", " ", "cz", " ", "\[Xi]m"}], "dt"]}], ",", 
     RowBox[{
      RowBox[{"-", 
       FractionBox[
        RowBox[{"az", " ", "cx", " ", "\[Xi]m"}], "dt"]}], "+", 
      FractionBox[
       RowBox[{"ax", " ", "cz", " ", "\[Xi]m"}], "dt"]}], ",", 
     RowBox[{
      FractionBox[
       RowBox[{"ay", " ", "cx", " ", "\[Xi]m"}], "dt"], "-", 
      FractionBox[
       RowBox[{"ax", " ", "cy", " ", "\[Xi]m"}], "dt"]}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"-", 
        FractionBox["\[Xi]m", "dt"]}], ",", "0", ",", "0", ",", "0", ",", "0",
        ",", "0", ",", "0", ",", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "az"}], " ", "\[Xi]m"}], "+", 
        RowBox[{"cz", " ", "\[Xi]m"}]}], ",", 
       RowBox[{
        RowBox[{"ay", " ", "\[Xi]m"}], "-", 
        RowBox[{"cy", " ", "\[Xi]m"}]}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", 
       RowBox[{"-", 
        FractionBox["\[Xi]m", "dt"]}], ",", "0", ",", "0", ",", "0", ",", "0",
        ",", 
       RowBox[{
        RowBox[{"az", " ", "\[Xi]m"}], "-", 
        RowBox[{"cz", " ", "\[Xi]m"}]}], ",", "0", ",", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "ax"}], " ", "\[Xi]m"}], "+", 
        RowBox[{"cx", " ", "\[Xi]m"}]}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", 
       RowBox[{"-", 
        FractionBox["\[Xi]m", "dt"]}], ",", "0", ",", "0", ",", "0", ",", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "ay"}], " ", "\[Xi]m"}], "+", 
        RowBox[{"cy", " ", "\[Xi]m"}]}], ",", 
       RowBox[{
        RowBox[{"ax", " ", "\[Xi]m"}], "-", 
        RowBox[{"cx", " ", "\[Xi]m"}]}], ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       FractionBox["\[Xi]m", "dt"], ",", "0", ",", "0", ",", 
       RowBox[{"-", 
        FractionBox["\[Xi]ct", "dt"]}], ",", "0", ",", "0", ",", "0", ",", 
       "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", 
       FractionBox["\[Xi]m", "dt"], ",", "0", ",", "0", ",", 
       RowBox[{"-", 
        FractionBox["\[Xi]ct", "dt"]}], ",", "0", ",", "0", ",", "0", ",", 
       "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", 
       FractionBox["\[Xi]m", "dt"], ",", "0", ",", "0", ",", 
       RowBox[{"-", 
        FractionBox["\[Xi]ct", "dt"]}], ",", "0", ",", "0", ",", "0"}], "}"}],
      ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", 
       RowBox[{
        RowBox[{"-", 
         FractionBox[
          RowBox[{"az", " ", "\[Xi]m"}], "dt"]}], "+", 
        FractionBox[
         RowBox[{"cz", " ", "\[Xi]m"}], "dt"]}], ",", 
       RowBox[{
        FractionBox[
         RowBox[{"ay", " ", "\[Xi]m"}], "dt"], "-", 
        FractionBox[
         RowBox[{"cy", " ", "\[Xi]m"}], "dt"]}], ",", "0", ",", "0", ",", "0",
        ",", 
       RowBox[{"-", "\[Xi]cr"}], ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        FractionBox[
         RowBox[{"az", " ", "\[Xi]m"}], "dt"], "-", 
        FractionBox[
         RowBox[{"cz", " ", "\[Xi]m"}], "dt"]}], ",", "0", ",", 
       RowBox[{
        RowBox[{"-", 
         FractionBox[
          RowBox[{"ax", " ", "\[Xi]m"}], "dt"]}], "+", 
        FractionBox[
         RowBox[{"cx", " ", "\[Xi]m"}], "dt"]}], ",", "0", ",", "0", ",", "0",
        ",", "0", ",", 
       RowBox[{"-", "\[Xi]cr"}], ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{"-", 
         FractionBox[
          RowBox[{"ay", " ", "\[Xi]m"}], "dt"]}], "+", 
        FractionBox[
         RowBox[{"cy", " ", "\[Xi]m"}], "dt"]}], ",", 
       RowBox[{
        FractionBox[
         RowBox[{"ax", " ", "\[Xi]m"}], "dt"], "-", 
        FractionBox[
         RowBox[{"cx", " ", "\[Xi]m"}], "dt"]}], ",", "0", ",", "0", ",", "0",
        ",", "0", ",", "0", ",", "0", ",", 
       RowBox[{"-", "\[Xi]cr"}]}], "}"}]}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.670634131618389*^9, 3.670634210935553*^9, 3.670634255516568*^9, {
   3.670634614354059*^9, 3.670634622706143*^9}, 3.670634696222649*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"MatrixForm", "[", "coeff", "]"}]], "Input",
 CellChangeTimes->{{3.6706347642113333`*^9, 3.670634776969496*^9}}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"-", 
       FractionBox["\[Xi]m", "dt"]}], "0", "0", "0", "0", "0", "0", 
      RowBox[{
       RowBox[{
        RowBox[{"-", "az"}], " ", "\[Xi]m"}], "+", 
       RowBox[{"cz", " ", "\[Xi]m"}]}], 
      RowBox[{
       RowBox[{"ay", " ", "\[Xi]m"}], "-", 
       RowBox[{"cy", " ", "\[Xi]m"}]}]},
     {"0", 
      RowBox[{"-", 
       FractionBox["\[Xi]m", "dt"]}], "0", "0", "0", "0", 
      RowBox[{
       RowBox[{"az", " ", "\[Xi]m"}], "-", 
       RowBox[{"cz", " ", "\[Xi]m"}]}], "0", 
      RowBox[{
       RowBox[{
        RowBox[{"-", "ax"}], " ", "\[Xi]m"}], "+", 
       RowBox[{"cx", " ", "\[Xi]m"}]}]},
     {"0", "0", 
      RowBox[{"-", 
       FractionBox["\[Xi]m", "dt"]}], "0", "0", "0", 
      RowBox[{
       RowBox[{
        RowBox[{"-", "ay"}], " ", "\[Xi]m"}], "+", 
       RowBox[{"cy", " ", "\[Xi]m"}]}], 
      RowBox[{
       RowBox[{"ax", " ", "\[Xi]m"}], "-", 
       RowBox[{"cx", " ", "\[Xi]m"}]}], "0"},
     {
      FractionBox["\[Xi]m", "dt"], "0", "0", 
      RowBox[{"-", 
       FractionBox["\[Xi]ct", "dt"]}], "0", "0", "0", "0", "0"},
     {"0", 
      FractionBox["\[Xi]m", "dt"], "0", "0", 
      RowBox[{"-", 
       FractionBox["\[Xi]ct", "dt"]}], "0", "0", "0", "0"},
     {"0", "0", 
      FractionBox["\[Xi]m", "dt"], "0", "0", 
      RowBox[{"-", 
       FractionBox["\[Xi]ct", "dt"]}], "0", "0", "0"},
     {"0", 
      RowBox[{
       RowBox[{"-", 
        FractionBox[
         RowBox[{"az", " ", "\[Xi]m"}], "dt"]}], "+", 
       FractionBox[
        RowBox[{"cz", " ", "\[Xi]m"}], "dt"]}], 
      RowBox[{
       FractionBox[
        RowBox[{"ay", " ", "\[Xi]m"}], "dt"], "-", 
       FractionBox[
        RowBox[{"cy", " ", "\[Xi]m"}], "dt"]}], "0", "0", "0", 
      RowBox[{"-", "\[Xi]cr"}], "0", "0"},
     {
      RowBox[{
       FractionBox[
        RowBox[{"az", " ", "\[Xi]m"}], "dt"], "-", 
       FractionBox[
        RowBox[{"cz", " ", "\[Xi]m"}], "dt"]}], "0", 
      RowBox[{
       RowBox[{"-", 
        FractionBox[
         RowBox[{"ax", " ", "\[Xi]m"}], "dt"]}], "+", 
       FractionBox[
        RowBox[{"cx", " ", "\[Xi]m"}], "dt"]}], "0", "0", "0", "0", 
      RowBox[{"-", "\[Xi]cr"}], "0"},
     {
      RowBox[{
       RowBox[{"-", 
        FractionBox[
         RowBox[{"ay", " ", "\[Xi]m"}], "dt"]}], "+", 
       FractionBox[
        RowBox[{"cy", " ", "\[Xi]m"}], "dt"]}], 
      RowBox[{
       FractionBox[
        RowBox[{"ax", " ", "\[Xi]m"}], "dt"], "-", 
       FractionBox[
        RowBox[{"cx", " ", "\[Xi]m"}], "dt"]}], "0", "0", "0", "0", "0", "0", 
      
      RowBox[{"-", "\[Xi]cr"}]}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{{3.6706347711100473`*^9, 3.6706347774391327`*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"MatrixForm", "[", "const", "]"}]], "Input",
 CellChangeTimes->{{3.670635061767943*^9, 3.670635062127112*^9}}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", 
   TagBox[GridBox[{
      {
       RowBox[{
        RowBox[{"-", "FmTx"}], "+", 
        FractionBox[
         RowBox[{"ax", " ", "\[Xi]m"}], "dt"]}]},
      {
       RowBox[{
        RowBox[{"-", "FmTy"}], "+", 
        FractionBox[
         RowBox[{"ay", " ", "\[Xi]m"}], "dt"]}]},
      {
       RowBox[{
        RowBox[{"-", "FmTy"}], "+", 
        FractionBox[
         RowBox[{"az", " ", "\[Xi]m"}], "dt"]}]},
      {
       RowBox[{
        RowBox[{"-", "FmRx"}], "-", "Fsx", "+", 
        FractionBox[
         RowBox[{"cx", " ", "\[Xi]ct"}], "dt"], "-", 
        FractionBox[
         RowBox[{"ax", " ", "\[Xi]m"}], "dt"]}]},
      {
       RowBox[{
        RowBox[{"-", "FmRy"}], "-", "Fsy", "+", 
        FractionBox[
         RowBox[{"cy", " ", "\[Xi]ct"}], "dt"], "-", 
        FractionBox[
         RowBox[{"ay", " ", "\[Xi]m"}], "dt"]}]},
      {
       RowBox[{
        RowBox[{"-", "FmRz"}], "-", "Fsz", "+", 
        FractionBox[
         RowBox[{"cz", " ", "\[Xi]ct"}], "dt"], "-", 
        FractionBox[
         RowBox[{"az", " ", "\[Xi]m"}], "dt"]}]},
      {
       RowBox[{
        FractionBox[
         RowBox[{"az", " ", "cy", " ", "\[Xi]m"}], "dt"], "-", 
        FractionBox[
         RowBox[{"ay", " ", "cz", " ", "\[Xi]m"}], "dt"]}]},
      {
       RowBox[{
        RowBox[{"-", 
         FractionBox[
          RowBox[{"az", " ", "cx", " ", "\[Xi]m"}], "dt"]}], "+", 
        FractionBox[
         RowBox[{"ax", " ", "cz", " ", "\[Xi]m"}], "dt"]}]},
      {
       RowBox[{
        FractionBox[
         RowBox[{"ay", " ", "cx", " ", "\[Xi]m"}], "dt"], "-", 
        FractionBox[
         RowBox[{"ax", " ", "cy", " ", "\[Xi]m"}], "dt"]}]}
     },
     GridBoxAlignment->{
      "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}},
        "RowsIndexed" -> {}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.5599999999999999]}, 
         Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}, "RowsIndexed" -> {}}],
    Column], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{3.6706350627688007`*^9}]
}, Open  ]]
}, Open  ]],

Cell["What about for multiple motors though?", "Section",
 CellChangeTimes->{{3.670635945914775*^9, 3.670635955544248*^9}}],

Cell[CellGroupData[{

Cell["Revised version", "Section",
 CellChangeTimes->{{3.670705591894711*^9, 3.670705594363426*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"anchoreqs", "=", 
  RowBox[{"Thread", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "0"}], "}"}], "\[Equal]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"FmTx", ",", "FmTy", ",", "FmTz"}], "}"}], "+", 
     RowBox[{"\[Xi]m", " ", 
      RowBox[{"Cross", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"\[Omega]x", ",", "\[Omega]y", ",", "\[Omega]z"}], "}"}], 
        ",", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"ax", ",", "ay", ",", "az"}], "}"}], "-", 
         RowBox[{"{", 
          RowBox[{"cx", ",", "cy", ",", "cz"}], "}"}]}]}], "]"}]}], "+", 
     RowBox[{"\[Xi]m", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"ax1", ",", "ay1", ",", "az1"}], "}"}], "-", 
         RowBox[{"{", 
          RowBox[{"ax", ",", "ay", ",", "az"}], "}"}]}], ")"}], "/", 
       "dt"}]}]}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.670201196582883*^9, 3.670201198012827*^9}, {
  3.670201252417695*^9, 3.670201367290771*^9}, {3.670201439481929*^9, 
  3.6702015888137913`*^9}, {3.670201635996417*^9, 3.6702016366153803`*^9}, {
  3.6702019732592993`*^9, 3.6702019876027308`*^9}, {3.670633556161256*^9, 
  3.67063358426262*^9}, {3.6834935949896717`*^9, 3.683493595034336*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"0", "\[Equal]", 
    RowBox[{"FmTx", "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "ax"}], "+", "ax1"}], ")"}], " ", "\[Xi]m"}], "dt"], 
     "+", 
     RowBox[{"\[Xi]m", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"az", " ", "\[Omega]y"}], "-", 
        RowBox[{"cz", " ", "\[Omega]y"}], "-", 
        RowBox[{"ay", " ", "\[Omega]z"}], "+", 
        RowBox[{"cy", " ", "\[Omega]z"}]}], ")"}]}]}]}], ",", 
   RowBox[{"0", "\[Equal]", 
    RowBox[{"FmTy", "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "ay"}], "+", "ay1"}], ")"}], " ", "\[Xi]m"}], "dt"], 
     "+", 
     RowBox[{"\[Xi]m", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "az"}], " ", "\[Omega]x"}], "+", 
        RowBox[{"cz", " ", "\[Omega]x"}], "+", 
        RowBox[{"ax", " ", "\[Omega]z"}], "-", 
        RowBox[{"cx", " ", "\[Omega]z"}]}], ")"}]}]}]}], ",", 
   RowBox[{"0", "\[Equal]", 
    RowBox[{"FmTz", "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "az"}], "+", "az1"}], ")"}], " ", "\[Xi]m"}], "dt"], 
     "+", 
     RowBox[{"\[Xi]m", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"ay", " ", "\[Omega]x"}], "-", 
        RowBox[{"cy", " ", "\[Omega]x"}], "-", 
        RowBox[{"ax", " ", "\[Omega]y"}], "+", 
        RowBox[{"cx", " ", "\[Omega]y"}]}], ")"}]}]}]}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.670201592490835*^9, 3.670201640450859*^9, {3.670201979449851*^9, 
   3.67020198793552*^9}, 3.670620975405838*^9, 3.670633648609209*^9, 
   3.670634247946698*^9, 3.670705780755665*^9, 3.68331803246845*^9, 
   3.6834936086728888`*^9}]
}, Open  ]],

Cell["Sum of forces on the cargo", "Text",
 CellChangeTimes->{{3.670622714653213*^9, 3.670622718084396*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"cargoFeqs", "=", 
  RowBox[{"Thread", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "0"}], "}"}], "==", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"FmRx", ",", "FmRy", ",", "FmRz"}], "}"}], "-", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"\[Xi]m", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"ax1", ",", "ay1", ",", "az1"}], "}"}], "-", 
           RowBox[{"{", 
            RowBox[{"ax", ",", "ay", ",", "az"}], "}"}]}], ")"}], "/", 
         "dt"}]}], "+", 
       RowBox[{"\[Xi]m", " ", 
        RowBox[{"Cross", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"\[Omega]x", ",", "\[Omega]y", ",", "\[Omega]z"}], "}"}], 
          ",", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"ax", ",", "ay", ",", "az"}], "}"}], "-", 
           RowBox[{"{", 
            RowBox[{"cx", ",", "cy", ",", "cz"}], "}"}]}]}], "]"}]}]}], ")"}],
      "+", 
     RowBox[{"\[Xi]ct", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"cx1", ",", "cy1", ",", "cz1"}], "}"}], "-", 
         RowBox[{"{", 
          RowBox[{"cx", ",", "cy", ",", "cz"}], "}"}]}], ")"}], "/", "dt"}]}],
      "+", 
     RowBox[{"{", 
      RowBox[{"Fsx", ",", "Fsy", ",", "Fsz"}], "}"}]}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.6702016184234447`*^9, 3.67020162528581*^9}, {
  3.670201662411532*^9, 3.670201691132023*^9}, {3.670201997380299*^9, 
  3.6702019996965446`*^9}, {3.6702029040018587`*^9, 3.670202928301923*^9}, {
  3.67020298335818*^9, 3.670202996115602*^9}, {3.67020310049262*^9, 
  3.67020310442997*^9}, {3.6702031609272623`*^9, 3.670203203620912*^9}, {
  3.6702032832145033`*^9, 3.6702033098318443`*^9}, {3.670620963233138*^9, 
  3.670620967902801*^9}, {3.670633670371669*^9, 3.670633676118671*^9}, {
  3.670633726192534*^9, 3.670633771552236*^9}, {3.670705641001294*^9, 
  3.670705648299556*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"0", "\[Equal]", 
    RowBox[{"FmRx", "+", "Fsx", "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "cx"}], "+", "cx1"}], ")"}], " ", "\[Xi]ct"}], "dt"], 
     "-", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "ax"}], "+", "ax1"}], ")"}], " ", "\[Xi]m"}], "dt"], 
     "-", 
     RowBox[{"\[Xi]m", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"az", " ", "\[Omega]y"}], "-", 
        RowBox[{"cz", " ", "\[Omega]y"}], "-", 
        RowBox[{"ay", " ", "\[Omega]z"}], "+", 
        RowBox[{"cy", " ", "\[Omega]z"}]}], ")"}]}]}]}], ",", 
   RowBox[{"0", "\[Equal]", 
    RowBox[{"FmRy", "+", "Fsy", "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "cy"}], "+", "cy1"}], ")"}], " ", "\[Xi]ct"}], "dt"], 
     "-", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "ay"}], "+", "ay1"}], ")"}], " ", "\[Xi]m"}], "dt"], 
     "-", 
     RowBox[{"\[Xi]m", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "az"}], " ", "\[Omega]x"}], "+", 
        RowBox[{"cz", " ", "\[Omega]x"}], "+", 
        RowBox[{"ax", " ", "\[Omega]z"}], "-", 
        RowBox[{"cx", " ", "\[Omega]z"}]}], ")"}]}]}]}], ",", 
   RowBox[{"0", "\[Equal]", 
    RowBox[{"FmRz", "+", "Fsz", "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "cz"}], "+", "cz1"}], ")"}], " ", "\[Xi]ct"}], "dt"], 
     "-", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "az"}], "+", "az1"}], ")"}], " ", "\[Xi]m"}], "dt"], 
     "-", 
     RowBox[{"\[Xi]m", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"ay", " ", "\[Omega]x"}], "-", 
        RowBox[{"cy", " ", "\[Omega]x"}], "-", 
        RowBox[{"ax", " ", "\[Omega]y"}], "+", 
        RowBox[{"cx", " ", "\[Omega]y"}]}], ")"}]}]}]}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.670201696952327*^9, 3.670201999968904*^9, 3.670203311371953*^9, 
   3.670620970010828*^9, {3.6706337430213003`*^9, 3.6706337721232967`*^9}, 
   3.6707056551672*^9, 3.683318032601231*^9, 3.683493624330697*^9}]
}, Open  ]],

Cell["Sum of torques on the cargo", "Text",
 CellChangeTimes->{{3.670622721392006*^9, 3.670622727039551*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"cargoTeqs", "=", 
  RowBox[{"Thread", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "0"}], "}"}], "==", 
    RowBox[{
     RowBox[{"Cross", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"{", 
         RowBox[{"ax", ",", "ay", ",", "az"}], "}"}], "-", 
        RowBox[{"{", 
         RowBox[{"cx", ",", "cy", ",", "cz"}], "}"}]}], ",", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "\[Xi]m"}], " ", 
         RowBox[{"Cross", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"\[Omega]x", ",", "\[Omega]y", ",", "\[Omega]z"}], "}"}], 
           ",", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"ax", ",", "ay", ",", "az"}], "}"}], "-", 
            RowBox[{"{", 
             RowBox[{"cx", ",", "cy", ",", "cz"}], "}"}]}]}], "]"}]}], "-", 
        RowBox[{"\[Xi]m", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"ax1", ",", "ay1", ",", "az1"}], "}"}], "-", 
            RowBox[{"{", 
             RowBox[{"ax", ",", "ay", ",", "az"}], "}"}]}], ")"}], "/", 
          "dt"}]}]}]}], "]"}], "+", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\[Omega]x", ",", "\[Omega]y", ",", "\[Omega]z"}], "}"}], 
      "\[Xi]cr"}]}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.670201712496181*^9, 3.6702018127776823`*^9}, {
  3.670202003927223*^9, 3.670202006018992*^9}, {3.670705705252988*^9, 
  3.670705734970461*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"0", "\[Equal]", 
    RowBox[{
     FractionBox[
      RowBox[{"ay1", " ", "az", " ", "\[Xi]m"}], "dt"], "-", 
     FractionBox[
      RowBox[{"ay", " ", "az1", " ", "\[Xi]m"}], "dt"], "-", 
     FractionBox[
      RowBox[{"az", " ", "cy", " ", "\[Xi]m"}], "dt"], "+", 
     FractionBox[
      RowBox[{"az1", " ", "cy", " ", "\[Xi]m"}], "dt"], "+", 
     FractionBox[
      RowBox[{"ay", " ", "cz", " ", "\[Xi]m"}], "dt"], "-", 
     FractionBox[
      RowBox[{"ay1", " ", "cz", " ", "\[Xi]m"}], "dt"], "+", 
     RowBox[{"\[Xi]cr", " ", "\[Omega]x"}], "-", 
     RowBox[{
      SuperscriptBox["ay", "2"], " ", "\[Xi]m", " ", "\[Omega]x"}], "-", 
     RowBox[{
      SuperscriptBox["az", "2"], " ", "\[Xi]m", " ", "\[Omega]x"}], "+", 
     RowBox[{"2", " ", "ay", " ", "cy", " ", "\[Xi]m", " ", "\[Omega]x"}], 
     "-", 
     RowBox[{
      SuperscriptBox["cy", "2"], " ", "\[Xi]m", " ", "\[Omega]x"}], "+", 
     RowBox[{"2", " ", "az", " ", "cz", " ", "\[Xi]m", " ", "\[Omega]x"}], 
     "-", 
     RowBox[{
      SuperscriptBox["cz", "2"], " ", "\[Xi]m", " ", "\[Omega]x"}], "+", 
     RowBox[{"ax", " ", "ay", " ", "\[Xi]m", " ", "\[Omega]y"}], "-", 
     RowBox[{"ay", " ", "cx", " ", "\[Xi]m", " ", "\[Omega]y"}], "-", 
     RowBox[{"ax", " ", "cy", " ", "\[Xi]m", " ", "\[Omega]y"}], "+", 
     RowBox[{"cx", " ", "cy", " ", "\[Xi]m", " ", "\[Omega]y"}], "+", 
     RowBox[{"ax", " ", "az", " ", "\[Xi]m", " ", "\[Omega]z"}], "-", 
     RowBox[{"az", " ", "cx", " ", "\[Xi]m", " ", "\[Omega]z"}], "-", 
     RowBox[{"ax", " ", "cz", " ", "\[Xi]m", " ", "\[Omega]z"}], "+", 
     RowBox[{"cx", " ", "cz", " ", "\[Xi]m", " ", "\[Omega]z"}]}]}], ",", 
   RowBox[{"0", "\[Equal]", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{"ax1", " ", "az", " ", "\[Xi]m"}], "dt"]}], "+", 
     FractionBox[
      RowBox[{"ax", " ", "az1", " ", "\[Xi]m"}], "dt"], "+", 
     FractionBox[
      RowBox[{"az", " ", "cx", " ", "\[Xi]m"}], "dt"], "-", 
     FractionBox[
      RowBox[{"az1", " ", "cx", " ", "\[Xi]m"}], "dt"], "-", 
     FractionBox[
      RowBox[{"ax", " ", "cz", " ", "\[Xi]m"}], "dt"], "+", 
     FractionBox[
      RowBox[{"ax1", " ", "cz", " ", "\[Xi]m"}], "dt"], "+", 
     RowBox[{"ax", " ", "ay", " ", "\[Xi]m", " ", "\[Omega]x"}], "-", 
     RowBox[{"ay", " ", "cx", " ", "\[Xi]m", " ", "\[Omega]x"}], "-", 
     RowBox[{"ax", " ", "cy", " ", "\[Xi]m", " ", "\[Omega]x"}], "+", 
     RowBox[{"cx", " ", "cy", " ", "\[Xi]m", " ", "\[Omega]x"}], "+", 
     RowBox[{"\[Xi]cr", " ", "\[Omega]y"}], "-", 
     RowBox[{
      SuperscriptBox["ax", "2"], " ", "\[Xi]m", " ", "\[Omega]y"}], "-", 
     RowBox[{
      SuperscriptBox["az", "2"], " ", "\[Xi]m", " ", "\[Omega]y"}], "+", 
     RowBox[{"2", " ", "ax", " ", "cx", " ", "\[Xi]m", " ", "\[Omega]y"}], 
     "-", 
     RowBox[{
      SuperscriptBox["cx", "2"], " ", "\[Xi]m", " ", "\[Omega]y"}], "+", 
     RowBox[{"2", " ", "az", " ", "cz", " ", "\[Xi]m", " ", "\[Omega]y"}], 
     "-", 
     RowBox[{
      SuperscriptBox["cz", "2"], " ", "\[Xi]m", " ", "\[Omega]y"}], "+", 
     RowBox[{"ay", " ", "az", " ", "\[Xi]m", " ", "\[Omega]z"}], "-", 
     RowBox[{"az", " ", "cy", " ", "\[Xi]m", " ", "\[Omega]z"}], "-", 
     RowBox[{"ay", " ", "cz", " ", "\[Xi]m", " ", "\[Omega]z"}], "+", 
     RowBox[{"cy", " ", "cz", " ", "\[Xi]m", " ", "\[Omega]z"}]}]}], ",", 
   RowBox[{"0", "\[Equal]", 
    RowBox[{
     FractionBox[
      RowBox[{"ax1", " ", "ay", " ", "\[Xi]m"}], "dt"], "-", 
     FractionBox[
      RowBox[{"ax", " ", "ay1", " ", "\[Xi]m"}], "dt"], "-", 
     FractionBox[
      RowBox[{"ay", " ", "cx", " ", "\[Xi]m"}], "dt"], "+", 
     FractionBox[
      RowBox[{"ay1", " ", "cx", " ", "\[Xi]m"}], "dt"], "+", 
     FractionBox[
      RowBox[{"ax", " ", "cy", " ", "\[Xi]m"}], "dt"], "-", 
     FractionBox[
      RowBox[{"ax1", " ", "cy", " ", "\[Xi]m"}], "dt"], "+", 
     RowBox[{"ax", " ", "az", " ", "\[Xi]m", " ", "\[Omega]x"}], "-", 
     RowBox[{"az", " ", "cx", " ", "\[Xi]m", " ", "\[Omega]x"}], "-", 
     RowBox[{"ax", " ", "cz", " ", "\[Xi]m", " ", "\[Omega]x"}], "+", 
     RowBox[{"cx", " ", "cz", " ", "\[Xi]m", " ", "\[Omega]x"}], "+", 
     RowBox[{"ay", " ", "az", " ", "\[Xi]m", " ", "\[Omega]y"}], "-", 
     RowBox[{"az", " ", "cy", " ", "\[Xi]m", " ", "\[Omega]y"}], "-", 
     RowBox[{"ay", " ", "cz", " ", "\[Xi]m", " ", "\[Omega]y"}], "+", 
     RowBox[{"cy", " ", "cz", " ", "\[Xi]m", " ", "\[Omega]y"}], "+", 
     RowBox[{"\[Xi]cr", " ", "\[Omega]z"}], "-", 
     RowBox[{
      SuperscriptBox["ax", "2"], " ", "\[Xi]m", " ", "\[Omega]z"}], "-", 
     RowBox[{
      SuperscriptBox["ay", "2"], " ", "\[Xi]m", " ", "\[Omega]z"}], "+", 
     RowBox[{"2", " ", "ax", " ", "cx", " ", "\[Xi]m", " ", "\[Omega]z"}], 
     "-", 
     RowBox[{
      SuperscriptBox["cx", "2"], " ", "\[Xi]m", " ", "\[Omega]z"}], "+", 
     RowBox[{"2", " ", "ay", " ", "cy", " ", "\[Xi]m", " ", "\[Omega]z"}], 
     "-", 
     RowBox[{
      SuperscriptBox["cy", "2"], " ", "\[Xi]m", " ", "\[Omega]z"}]}]}]}], 
  "}"}]], "Output",
 CellChangeTimes->{3.6702018169286013`*^9, 3.6702020071404*^9, 
  3.6706210198964767`*^9, 3.670633808819541*^9, 3.6706342531620007`*^9, 
  3.6707057427730913`*^9, 3.683318032619459*^9, 3.683493635529752*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"{", 
   RowBox[{"const", ",", "coeff"}], "}"}], "=", 
  RowBox[{"Normal", "@", 
   RowBox[{"CoefficientArrays", "[", 
    RowBox[{
     RowBox[{"Join", "[", 
      RowBox[{"anchoreqs", ",", "cargoFeqs", ",", "cargoTeqs"}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{
      "ax1", ",", "ay1", ",", "az1", ",", "cx1", ",", "cy1", ",", "cz1", ",", 
       "\[Omega]x", ",", "\[Omega]y", ",", "\[Omega]z"}], "}"}]}], 
    "]"}]}]}]], "Input"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "FmTx"}], "+", 
      FractionBox[
       RowBox[{"ax", " ", "\[Xi]m"}], "dt"]}], ",", 
     RowBox[{
      RowBox[{"-", "FmTy"}], "+", 
      FractionBox[
       RowBox[{"ay", " ", "\[Xi]m"}], "dt"]}], ",", 
     RowBox[{
      RowBox[{"-", "FmTz"}], "+", 
      FractionBox[
       RowBox[{"az", " ", "\[Xi]m"}], "dt"]}], ",", 
     RowBox[{
      RowBox[{"-", "FmRx"}], "-", "Fsx", "+", 
      FractionBox[
       RowBox[{"cx", " ", "\[Xi]ct"}], "dt"], "-", 
      FractionBox[
       RowBox[{"ax", " ", "\[Xi]m"}], "dt"]}], ",", 
     RowBox[{
      RowBox[{"-", "FmRy"}], "-", "Fsy", "+", 
      FractionBox[
       RowBox[{"cy", " ", "\[Xi]ct"}], "dt"], "-", 
      FractionBox[
       RowBox[{"ay", " ", "\[Xi]m"}], "dt"]}], ",", 
     RowBox[{
      RowBox[{"-", "FmRz"}], "-", "Fsz", "+", 
      FractionBox[
       RowBox[{"cz", " ", "\[Xi]ct"}], "dt"], "-", 
      FractionBox[
       RowBox[{"az", " ", "\[Xi]m"}], "dt"]}], ",", 
     RowBox[{
      FractionBox[
       RowBox[{"az", " ", "cy", " ", "\[Xi]m"}], "dt"], "-", 
      FractionBox[
       RowBox[{"ay", " ", "cz", " ", "\[Xi]m"}], "dt"]}], ",", 
     RowBox[{
      RowBox[{"-", 
       FractionBox[
        RowBox[{"az", " ", "cx", " ", "\[Xi]m"}], "dt"]}], "+", 
      FractionBox[
       RowBox[{"ax", " ", "cz", " ", "\[Xi]m"}], "dt"]}], ",", 
     RowBox[{
      FractionBox[
       RowBox[{"ay", " ", "cx", " ", "\[Xi]m"}], "dt"], "-", 
      FractionBox[
       RowBox[{"ax", " ", "cy", " ", "\[Xi]m"}], "dt"]}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"-", 
        FractionBox["\[Xi]m", "dt"]}], ",", "0", ",", "0", ",", "0", ",", "0",
        ",", "0", ",", "0", ",", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "az"}], " ", "\[Xi]m"}], "+", 
        RowBox[{"cz", " ", "\[Xi]m"}]}], ",", 
       RowBox[{
        RowBox[{"ay", " ", "\[Xi]m"}], "-", 
        RowBox[{"cy", " ", "\[Xi]m"}]}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", 
       RowBox[{"-", 
        FractionBox["\[Xi]m", "dt"]}], ",", "0", ",", "0", ",", "0", ",", "0",
        ",", 
       RowBox[{
        RowBox[{"az", " ", "\[Xi]m"}], "-", 
        RowBox[{"cz", " ", "\[Xi]m"}]}], ",", "0", ",", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "ax"}], " ", "\[Xi]m"}], "+", 
        RowBox[{"cx", " ", "\[Xi]m"}]}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", 
       RowBox[{"-", 
        FractionBox["\[Xi]m", "dt"]}], ",", "0", ",", "0", ",", "0", ",", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "ay"}], " ", "\[Xi]m"}], "+", 
        RowBox[{"cy", " ", "\[Xi]m"}]}], ",", 
       RowBox[{
        RowBox[{"ax", " ", "\[Xi]m"}], "-", 
        RowBox[{"cx", " ", "\[Xi]m"}]}], ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       FractionBox["\[Xi]m", "dt"], ",", "0", ",", "0", ",", 
       RowBox[{"-", 
        FractionBox["\[Xi]ct", "dt"]}], ",", "0", ",", "0", ",", "0", ",", 
       RowBox[{
        RowBox[{"az", " ", "\[Xi]m"}], "-", 
        RowBox[{"cz", " ", "\[Xi]m"}]}], ",", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "ay"}], " ", "\[Xi]m"}], "+", 
        RowBox[{"cy", " ", "\[Xi]m"}]}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", 
       FractionBox["\[Xi]m", "dt"], ",", "0", ",", "0", ",", 
       RowBox[{"-", 
        FractionBox["\[Xi]ct", "dt"]}], ",", "0", ",", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "az"}], " ", "\[Xi]m"}], "+", 
        RowBox[{"cz", " ", "\[Xi]m"}]}], ",", "0", ",", 
       RowBox[{
        RowBox[{"ax", " ", "\[Xi]m"}], "-", 
        RowBox[{"cx", " ", "\[Xi]m"}]}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", 
       FractionBox["\[Xi]m", "dt"], ",", "0", ",", "0", ",", 
       RowBox[{"-", 
        FractionBox["\[Xi]ct", "dt"]}], ",", 
       RowBox[{
        RowBox[{"ay", " ", "\[Xi]m"}], "-", 
        RowBox[{"cy", " ", "\[Xi]m"}]}], ",", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "ax"}], " ", "\[Xi]m"}], "+", 
        RowBox[{"cx", " ", "\[Xi]m"}]}], ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", 
       RowBox[{
        RowBox[{"-", 
         FractionBox[
          RowBox[{"az", " ", "\[Xi]m"}], "dt"]}], "+", 
        FractionBox[
         RowBox[{"cz", " ", "\[Xi]m"}], "dt"]}], ",", 
       RowBox[{
        FractionBox[
         RowBox[{"ay", " ", "\[Xi]m"}], "dt"], "-", 
        FractionBox[
         RowBox[{"cy", " ", "\[Xi]m"}], "dt"]}], ",", "0", ",", "0", ",", "0",
        ",", 
       RowBox[{
        RowBox[{"-", "\[Xi]cr"}], "+", 
        RowBox[{
         SuperscriptBox["ay", "2"], " ", "\[Xi]m"}], "+", 
        RowBox[{
         SuperscriptBox["az", "2"], " ", "\[Xi]m"}], "-", 
        RowBox[{"2", " ", "ay", " ", "cy", " ", "\[Xi]m"}], "+", 
        RowBox[{
         SuperscriptBox["cy", "2"], " ", "\[Xi]m"}], "-", 
        RowBox[{"2", " ", "az", " ", "cz", " ", "\[Xi]m"}], "+", 
        RowBox[{
         SuperscriptBox["cz", "2"], " ", "\[Xi]m"}]}], ",", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "ax"}], " ", "ay", " ", "\[Xi]m"}], "+", 
        RowBox[{"ay", " ", "cx", " ", "\[Xi]m"}], "+", 
        RowBox[{"ax", " ", "cy", " ", "\[Xi]m"}], "-", 
        RowBox[{"cx", " ", "cy", " ", "\[Xi]m"}]}], ",", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "ax"}], " ", "az", " ", "\[Xi]m"}], "+", 
        RowBox[{"az", " ", "cx", " ", "\[Xi]m"}], "+", 
        RowBox[{"ax", " ", "cz", " ", "\[Xi]m"}], "-", 
        RowBox[{"cx", " ", "cz", " ", "\[Xi]m"}]}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        FractionBox[
         RowBox[{"az", " ", "\[Xi]m"}], "dt"], "-", 
        FractionBox[
         RowBox[{"cz", " ", "\[Xi]m"}], "dt"]}], ",", "0", ",", 
       RowBox[{
        RowBox[{"-", 
         FractionBox[
          RowBox[{"ax", " ", "\[Xi]m"}], "dt"]}], "+", 
        FractionBox[
         RowBox[{"cx", " ", "\[Xi]m"}], "dt"]}], ",", "0", ",", "0", ",", "0",
        ",", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "ax"}], " ", "ay", " ", "\[Xi]m"}], "+", 
        RowBox[{"ay", " ", "cx", " ", "\[Xi]m"}], "+", 
        RowBox[{"ax", " ", "cy", " ", "\[Xi]m"}], "-", 
        RowBox[{"cx", " ", "cy", " ", "\[Xi]m"}]}], ",", 
       RowBox[{
        RowBox[{"-", "\[Xi]cr"}], "+", 
        RowBox[{
         SuperscriptBox["ax", "2"], " ", "\[Xi]m"}], "+", 
        RowBox[{
         SuperscriptBox["az", "2"], " ", "\[Xi]m"}], "-", 
        RowBox[{"2", " ", "ax", " ", "cx", " ", "\[Xi]m"}], "+", 
        RowBox[{
         SuperscriptBox["cx", "2"], " ", "\[Xi]m"}], "-", 
        RowBox[{"2", " ", "az", " ", "cz", " ", "\[Xi]m"}], "+", 
        RowBox[{
         SuperscriptBox["cz", "2"], " ", "\[Xi]m"}]}], ",", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "ay"}], " ", "az", " ", "\[Xi]m"}], "+", 
        RowBox[{"az", " ", "cy", " ", "\[Xi]m"}], "+", 
        RowBox[{"ay", " ", "cz", " ", "\[Xi]m"}], "-", 
        RowBox[{"cy", " ", "cz", " ", "\[Xi]m"}]}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{"-", 
         FractionBox[
          RowBox[{"ay", " ", "\[Xi]m"}], "dt"]}], "+", 
        FractionBox[
         RowBox[{"cy", " ", "\[Xi]m"}], "dt"]}], ",", 
       RowBox[{
        FractionBox[
         RowBox[{"ax", " ", "\[Xi]m"}], "dt"], "-", 
        FractionBox[
         RowBox[{"cx", " ", "\[Xi]m"}], "dt"]}], ",", "0", ",", "0", ",", "0",
        ",", "0", ",", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "ax"}], " ", "az", " ", "\[Xi]m"}], "+", 
        RowBox[{"az", " ", "cx", " ", "\[Xi]m"}], "+", 
        RowBox[{"ax", " ", "cz", " ", "\[Xi]m"}], "-", 
        RowBox[{"cx", " ", "cz", " ", "\[Xi]m"}]}], ",", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "ay"}], " ", "az", " ", "\[Xi]m"}], "+", 
        RowBox[{"az", " ", "cy", " ", "\[Xi]m"}], "+", 
        RowBox[{"ay", " ", "cz", " ", "\[Xi]m"}], "-", 
        RowBox[{"cy", " ", "cz", " ", "\[Xi]m"}]}], ",", 
       RowBox[{
        RowBox[{"-", "\[Xi]cr"}], "+", 
        RowBox[{
         SuperscriptBox["ax", "2"], " ", "\[Xi]m"}], "+", 
        RowBox[{
         SuperscriptBox["ay", "2"], " ", "\[Xi]m"}], "-", 
        RowBox[{"2", " ", "ax", " ", "cx", " ", "\[Xi]m"}], "+", 
        RowBox[{
         SuperscriptBox["cx", "2"], " ", "\[Xi]m"}], "-", 
        RowBox[{"2", " ", "ay", " ", "cy", " ", "\[Xi]m"}], "+", 
        RowBox[{
         SuperscriptBox["cy", "2"], " ", "\[Xi]m"}]}]}], "}"}]}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{{3.670705774154956*^9, 3.670705785174708*^9}, 
   3.6833180326664467`*^9, 3.683493640532433*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"coeff", "//", "MatrixForm"}]], "Input",
 CellChangeTimes->{{3.6707057929628773`*^9, 3.670705800038221*^9}}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"-", 
       FractionBox["\[Xi]m", "dt"]}], "0", "0", "0", "0", "0", "0", 
      RowBox[{
       RowBox[{
        RowBox[{"-", "az"}], " ", "\[Xi]m"}], "+", 
       RowBox[{"cz", " ", "\[Xi]m"}]}], 
      RowBox[{
       RowBox[{"ay", " ", "\[Xi]m"}], "-", 
       RowBox[{"cy", " ", "\[Xi]m"}]}]},
     {"0", 
      RowBox[{"-", 
       FractionBox["\[Xi]m", "dt"]}], "0", "0", "0", "0", 
      RowBox[{
       RowBox[{"az", " ", "\[Xi]m"}], "-", 
       RowBox[{"cz", " ", "\[Xi]m"}]}], "0", 
      RowBox[{
       RowBox[{
        RowBox[{"-", "ax"}], " ", "\[Xi]m"}], "+", 
       RowBox[{"cx", " ", "\[Xi]m"}]}]},
     {"0", "0", 
      RowBox[{"-", 
       FractionBox["\[Xi]m", "dt"]}], "0", "0", "0", 
      RowBox[{
       RowBox[{
        RowBox[{"-", "ay"}], " ", "\[Xi]m"}], "+", 
       RowBox[{"cy", " ", "\[Xi]m"}]}], 
      RowBox[{
       RowBox[{"ax", " ", "\[Xi]m"}], "-", 
       RowBox[{"cx", " ", "\[Xi]m"}]}], "0"},
     {
      FractionBox["\[Xi]m", "dt"], "0", "0", 
      RowBox[{"-", 
       FractionBox["\[Xi]ct", "dt"]}], "0", "0", "0", 
      RowBox[{
       RowBox[{"az", " ", "\[Xi]m"}], "-", 
       RowBox[{"cz", " ", "\[Xi]m"}]}], 
      RowBox[{
       RowBox[{
        RowBox[{"-", "ay"}], " ", "\[Xi]m"}], "+", 
       RowBox[{"cy", " ", "\[Xi]m"}]}]},
     {"0", 
      FractionBox["\[Xi]m", "dt"], "0", "0", 
      RowBox[{"-", 
       FractionBox["\[Xi]ct", "dt"]}], "0", 
      RowBox[{
       RowBox[{
        RowBox[{"-", "az"}], " ", "\[Xi]m"}], "+", 
       RowBox[{"cz", " ", "\[Xi]m"}]}], "0", 
      RowBox[{
       RowBox[{"ax", " ", "\[Xi]m"}], "-", 
       RowBox[{"cx", " ", "\[Xi]m"}]}]},
     {"0", "0", 
      FractionBox["\[Xi]m", "dt"], "0", "0", 
      RowBox[{"-", 
       FractionBox["\[Xi]ct", "dt"]}], 
      RowBox[{
       RowBox[{"ay", " ", "\[Xi]m"}], "-", 
       RowBox[{"cy", " ", "\[Xi]m"}]}], 
      RowBox[{
       RowBox[{
        RowBox[{"-", "ax"}], " ", "\[Xi]m"}], "+", 
       RowBox[{"cx", " ", "\[Xi]m"}]}], "0"},
     {"0", 
      RowBox[{
       RowBox[{"-", 
        FractionBox[
         RowBox[{"az", " ", "\[Xi]m"}], "dt"]}], "+", 
       FractionBox[
        RowBox[{"cz", " ", "\[Xi]m"}], "dt"]}], 
      RowBox[{
       FractionBox[
        RowBox[{"ay", " ", "\[Xi]m"}], "dt"], "-", 
       FractionBox[
        RowBox[{"cy", " ", "\[Xi]m"}], "dt"]}], "0", "0", "0", 
      RowBox[{
       RowBox[{"-", "\[Xi]cr"}], "+", 
       RowBox[{
        SuperscriptBox["ay", "2"], " ", "\[Xi]m"}], "+", 
       RowBox[{
        SuperscriptBox["az", "2"], " ", "\[Xi]m"}], "-", 
       RowBox[{"2", " ", "ay", " ", "cy", " ", "\[Xi]m"}], "+", 
       RowBox[{
        SuperscriptBox["cy", "2"], " ", "\[Xi]m"}], "-", 
       RowBox[{"2", " ", "az", " ", "cz", " ", "\[Xi]m"}], "+", 
       RowBox[{
        SuperscriptBox["cz", "2"], " ", "\[Xi]m"}]}], 
      RowBox[{
       RowBox[{
        RowBox[{"-", "ax"}], " ", "ay", " ", "\[Xi]m"}], "+", 
       RowBox[{"ay", " ", "cx", " ", "\[Xi]m"}], "+", 
       RowBox[{"ax", " ", "cy", " ", "\[Xi]m"}], "-", 
       RowBox[{"cx", " ", "cy", " ", "\[Xi]m"}]}], 
      RowBox[{
       RowBox[{
        RowBox[{"-", "ax"}], " ", "az", " ", "\[Xi]m"}], "+", 
       RowBox[{"az", " ", "cx", " ", "\[Xi]m"}], "+", 
       RowBox[{"ax", " ", "cz", " ", "\[Xi]m"}], "-", 
       RowBox[{"cx", " ", "cz", " ", "\[Xi]m"}]}]},
     {
      RowBox[{
       FractionBox[
        RowBox[{"az", " ", "\[Xi]m"}], "dt"], "-", 
       FractionBox[
        RowBox[{"cz", " ", "\[Xi]m"}], "dt"]}], "0", 
      RowBox[{
       RowBox[{"-", 
        FractionBox[
         RowBox[{"ax", " ", "\[Xi]m"}], "dt"]}], "+", 
       FractionBox[
        RowBox[{"cx", " ", "\[Xi]m"}], "dt"]}], "0", "0", "0", 
      RowBox[{
       RowBox[{
        RowBox[{"-", "ax"}], " ", "ay", " ", "\[Xi]m"}], "+", 
       RowBox[{"ay", " ", "cx", " ", "\[Xi]m"}], "+", 
       RowBox[{"ax", " ", "cy", " ", "\[Xi]m"}], "-", 
       RowBox[{"cx", " ", "cy", " ", "\[Xi]m"}]}], 
      RowBox[{
       RowBox[{"-", "\[Xi]cr"}], "+", 
       RowBox[{
        SuperscriptBox["ax", "2"], " ", "\[Xi]m"}], "+", 
       RowBox[{
        SuperscriptBox["az", "2"], " ", "\[Xi]m"}], "-", 
       RowBox[{"2", " ", "ax", " ", "cx", " ", "\[Xi]m"}], "+", 
       RowBox[{
        SuperscriptBox["cx", "2"], " ", "\[Xi]m"}], "-", 
       RowBox[{"2", " ", "az", " ", "cz", " ", "\[Xi]m"}], "+", 
       RowBox[{
        SuperscriptBox["cz", "2"], " ", "\[Xi]m"}]}], 
      RowBox[{
       RowBox[{
        RowBox[{"-", "ay"}], " ", "az", " ", "\[Xi]m"}], "+", 
       RowBox[{"az", " ", "cy", " ", "\[Xi]m"}], "+", 
       RowBox[{"ay", " ", "cz", " ", "\[Xi]m"}], "-", 
       RowBox[{"cy", " ", "cz", " ", "\[Xi]m"}]}]},
     {
      RowBox[{
       RowBox[{"-", 
        FractionBox[
         RowBox[{"ay", " ", "\[Xi]m"}], "dt"]}], "+", 
       FractionBox[
        RowBox[{"cy", " ", "\[Xi]m"}], "dt"]}], 
      RowBox[{
       FractionBox[
        RowBox[{"ax", " ", "\[Xi]m"}], "dt"], "-", 
       FractionBox[
        RowBox[{"cx", " ", "\[Xi]m"}], "dt"]}], "0", "0", "0", "0", 
      RowBox[{
       RowBox[{
        RowBox[{"-", "ax"}], " ", "az", " ", "\[Xi]m"}], "+", 
       RowBox[{"az", " ", "cx", " ", "\[Xi]m"}], "+", 
       RowBox[{"ax", " ", "cz", " ", "\[Xi]m"}], "-", 
       RowBox[{"cx", " ", "cz", " ", "\[Xi]m"}]}], 
      RowBox[{
       RowBox[{
        RowBox[{"-", "ay"}], " ", "az", " ", "\[Xi]m"}], "+", 
       RowBox[{"az", " ", "cy", " ", "\[Xi]m"}], "+", 
       RowBox[{"ay", " ", "cz", " ", "\[Xi]m"}], "-", 
       RowBox[{"cy", " ", "cz", " ", "\[Xi]m"}]}], 
      RowBox[{
       RowBox[{"-", "\[Xi]cr"}], "+", 
       RowBox[{
        SuperscriptBox["ax", "2"], " ", "\[Xi]m"}], "+", 
       RowBox[{
        SuperscriptBox["ay", "2"], " ", "\[Xi]m"}], "-", 
       RowBox[{"2", " ", "ax", " ", "cx", " ", "\[Xi]m"}], "+", 
       RowBox[{
        SuperscriptBox["cx", "2"], " ", "\[Xi]m"}], "-", 
       RowBox[{"2", " ", "ay", " ", "cy", " ", "\[Xi]m"}], "+", 
       RowBox[{
        SuperscriptBox["cy", "2"], " ", "\[Xi]m"}]}]}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{3.6707058004254913`*^9, 3.683318032716445*^9, 
  3.6834936462486*^9}]
}, Open  ]],

Cell["CForm puts an expression in a form C can read", "Text",
 CellChangeTimes->{{3.683318073696558*^9, 3.6833180993778*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CForm", "[", 
  RowBox[{"Flatten", "[", "coeff", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.683318018022447*^9, 3.6833180235197144`*^9}, {
  3.683318139982955*^9, 3.683318147336296*^9}, {3.6833181938446207`*^9, 
  3.683318195610224*^9}, {3.683318233286865*^9, 3.683318235929796*^9}}],

Cell["\<\
List(-(\[Xi]m/dt),0,0,0,0,0,0,-(az*\[Xi]m) + cz*\[Xi]m,ay*\[Xi]m - \
cy*\[Xi]m,0,-(\[Xi]m/dt),0,0,0,0,az*\[Xi]m - cz*\[Xi]m,
   0,-(ax*\[Xi]m) + cx*\[Xi]m,0,0,-(\[Xi]m/dt),0,0,0,-(ay*\[Xi]m) + \
cy*\[Xi]m,ax*\[Xi]m - cx*\[Xi]m,0,\[Xi]m/dt,0,0,
   -(\[Xi]ct/dt),0,0,0,az*\[Xi]m - cz*\[Xi]m,-(ay*\[Xi]m) + \
cy*\[Xi]m,0,\[Xi]m/dt,0,0,-(\[Xi]ct/dt),0,
   -(az*\[Xi]m) + cz*\[Xi]m,0,ax*\[Xi]m - \
cx*\[Xi]m,0,0,\[Xi]m/dt,0,0,-(\[Xi]ct/dt),ay*\[Xi]m - cy*\[Xi]m,
   -(ax*\[Xi]m) + cx*\[Xi]m,0,0,-((az*\[Xi]m)/dt) + \
(cz*\[Xi]m)/dt,(ay*\[Xi]m)/dt - (cy*\[Xi]m)/dt,0,0,0,
   -\[Xi]cr + Power(ay,2)*\[Xi]m + Power(az,2)*\[Xi]m - 2*ay*cy*\[Xi]m + \
Power(cy,2)*\[Xi]m - 2*az*cz*\[Xi]m + 
    Power(cz,2)*\[Xi]m,-(ax*ay*\[Xi]m) + ay*cx*\[Xi]m + ax*cy*\[Xi]m - cx*cy*\
\[Xi]m,
   -(ax*az*\[Xi]m) + az*cx*\[Xi]m + ax*cz*\[Xi]m - \
cx*cz*\[Xi]m,(az*\[Xi]m)/dt - (cz*\[Xi]m)/dt,0,
   -((ax*\[Xi]m)/dt) + (cx*\[Xi]m)/dt,0,0,0,-(ax*ay*\[Xi]m) + ay*cx*\[Xi]m + \
ax*cy*\[Xi]m - cx*cy*\[Xi]m,
   -\[Xi]cr + Power(ax,2)*\[Xi]m + Power(az,2)*\[Xi]m - 2*ax*cx*\[Xi]m + \
Power(cx,2)*\[Xi]m - 2*az*cz*\[Xi]m + 
    Power(cz,2)*\[Xi]m,-(ay*az*\[Xi]m) + az*cy*\[Xi]m + ay*cz*\[Xi]m - cy*cz*\
\[Xi]m,
   -((ay*\[Xi]m)/dt) + (cy*\[Xi]m)/dt,(ax*\[Xi]m)/dt - \
(cx*\[Xi]m)/dt,0,0,0,0,
   -(ax*az*\[Xi]m) + az*cx*\[Xi]m + ax*cz*\[Xi]m - cx*cz*\[Xi]m,
   -(ay*az*\[Xi]m) + az*cy*\[Xi]m + ay*cz*\[Xi]m - cy*cz*\[Xi]m,
   -\[Xi]cr + Power(ax,2)*\[Xi]m + Power(ay,2)*\[Xi]m - 2*ax*cx*\[Xi]m + \
Power(cx,2)*\[Xi]m - 2*ay*cy*\[Xi]m + 
    Power(cy,2)*\[Xi]m)\
\>", "Output",
 CellChangeTimes->{3.683318032750499*^9, 3.683318147640266*^9, 
  3.683318196005392*^9, 3.68331823699301*^9, 3.68349365113155*^9}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Generate matrices for multiple motors", "Section",
 CellChangeTimes->{{3.684005009896345*^9, 3.68400502268918*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "total", " ", "number", " ", "of", " ", "pulling", " ", "motors", " ", 
    "we", " ", "want", " ", "to", " ", "generate", " ", "the", " ", "system", 
    " ", "for"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"nmotors", "=", "1"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"place", " ", "to", " ", "store", " ", "equations"}], "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"eqs", "=", 
     RowBox[{"{", "}"}]}], ";"}]}]}]], "Input",
 CellChangeTimes->{{3.684006850561824*^9, 3.684006853861206*^9}, {
  3.6840072635739937`*^9, 3.68400726366322*^9}, {3.6840893617167673`*^9, 
  3.6840893939810457`*^9}, {3.684097990182609*^9, 3.684097990225583*^9}}],

Cell["sum of forces on each motor", "Text",
 CellChangeTimes->{3.68408951466551*^9}],

Cell[BoxData[
 RowBox[{"For", "[", 
  RowBox[{
   RowBox[{"i", "=", "1"}], ",", 
   RowBox[{"i", "\[LessEqual]", "nmotors"}], ",", 
   RowBox[{"i", "++"}], ",", 
   RowBox[{
    RowBox[{"eqs", "=", 
     RowBox[{"Join", "[", 
      RowBox[{
       RowBox[{"Thread", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0"}], "}"}], "\[Equal]", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"FmTangentialx", "[", "i", "]"}], ",", 
            RowBox[{"FmTangentialy", "[", "i", "]"}], ",", 
            RowBox[{"FmTangentialz", "[", "i", "]"}]}], "}"}], "+", 
          RowBox[{"xiAnchor", " ", 
           RowBox[{"Cross", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"omegax", ",", "omegay", ",", "omegaz"}], "}"}], ",", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"ax", "[", "i", "]"}], ",", 
                RowBox[{"ay", "[", "i", "]"}], ",", 
                RowBox[{"az", "[", "i", "]"}]}], "}"}], "-", 
              RowBox[{"{", 
               RowBox[{"cx", ",", "cy", ",", "cz"}], "}"}]}]}], "]"}]}], "+", 
          
          RowBox[{"xiAnchor", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"ax1", "[", "i", "]"}], ",", 
                RowBox[{"ay1", "[", "i", "]"}], ",", 
                RowBox[{"az1", "[", "i", "]"}]}], "}"}], "-", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"ax", "[", "i", "]"}], ",", 
                RowBox[{"ay", "[", "i", "]"}], ",", 
                RowBox[{"az", "[", "i", "]"}]}], "}"}]}], ")"}], "/", 
            "dt"}]}]}]}], "]"}], ",", "\[IndentingNewLine]", "eqs"}], "]"}]}],
     ";"}]}], "\[IndentingNewLine]", "]"}]], "Input",
 CellChangeTimes->{
  3.684005070286366*^9, {3.6840051312591476`*^9, 3.684005133171887*^9}, 
   3.684005242189466*^9, {3.684005531014655*^9, 3.684005551658716*^9}, {
   3.6840058716408367`*^9, 3.6840059376885777`*^9}, {3.684006011387332*^9, 
   3.6840061546669416`*^9}, {3.6840062047076063`*^9, 3.684006260461534*^9}, {
   3.684006397970166*^9, 3.684006408780736*^9}, {3.684006770861298*^9, 
   3.684006770939032*^9}, {3.684006847011498*^9, 3.684006848034906*^9}, 
   3.684006890627513*^9, {3.684007223604097*^9, 3.6840072271365547`*^9}, {
   3.684014337611184*^9, 3.684014340484227*^9}, 3.684014716323448*^9, {
   3.684014771126289*^9, 3.6840148501529713`*^9}, {3.684015321471341*^9, 
   3.6840153685980673`*^9}, {3.684015415308132*^9, 3.684015462714096*^9}, {
   3.684080544953635*^9, 3.6840805699907846`*^9}, {3.684081747967907*^9, 
   3.684081759326367*^9}, {3.684087989732126*^9, 3.6840880671649942`*^9}, {
   3.684088139734612*^9, 3.684088216559649*^9}, {3.68408826850152*^9, 
   3.684088355553761*^9}, {3.684088419363763*^9, 3.6840884231884604`*^9}, {
   3.684088473207036*^9, 3.6840885556043987`*^9}, {3.684088586943572*^9, 
   3.6840885972592154`*^9}, {3.684088636161887*^9, 3.684088742237227*^9}, {
   3.684089313331225*^9, 3.684089360368815*^9}, {3.684089398743702*^9, 
   3.6840894079775476`*^9}, {3.68408951830622*^9, 3.6840895462268972`*^9}}],

Cell["Sum of forces on cargo", "Text",
 CellChangeTimes->{{3.6840895537751904`*^9, 3.68408955812895*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"cargoForceEqs", "=", "\[IndentingNewLine]", 
   RowBox[{"Thread", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0"}], "}"}], "\[Equal]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"fTrapx", ",", "fTrapy", ",", "fTrapz"}], "}"}], "+", 
      "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"fStericx", ",", "fStericy", ",", "fStericz"}], "}"}], "+", 
      "\[IndentingNewLine]", 
      RowBox[{"xiCargoTranslation", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"cx1", ",", "cy1", ",", "cz1"}], "}"}], "-", 
          RowBox[{"{", 
           RowBox[{"cx", ",", "cy", ",", "cz"}], "}"}]}], ")"}], "/", 
        "dt"}]}], "+", 
      RowBox[{"Sum", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"FmRx", "[", "i", "]"}], ",", 
           RowBox[{"FmRy", "[", "i", "]"}], ",", 
           RowBox[{"FmRz", "[", "i", "]"}]}], "}"}], "-", 
         RowBox[{"xiAnchor", " ", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"Cross", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"omegax", ",", "omegay", ",", "omegaz"}], "}"}], ",", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"ax", "[", "i", "]"}], ",", 
                 RowBox[{"ay", "[", "i", "]"}], ",", 
                 RowBox[{"az", "[", "i", "]"}]}], "}"}], "-", 
               RowBox[{"{", 
                RowBox[{"cx", ",", "cy", ",", "cz"}], "}"}]}]}], "]"}], "+", 
            RowBox[{
             RowBox[{"-", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"ax1", "[", "i", "]"}], ",", 
                  RowBox[{"ay1", "[", "i", "]"}], ",", 
                  RowBox[{"az1", "[", "i", "]"}]}], "}"}], "-", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"ax", "[", "i", "]"}], ",", 
                  RowBox[{"ay", "[", "i", "]"}], ",", 
                  RowBox[{"az", "[", "i", "]"}]}], "}"}]}], ")"}]}], "/", 
             "dt"}]}], ")"}]}]}], ",", 
        RowBox[{"{", 
         RowBox[{"i", ",", "1", ",", "nmotors"}], "}"}]}], "]"}]}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 CellChangeTimes->{
  3.684005070286366*^9, {3.6840051312591476`*^9, 3.684005133171887*^9}, 
   3.684005242189466*^9, {3.684005531014655*^9, 3.684005551658716*^9}, {
   3.6840058716408367`*^9, 3.6840059376885777`*^9}, {3.684006011387332*^9, 
   3.6840061546669416`*^9}, {3.6840062047076063`*^9, 3.684006260461534*^9}, {
   3.684006397970166*^9, 3.684006408780736*^9}, {3.684006770861298*^9, 
   3.684006770939032*^9}, {3.684006847011498*^9, 3.684006848034906*^9}, 
   3.684006890627513*^9, {3.684007223604097*^9, 3.6840072271365547`*^9}, {
   3.684014337611184*^9, 3.684014340484227*^9}, 3.684014716323448*^9, {
   3.684014771126289*^9, 3.6840148501529713`*^9}, {3.684015321471341*^9, 
   3.6840153685980673`*^9}, {3.684015415308132*^9, 3.684015462714096*^9}, {
   3.684080544953635*^9, 3.6840805699907846`*^9}, {3.684081747967907*^9, 
   3.684081759326367*^9}, {3.684087989732126*^9, 3.6840880671649942`*^9}, {
   3.684088139734612*^9, 3.684088216559649*^9}, {3.68408826850152*^9, 
   3.684088355553761*^9}, {3.684088419363763*^9, 3.6840884231884604`*^9}, {
   3.684088473207036*^9, 3.6840885556043987`*^9}, {3.684088586943572*^9, 
   3.6840885972592154`*^9}, {3.684088636161887*^9, 3.684088742237227*^9}, {
   3.684089313331225*^9, 3.684089360368815*^9}, {3.684089398743702*^9, 
   3.6840894079775476`*^9}, {3.68408951830622*^9, 3.684089533992002*^9}, {
   3.684089567748877*^9, 3.6840895740818777`*^9}, {3.684089930559786*^9, 
   3.684089956592085*^9}}],

Cell["Sum of torques on cargo", "Text",
 CellChangeTimes->{{3.684089592644373*^9, 3.684089598662537*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"cargoTorqueEqs", "=", 
   RowBox[{"Thread", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0"}], "}"}], "==", 
     RowBox[{
      RowBox[{
       RowBox[{"{", 
        RowBox[{"omegax", ",", "omegay", ",", "omegaz"}], "}"}], 
       "xiCargoRotation"}], "-", 
      RowBox[{"xiAnchor", " ", 
       RowBox[{"Sum", "[", 
        RowBox[{
         RowBox[{"Cross", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"ax", "[", "i", "]"}], ",", 
              RowBox[{"ay", "[", "i", "]"}], ",", 
              RowBox[{"az", "[", "i", "]"}]}], "}"}], "-", 
            RowBox[{"{", 
             RowBox[{"cx", ",", "cy", ",", "cz"}], "}"}]}], ",", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"Cross", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"omegax", ",", "omegay", ",", "omegaz"}], "}"}], ",", 
               
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"ax", "[", "i", "]"}], ",", 
                  RowBox[{"ay", "[", "i", "]"}], ",", 
                  RowBox[{"az", "[", "i", "]"}]}], "}"}], "-", 
                RowBox[{"{", 
                 RowBox[{"cx", ",", "cy", ",", "cz"}], "}"}]}]}], "]"}], "+", 
             
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"ax1", "[", "i", "]"}], ",", 
                  RowBox[{"ay1", "[", "i", "]"}], ",", 
                  RowBox[{"az1", "[", "i", "]"}]}], "}"}], "-", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"ax", "[", "i", "]"}], ",", 
                  RowBox[{"ay", "[", "i", "]"}], ",", 
                  RowBox[{"az", "[", "i", "]"}]}], "}"}]}], ")"}], "/", 
              "dt"}]}], ")"}]}], "]"}], ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "1", ",", "nmotors"}], "}"}]}], "]"}]}]}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 CellChangeTimes->{
  3.684005070286366*^9, {3.6840051312591476`*^9, 3.684005133171887*^9}, 
   3.684005242189466*^9, {3.684005531014655*^9, 3.684005551658716*^9}, {
   3.6840058716408367`*^9, 3.6840059376885777`*^9}, {3.684006011387332*^9, 
   3.6840061546669416`*^9}, {3.6840062047076063`*^9, 3.684006260461534*^9}, {
   3.684006397970166*^9, 3.684006408780736*^9}, {3.684006770861298*^9, 
   3.684006770939032*^9}, {3.684006847011498*^9, 3.684006848034906*^9}, 
   3.684006890627513*^9, {3.684007223604097*^9, 3.6840072271365547`*^9}, {
   3.684014337611184*^9, 3.684014340484227*^9}, 3.684014716323448*^9, {
   3.684014771126289*^9, 3.6840148501529713`*^9}, {3.684015321471341*^9, 
   3.6840153685980673`*^9}, {3.684015415308132*^9, 3.684015462714096*^9}, {
   3.684080544953635*^9, 3.6840805699907846`*^9}, {3.684081747967907*^9, 
   3.684081759326367*^9}, {3.684087989732126*^9, 3.6840880671649942`*^9}, {
   3.684088139734612*^9, 3.684088216559649*^9}, {3.68408826850152*^9, 
   3.684088355553761*^9}, {3.684088419363763*^9, 3.6840884231884604`*^9}, {
   3.684088473207036*^9, 3.6840885556043987`*^9}, {3.684088586943572*^9, 
   3.6840885972592154`*^9}, {3.684088636161887*^9, 3.684088742237227*^9}, {
   3.684089313331225*^9, 3.684089360368815*^9}, {3.684089398743702*^9, 
   3.6840894079775476`*^9}, {3.68408951830622*^9, 3.684089533992002*^9}, {
   3.6840896356471*^9, 3.684089814302346*^9}, {3.684089845105513*^9, 
   3.68408991459612*^9}, 3.684089960788517*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{"eqs", "=", 
   RowBox[{
    RowBox[{"Join", "[", 
     RowBox[{"eqs", ",", "cargoForceEqs", ",", "cargoTorqueEqs"}], "]"}], "//",
     "Flatten"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.684089980552536*^9, 3.684090010918826*^9}, {
  3.684090232081958*^9, 3.684090234325091*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"vars", "=", 
  RowBox[{
   RowBox[{"Join", "[", 
    RowBox[{
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"ax1", "[", "i", "]"}], ",", 
         RowBox[{"ay1", "[", "i", "]"}], ",", 
         RowBox[{"az1", "[", "i", "]"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"i", ",", "1", ",", "nmotors"}], "}"}]}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{
      "cx1", ",", "cy1", ",", "cz1", ",", "omegax", ",", "omegay", ",", 
       "omegaz"}], "}"}]}], "]"}], "//", "Flatten"}]}]], "Input",
 CellChangeTimes->{{3.684007637678495*^9, 3.6840076496835413`*^9}, {
  3.684007692456523*^9, 3.68400770691153*^9}, {3.684015389454631*^9, 
  3.684015393976955*^9}, {3.684090015857313*^9, 3.684090091209255*^9}, {
  3.6840901277163067`*^9, 3.684090146945503*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"ax1", "[", "1", "]"}], ",", 
   RowBox[{"ay1", "[", "1", "]"}], ",", 
   RowBox[{"az1", "[", "1", "]"}], ",", "cx1", ",", "cy1", ",", "cz1", ",", 
   "omegax", ",", "omegay", ",", "omegaz"}], "}"}]], "Output",
 CellChangeTimes->{
  3.684007707278323*^9, 3.684015475131198*^9, 3.684018183406715*^9, {
   3.684090069061488*^9, 3.684090092218184*^9}, {3.684090136365576*^9, 
   3.684090147275579*^9}, 3.684090259787458*^9, 3.684097995506596*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"{", 
    RowBox[{"const", ",", "coeff"}], "}"}], "=", 
   RowBox[{
    RowBox[{"Normal", "@", 
     RowBox[{"CoefficientArrays", "[", 
      RowBox[{"eqs", ",", "vars"}], "]"}]}], "//", "Simplify"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.684006457661401*^9, 3.684006473456142*^9}, 
   3.684006567281929*^9, {3.6840068386748257`*^9, 3.6840068409015713`*^9}, {
   3.68400763564538*^9, 3.68400771497747*^9}, {3.684018572112109*^9, 
   3.6840185898307133`*^9}, {3.684018683936425*^9, 3.6840186930152273`*^9}}],

Cell["\<\
The result should be arrays of 3(nmotors+2) equations (3 components: x, y, z \
for each of the nmotors sum of forces equations for each motor, plus 2 for \
sum of forces and torques on cargo)\
\>", "Text",
 CellChangeTimes->{{3.68409051956328*^9, 3.6840905649788847`*^9}, {
  3.684097800709556*^9, 3.684097889425914*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"3", 
  RowBox[{"(", 
   RowBox[{"nmotors", "+", "2"}], ")"}]}], "\[IndentingNewLine]", 
 RowBox[{"Dimensions", "[", "coeff", "]"}], "\[IndentingNewLine]", 
 RowBox[{"Dimensions", "[", "const", "]"}]}], "Input",
 CellChangeTimes->{{3.6840073635073347`*^9, 3.684007374239601*^9}, {
  3.684090336371669*^9, 3.684090341610797*^9}, {3.68409048355317*^9, 
  3.684090510507255*^9}}],

Cell[BoxData["9"], "Output",
 CellChangeTimes->{
  3.6840073745679693`*^9, 3.684090274299241*^9, 3.6840903419678907`*^9, {
   3.684090493743384*^9, 3.684090511548506*^9}, 3.684097995580967*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"9", ",", "9"}], "}"}]], "Output",
 CellChangeTimes->{
  3.6840073745679693`*^9, 3.684090274299241*^9, 3.6840903419678907`*^9, {
   3.684090493743384*^9, 3.684090511548506*^9}, 3.68409799559042*^9}],

Cell[BoxData[
 RowBox[{"{", "9", "}"}]], "Output",
 CellChangeTimes->{
  3.6840073745679693`*^9, 3.684090274299241*^9, 3.6840903419678907`*^9, {
   3.684090493743384*^9, 3.684090511548506*^9}, 3.6840979955950527`*^9}]
}, Open  ]],

Cell["\<\
Using solve doesn\[CloseCurlyQuote]t appear to work, might be able to get it \
to with assumptions (would take forever to write out all of them)\
\>", "Text",
 CellChangeTimes->{{3.6840903656185904`*^9, 3.684090404678144*^9}}],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{"Solve", "[", 
   RowBox[{
    RowBox[{"coeff", ".", "vars"}], "==", "const"}], "]"}], "*)"}]], "Input",
 CellChangeTimes->{{3.684007612164157*^9, 3.684007620669202*^9}, {
  3.684007723167364*^9, 3.6840077366785316`*^9}, {3.6840903584979773`*^9, 
  3.6840903614333344`*^9}}],

Cell["\<\
However, Mathematica seems to have no trouble inverting the matrix, so we can \
solve it that way\
\>", "Text",
 CellChangeTimes->{{3.684090575250648*^9, 3.684090599493772*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"coeffinv", "=", 
   RowBox[{
    RowBox[{"Inverse", "[", "coeff", "]"}], "//", "Simplify"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.684008936600967*^9, 3.6840089402770147`*^9}, {
  3.684009201118938*^9, 3.684009236499383*^9}, {3.684018702408951*^9, 
  3.68401870405695*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"invsoln", "=", 
  RowBox[{"Thread", "[", 
   RowBox[{"vars", "==", 
    RowBox[{"coeffinv", ".", "const"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.684009261274222*^9, 3.68400926910183*^9}, {
  3.6840183088171263`*^9, 3.6840183235085773`*^9}, {3.684018479524437*^9, 
  3.684018481980887*^9}, {3.684019141901951*^9, 3.684019153859799*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{"ax1", "[", "1", "]"}], "\[Equal]", 
    RowBox[{
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{"cy", "-", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "cy"}], " ", "xiAnchor", " ", 
          RowBox[{"ax", "[", "1", "]"}]}], "+", 
         RowBox[{"cx", " ", "xiAnchor", " ", 
          RowBox[{"ay", "[", "1", "]"}]}]}], ")"}]}], "xiCargoRotation"], "+", 
     FractionBox[
      RowBox[{"xiAnchor", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "cz"}], "+", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"cz", " ", 
          RowBox[{"ax", "[", "1", "]"}]}], "-", 
         RowBox[{"cx", " ", 
          RowBox[{"az", "[", "1", "]"}]}]}], ")"}]}], "xiCargoRotation"], "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"dt", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           SuperscriptBox["cy", "2"], " ", "xiAnchor"}], "+", 
          RowBox[{
           SuperscriptBox["cz", "2"], " ", "xiAnchor"}], "-", 
          "xiCargoRotation", "-", 
          RowBox[{"2", " ", "cy", " ", "xiAnchor", " ", 
           RowBox[{"ay", "[", "1", "]"}]}], "+", 
          RowBox[{"xiAnchor", " ", 
           SuperscriptBox[
            RowBox[{"ay", "[", "1", "]"}], "2"]}], "-", 
          RowBox[{"2", " ", "cz", " ", "xiAnchor", " ", 
           RowBox[{"az", "[", "1", "]"}]}], "+", 
          RowBox[{"xiAnchor", " ", 
           SuperscriptBox[
            RowBox[{"az", "[", "1", "]"}], "2"]}]}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{
          FractionBox[
           RowBox[{"xiAnchor", " ", 
            RowBox[{"ax", "[", "1", "]"}]}], "dt"], "-", 
          RowBox[{"FmTangentialx", "[", "1", "]"}]}], ")"}]}], ")"}], "/", 
      RowBox[{"(", 
       RowBox[{"xiAnchor", " ", "xiCargoRotation"}], ")"}]}], "-", 
     FractionBox[
      RowBox[{"dt", " ", 
       RowBox[{"(", 
        RowBox[{"cx", "-", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"cy", "-", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"ay", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialy", "[", "1", "]"}]}], ")"}]}], 
      "xiCargoRotation"], "-", 
     FractionBox[
      RowBox[{"dt", " ", 
       RowBox[{"(", 
        RowBox[{"cx", "-", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"cz", "-", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"az", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialz", "[", "1", "]"}]}], ")"}]}], 
      "xiCargoRotation"]}]}], ",", 
   RowBox[{
    RowBox[{"ay1", "[", "1", "]"}], "\[Equal]", 
    RowBox[{
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "cx"}], "+", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "cy"}], " ", "xiAnchor", " ", 
          RowBox[{"ax", "[", "1", "]"}]}], "+", 
         RowBox[{"cx", " ", "xiAnchor", " ", 
          RowBox[{"ay", "[", "1", "]"}]}]}], ")"}]}], "xiCargoRotation"], "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{"cz", "-", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "cz"}], " ", "xiAnchor", " ", 
          RowBox[{"ay", "[", "1", "]"}]}], "+", 
         RowBox[{"cy", " ", "xiAnchor", " ", 
          RowBox[{"az", "[", "1", "]"}]}]}], ")"}]}], "xiCargoRotation"], "-", 
     FractionBox[
      RowBox[{"dt", " ", 
       RowBox[{"(", 
        RowBox[{"cx", "-", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"cy", "-", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialx", "[", "1", "]"}]}], ")"}]}], 
      "xiCargoRotation"], "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"dt", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           SuperscriptBox["cx", "2"], " ", "xiAnchor"}], "+", 
          RowBox[{
           SuperscriptBox["cz", "2"], " ", "xiAnchor"}], "-", 
          "xiCargoRotation", "-", 
          RowBox[{"2", " ", "cx", " ", "xiAnchor", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "+", 
          RowBox[{"xiAnchor", " ", 
           SuperscriptBox[
            RowBox[{"ax", "[", "1", "]"}], "2"]}], "-", 
          RowBox[{"2", " ", "cz", " ", "xiAnchor", " ", 
           RowBox[{"az", "[", "1", "]"}]}], "+", 
          RowBox[{"xiAnchor", " ", 
           SuperscriptBox[
            RowBox[{"az", "[", "1", "]"}], "2"]}]}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{
          FractionBox[
           RowBox[{"xiAnchor", " ", 
            RowBox[{"ay", "[", "1", "]"}]}], "dt"], "-", 
          RowBox[{"FmTangentialy", "[", "1", "]"}]}], ")"}]}], ")"}], "/", 
      RowBox[{"(", 
       RowBox[{"xiAnchor", " ", "xiCargoRotation"}], ")"}]}], "-", 
     FractionBox[
      RowBox[{"dt", " ", 
       RowBox[{"(", 
        RowBox[{"cy", "-", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"cz", "-", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"az", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialz", "[", "1", "]"}]}], ")"}]}], 
      "xiCargoRotation"]}]}], ",", 
   RowBox[{
    RowBox[{"az1", "[", "1", "]"}], "\[Equal]", 
    RowBox[{
     FractionBox[
      RowBox[{"xiAnchor", " ", 
       RowBox[{"(", 
        RowBox[{"cx", "-", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"cz", " ", 
          RowBox[{"ax", "[", "1", "]"}]}], "-", 
         RowBox[{"cx", " ", 
          RowBox[{"az", "[", "1", "]"}]}]}], ")"}]}], "xiCargoRotation"], "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "cy"}], "+", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "cz"}], " ", "xiAnchor", " ", 
          RowBox[{"ay", "[", "1", "]"}]}], "+", 
         RowBox[{"cy", " ", "xiAnchor", " ", 
          RowBox[{"az", "[", "1", "]"}]}]}], ")"}]}], "xiCargoRotation"], "-", 
     FractionBox[
      RowBox[{"dt", " ", 
       RowBox[{"(", 
        RowBox[{"cx", "-", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"cz", "-", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialx", "[", "1", "]"}]}], ")"}]}], 
      "xiCargoRotation"], "-", 
     FractionBox[
      RowBox[{"dt", " ", 
       RowBox[{"(", 
        RowBox[{"cy", "-", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"cz", "-", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"ay", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialy", "[", "1", "]"}]}], ")"}]}], 
      "xiCargoRotation"], "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"dt", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           SuperscriptBox["cx", "2"], " ", "xiAnchor"}], "+", 
          RowBox[{
           SuperscriptBox["cy", "2"], " ", "xiAnchor"}], "-", 
          "xiCargoRotation", "-", 
          RowBox[{"2", " ", "cx", " ", "xiAnchor", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "+", 
          RowBox[{"xiAnchor", " ", 
           SuperscriptBox[
            RowBox[{"ax", "[", "1", "]"}], "2"]}], "-", 
          RowBox[{"2", " ", "cy", " ", "xiAnchor", " ", 
           RowBox[{"ay", "[", "1", "]"}]}], "+", 
          RowBox[{"xiAnchor", " ", 
           SuperscriptBox[
            RowBox[{"ay", "[", "1", "]"}], "2"]}]}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{
          FractionBox[
           RowBox[{"xiAnchor", " ", 
            RowBox[{"az", "[", "1", "]"}]}], "dt"], "-", 
          RowBox[{"FmTangentialz", "[", "1", "]"}]}], ")"}]}], ")"}], "/", 
      RowBox[{"(", 
       RowBox[{"xiAnchor", " ", "xiCargoRotation"}], ")"}]}]}]}], ",", 
   RowBox[{"cx1", "\[Equal]", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{"2", " ", "xiAnchor", " ", 
        RowBox[{"(", 
         RowBox[{"cy", "-", 
          RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "cy"}], " ", "xiAnchor", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "+", 
          RowBox[{"cx", " ", "xiAnchor", " ", 
           RowBox[{"ay", "[", "1", "]"}]}]}], ")"}]}], 
       RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}]]}], "+", 
     FractionBox[
      RowBox[{"2", " ", 
       SuperscriptBox["xiAnchor", "2"], " ", 
       RowBox[{"(", 
        RowBox[{"cz", "-", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"cz", " ", 
          RowBox[{"ax", "[", "1", "]"}]}], "-", 
         RowBox[{"cx", " ", 
          RowBox[{"az", "[", "1", "]"}]}]}], ")"}]}], 
      RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}]], "-", 
     FractionBox[
      RowBox[{
       RowBox[{"cx", " ", "xiCargoTranslation"}], "+", 
       RowBox[{"xiAnchor", " ", 
        RowBox[{"ax", "[", "1", "]"}]}], "-", 
       RowBox[{"dt", " ", 
        RowBox[{"(", 
         RowBox[{"fStericx", "+", "fTrapx", "+", 
          RowBox[{"FmRx", "[", "1", "]"}]}], ")"}]}]}], "xiCargoTranslation"],
      "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"dt", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "2"}], " ", 
           SuperscriptBox["cy", "2"], " ", "xiAnchor"}], "-", 
          RowBox[{"2", " ", 
           SuperscriptBox["cz", "2"], " ", "xiAnchor"}], "+", 
          "xiCargoRotation", "+", 
          RowBox[{"4", " ", "cy", " ", "xiAnchor", " ", 
           RowBox[{"ay", "[", "1", "]"}]}], "-", 
          RowBox[{"2", " ", "xiAnchor", " ", 
           SuperscriptBox[
            RowBox[{"ay", "[", "1", "]"}], "2"]}], "+", 
          RowBox[{"4", " ", "cz", " ", "xiAnchor", " ", 
           RowBox[{"az", "[", "1", "]"}]}], "-", 
          RowBox[{"2", " ", "xiAnchor", " ", 
           SuperscriptBox[
            RowBox[{"az", "[", "1", "]"}], "2"]}]}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{
          FractionBox[
           RowBox[{"xiAnchor", " ", 
            RowBox[{"ax", "[", "1", "]"}]}], "dt"], "-", 
          RowBox[{"FmTangentialx", "[", "1", "]"}]}], ")"}]}], ")"}], "/", 
      RowBox[{"(", 
       RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}], ")"}]}], "+", 
     FractionBox[
      RowBox[{"2", " ", "dt", " ", "xiAnchor", " ", 
       RowBox[{"(", 
        RowBox[{"cx", "-", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"cy", "-", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"ay", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialy", "[", "1", "]"}]}], ")"}]}], 
      RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}]], "+", 
     FractionBox[
      RowBox[{"2", " ", "dt", " ", "xiAnchor", " ", 
       RowBox[{"(", 
        RowBox[{"cx", "-", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"cz", "-", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"az", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialz", "[", "1", "]"}]}], ")"}]}], 
      RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}]]}]}], ",", 
   RowBox[{"cy1", "\[Equal]", 
    RowBox[{
     FractionBox[
      RowBox[{"2", " ", "xiAnchor", " ", 
       RowBox[{"(", 
        RowBox[{"cx", "-", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "cy"}], " ", "xiAnchor", " ", 
          RowBox[{"ax", "[", "1", "]"}]}], "+", 
         RowBox[{"cx", " ", "xiAnchor", " ", 
          RowBox[{"ay", "[", "1", "]"}]}]}], ")"}]}], 
      RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}]], "-", 
     FractionBox[
      RowBox[{"2", " ", "xiAnchor", " ", 
       RowBox[{"(", 
        RowBox[{"cz", "-", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "cz"}], " ", "xiAnchor", " ", 
          RowBox[{"ay", "[", "1", "]"}]}], "+", 
         RowBox[{"cy", " ", "xiAnchor", " ", 
          RowBox[{"az", "[", "1", "]"}]}]}], ")"}]}], 
      RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}]], "-", 
     FractionBox[
      RowBox[{
       RowBox[{"cy", " ", "xiCargoTranslation"}], "+", 
       RowBox[{"xiAnchor", " ", 
        RowBox[{"ay", "[", "1", "]"}]}], "-", 
       RowBox[{"dt", " ", 
        RowBox[{"(", 
         RowBox[{"fStericy", "+", "fTrapy", "+", 
          RowBox[{"FmRy", "[", "1", "]"}]}], ")"}]}]}], "xiCargoTranslation"],
      "+", 
     FractionBox[
      RowBox[{"2", " ", "dt", " ", "xiAnchor", " ", 
       RowBox[{"(", 
        RowBox[{"cx", "-", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"cy", "-", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialx", "[", "1", "]"}]}], ")"}]}], 
      RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}]], "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"dt", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "2"}], " ", 
           SuperscriptBox["cx", "2"], " ", "xiAnchor"}], "-", 
          RowBox[{"2", " ", 
           SuperscriptBox["cz", "2"], " ", "xiAnchor"}], "+", 
          "xiCargoRotation", "+", 
          RowBox[{"4", " ", "cx", " ", "xiAnchor", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "-", 
          RowBox[{"2", " ", "xiAnchor", " ", 
           SuperscriptBox[
            RowBox[{"ax", "[", "1", "]"}], "2"]}], "+", 
          RowBox[{"4", " ", "cz", " ", "xiAnchor", " ", 
           RowBox[{"az", "[", "1", "]"}]}], "-", 
          RowBox[{"2", " ", "xiAnchor", " ", 
           SuperscriptBox[
            RowBox[{"az", "[", "1", "]"}], "2"]}]}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{
          FractionBox[
           RowBox[{"xiAnchor", " ", 
            RowBox[{"ay", "[", "1", "]"}]}], "dt"], "-", 
          RowBox[{"FmTangentialy", "[", "1", "]"}]}], ")"}]}], ")"}], "/", 
      RowBox[{"(", 
       RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}], ")"}]}], "+", 
     FractionBox[
      RowBox[{"2", " ", "dt", " ", "xiAnchor", " ", 
       RowBox[{"(", 
        RowBox[{"cy", "-", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"cz", "-", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"az", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialz", "[", "1", "]"}]}], ")"}]}], 
      RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}]]}]}], ",", 
   RowBox[{"cz1", "\[Equal]", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{"2", " ", 
        SuperscriptBox["xiAnchor", "2"], " ", 
        RowBox[{"(", 
         RowBox[{"cx", "-", 
          RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"cz", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "-", 
          RowBox[{"cx", " ", 
           RowBox[{"az", "[", "1", "]"}]}]}], ")"}]}], 
       RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}]]}], "+", 
     FractionBox[
      RowBox[{"2", " ", "xiAnchor", " ", 
       RowBox[{"(", 
        RowBox[{"cy", "-", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "cz"}], " ", "xiAnchor", " ", 
          RowBox[{"ay", "[", "1", "]"}]}], "+", 
         RowBox[{"cy", " ", "xiAnchor", " ", 
          RowBox[{"az", "[", "1", "]"}]}]}], ")"}]}], 
      RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}]], "-", 
     FractionBox[
      RowBox[{
       RowBox[{"cz", " ", "xiCargoTranslation"}], "+", 
       RowBox[{"xiAnchor", " ", 
        RowBox[{"az", "[", "1", "]"}]}], "-", 
       RowBox[{"dt", " ", 
        RowBox[{"(", 
         RowBox[{"fStericz", "+", "fTrapz", "+", 
          RowBox[{"FmRz", "[", "1", "]"}]}], ")"}]}]}], "xiCargoTranslation"],
      "+", 
     FractionBox[
      RowBox[{"2", " ", "dt", " ", "xiAnchor", " ", 
       RowBox[{"(", 
        RowBox[{"cx", "-", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"cz", "-", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialx", "[", "1", "]"}]}], ")"}]}], 
      RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}]], "+", 
     FractionBox[
      RowBox[{"2", " ", "dt", " ", "xiAnchor", " ", 
       RowBox[{"(", 
        RowBox[{"cy", "-", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"cz", "-", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"ay", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialy", "[", "1", "]"}]}], ")"}]}], 
      RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}]], "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"dt", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "2"}], " ", 
           SuperscriptBox["cx", "2"], " ", "xiAnchor"}], "-", 
          RowBox[{"2", " ", 
           SuperscriptBox["cy", "2"], " ", "xiAnchor"}], "+", 
          "xiCargoRotation", "+", 
          RowBox[{"4", " ", "cx", " ", "xiAnchor", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "-", 
          RowBox[{"2", " ", "xiAnchor", " ", 
           SuperscriptBox[
            RowBox[{"ax", "[", "1", "]"}], "2"]}], "+", 
          RowBox[{"4", " ", "cy", " ", "xiAnchor", " ", 
           RowBox[{"ay", "[", "1", "]"}]}], "-", 
          RowBox[{"2", " ", "xiAnchor", " ", 
           SuperscriptBox[
            RowBox[{"ay", "[", "1", "]"}], "2"]}]}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{
          FractionBox[
           RowBox[{"xiAnchor", " ", 
            RowBox[{"az", "[", "1", "]"}]}], "dt"], "-", 
          RowBox[{"FmTangentialz", "[", "1", "]"}]}], ")"}]}], ")"}], "/", 
      RowBox[{"(", 
       RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}], ")"}]}]}]}], 
   ",", 
   RowBox[{"omegax", "\[Equal]", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{
        RowBox[{
         RowBox[{"-", "cz"}], " ", "xiAnchor", " ", 
         RowBox[{"ay", "[", "1", "]"}]}], "+", 
        RowBox[{"cy", " ", "xiAnchor", " ", 
         RowBox[{"az", "[", "1", "]"}]}]}], 
       RowBox[{"dt", " ", "xiCargoRotation"}]]}], "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "cz"}], "+", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"ay", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialy", "[", "1", "]"}]}], ")"}]}], 
      "xiCargoRotation"], "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{"cy", "-", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"az", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialz", "[", "1", "]"}]}], ")"}]}], 
      "xiCargoRotation"]}]}], ",", 
   RowBox[{"omegay", "\[Equal]", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{"xiAnchor", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"cz", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "-", 
          RowBox[{"cx", " ", 
           RowBox[{"az", "[", "1", "]"}]}]}], ")"}]}], 
       RowBox[{"dt", " ", "xiCargoRotation"}]]}], "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{"cz", "-", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialx", "[", "1", "]"}]}], ")"}]}], 
      "xiCargoRotation"], "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "cx"}], "+", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"az", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialz", "[", "1", "]"}]}], ")"}]}], 
      "xiCargoRotation"]}]}], ",", 
   RowBox[{"omegaz", "\[Equal]", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{
        RowBox[{
         RowBox[{"-", "cy"}], " ", "xiAnchor", " ", 
         RowBox[{"ax", "[", "1", "]"}]}], "+", 
        RowBox[{"cx", " ", "xiAnchor", " ", 
         RowBox[{"ay", "[", "1", "]"}]}]}], 
       RowBox[{"dt", " ", "xiCargoRotation"}]]}], "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "cy"}], "+", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialx", "[", "1", "]"}]}], ")"}]}], 
      "xiCargoRotation"], "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{"cx", "-", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"ay", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialy", "[", "1", "]"}]}], ")"}]}], 
      "xiCargoRotation"]}]}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.684009270555118*^9, 3.6840182318151493`*^9, 3.684018324770701*^9, 
   3.6840184827293463`*^9, {3.684018606784256*^9, 3.684018636267304*^9}, 
   3.684018706316156*^9, 3.6840191555775137`*^9, 3.68409041686405*^9, 
   3.684097995770397*^9}]
}, Closed]],

Cell["All in one function", "Text",
 CellChangeTimes->{{3.684098051773768*^9, 3.684098060121355*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"generateEqs", "[", "nmotors_", "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "eqs", ",", "i", ",", "vars", ",", "coeff", ",", "coeffinv", ",", 
      "const"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"eqs", "=", 
      RowBox[{"{", "}"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"For", "[", 
      RowBox[{
       RowBox[{"i", "=", "1"}], ",", 
       RowBox[{"i", "\[LessEqual]", "nmotors"}], ",", 
       RowBox[{"i", "++"}], ",", 
       RowBox[{
        RowBox[{"eqs", "=", 
         RowBox[{"Join", "[", 
          RowBox[{
           RowBox[{"Thread", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"0", ",", "0", ",", "0"}], "}"}], "\[Equal]", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"FmTangentialx", "[", "i", "]"}], ",", 
                RowBox[{"FmTangentialy", "[", "i", "]"}], ",", 
                RowBox[{"FmTangentialz", "[", "i", "]"}]}], "}"}], "+", 
              RowBox[{"xiAnchor", " ", 
               RowBox[{"Cross", "[", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{"omegax", ",", "omegay", ",", "omegaz"}], "}"}], 
                 ",", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{"ax", "[", "i", "]"}], ",", 
                    RowBox[{"ay", "[", "i", "]"}], ",", 
                    RowBox[{"az", "[", "i", "]"}]}], "}"}], "-", 
                  RowBox[{"{", 
                   RowBox[{"cx", ",", "cy", ",", "cz"}], "}"}]}]}], "]"}]}], 
              "+", 
              RowBox[{"xiAnchor", 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{"ax1", "[", "i", "]"}], ",", 
                    RowBox[{"ay1", "[", "i", "]"}], ",", 
                    RowBox[{"az1", "[", "i", "]"}]}], "}"}], "-", 
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{"ax", "[", "i", "]"}], ",", 
                    RowBox[{"ay", "[", "i", "]"}], ",", 
                    RowBox[{"az", "[", "i", "]"}]}], "}"}]}], ")"}], "/", 
                "dt"}]}]}]}], "]"}], ",", "\[IndentingNewLine]", "eqs"}], 
          "]"}]}], ";"}]}], "\[IndentingNewLine]", "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"eqs", "=", 
      RowBox[{"Join", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Thread", "[", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"0", ",", "0", ",", "0"}], "}"}], "\[Equal]", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"fTrapx", ",", "fTrapy", ",", "fTrapz"}], "}"}], "+", 
           "\[IndentingNewLine]", 
           RowBox[{"{", 
            RowBox[{"fStericx", ",", "fStericy", ",", "fStericz"}], "}"}], 
           "+", "\[IndentingNewLine]", 
           RowBox[{"xiCargoTranslation", 
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"cx1", ",", "cy1", ",", "cz1"}], "}"}], "-", 
               RowBox[{"{", 
                RowBox[{"cx", ",", "cy", ",", "cz"}], "}"}]}], ")"}], "/", 
             "dt"}]}], "+", 
           RowBox[{"Sum", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"FmRx", "[", "i", "]"}], ",", 
                RowBox[{"FmRy", "[", "i", "]"}], ",", 
                RowBox[{"FmRz", "[", "i", "]"}]}], "}"}], "-", 
              RowBox[{"xiAnchor", " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"Cross", "[", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{"omegax", ",", "omegay", ",", "omegaz"}], "}"}], 
                   ",", 
                   RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"ax", "[", "i", "]"}], ",", 
                    RowBox[{"ay", "[", "i", "]"}], ",", 
                    RowBox[{"az", "[", "i", "]"}]}], "}"}], "-", 
                    RowBox[{"{", 
                    RowBox[{"cx", ",", "cy", ",", "cz"}], "}"}]}]}], "]"}], 
                 "+", 
                 RowBox[{
                  RowBox[{"-", 
                   RowBox[{"(", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"ax1", "[", "i", "]"}], ",", 
                    RowBox[{"ay1", "[", "i", "]"}], ",", 
                    RowBox[{"az1", "[", "i", "]"}]}], "}"}], "-", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"ax", "[", "i", "]"}], ",", 
                    RowBox[{"ay", "[", "i", "]"}], ",", 
                    RowBox[{"az", "[", "i", "]"}]}], "}"}]}], ")"}]}], "/", 
                  "dt"}]}], ")"}]}]}], ",", 
             RowBox[{"{", 
              RowBox[{"i", ",", "1", ",", "nmotors"}], "}"}]}], "]"}]}]}], 
         "\[IndentingNewLine]", "]"}], ",", "eqs"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"eqs", "=", 
      RowBox[{"Join", "[", 
       RowBox[{
        RowBox[{"Thread", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"0", ",", "0", ",", "0"}], "}"}], "==", 
          RowBox[{
           RowBox[{
            RowBox[{"{", 
             RowBox[{"omegax", ",", "omegay", ",", "omegaz"}], "}"}], 
            "xiCargoRotation"}], "-", 
           RowBox[{"xiAnchor", " ", 
            RowBox[{"Sum", "[", 
             RowBox[{
              RowBox[{"Cross", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"ax", "[", "i", "]"}], ",", 
                   RowBox[{"ay", "[", "i", "]"}], ",", 
                   RowBox[{"az", "[", "i", "]"}]}], "}"}], "-", 
                 RowBox[{"{", 
                  RowBox[{"cx", ",", "cy", ",", "cz"}], "}"}]}], ",", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"Cross", "[", 
                   RowBox[{
                    RowBox[{"{", 
                    RowBox[{"omegax", ",", "omegay", ",", "omegaz"}], "}"}], 
                    ",", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"ax", "[", "i", "]"}], ",", 
                    RowBox[{"ay", "[", "i", "]"}], ",", 
                    RowBox[{"az", "[", "i", "]"}]}], "}"}], "-", 
                    RowBox[{"{", 
                    RowBox[{"cx", ",", "cy", ",", "cz"}], "}"}]}]}], "]"}], 
                  "+", 
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"ax1", "[", "i", "]"}], ",", 
                    RowBox[{"ay1", "[", "i", "]"}], ",", 
                    RowBox[{"az1", "[", "i", "]"}]}], "}"}], "-", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"ax", "[", "i", "]"}], ",", 
                    RowBox[{"ay", "[", "i", "]"}], ",", 
                    RowBox[{"az", "[", "i", "]"}]}], "}"}]}], ")"}], "/", 
                   "dt"}]}], ")"}]}], "]"}], ",", 
              RowBox[{"{", 
               RowBox[{"i", ",", "1", ",", "nmotors"}], "}"}]}], "]"}]}]}]}], 
         "\[IndentingNewLine]", "]"}], ",", "eqs"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"vars", "=", 
      RowBox[{
       RowBox[{"Join", "[", 
        RowBox[{
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"ax1", "[", "i", "]"}], ",", 
             RowBox[{"ay1", "[", "i", "]"}], ",", 
             RowBox[{"az1", "[", "i", "]"}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"i", ",", "1", ",", "nmotors"}], "}"}]}], "]"}], ",", 
         RowBox[{"{", 
          RowBox[{
          "cx1", ",", "cy1", ",", "cz1", ",", "omegax", ",", "omegay", ",", 
           "omegaz"}], "}"}]}], "]"}], "//", "Flatten"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"const", ",", "coeff"}], "}"}], "=", 
      RowBox[{
       RowBox[{"Normal", "@", 
        RowBox[{"CoefficientArrays", "[", 
         RowBox[{"eqs", ",", "vars"}], "]"}]}], "//", "Simplify"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"coeffinv", "=", 
      RowBox[{
       RowBox[{"Inverse", "[", "coeff", "]"}], "//", "Simplify"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Thread", "[", 
      RowBox[{"vars", "==", 
       RowBox[{"coeffinv", ".", "const"}]}], "]"}]}]}], "\[IndentingNewLine]",
    "]"}]}]], "Input",
 CellChangeTimes->{{3.684098061912445*^9, 3.6840980638957357`*^9}, {
  3.684098157760518*^9, 3.684098223909584*^9}, {3.684098255264639*^9, 
  3.684098327748281*^9}, {3.684098365189097*^9, 3.684098451058679*^9}, {
  3.684098934649769*^9, 3.684099001226726*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"generateEqs", "[", "1", "]"}]], "Input",
 CellChangeTimes->{{3.684098429505436*^9, 3.6840984320343313`*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{"ax1", "[", "1", "]"}], "\[Equal]", 
    RowBox[{
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{"cy", "-", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "cy"}], " ", "xiAnchor", " ", 
          RowBox[{"ax", "[", "1", "]"}]}], "+", 
         RowBox[{"cx", " ", "xiAnchor", " ", 
          RowBox[{"ay", "[", "1", "]"}]}]}], ")"}]}], "xiCargoRotation"], "+", 
     FractionBox[
      RowBox[{"xiAnchor", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "cz"}], "+", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"cz", " ", 
          RowBox[{"ax", "[", "1", "]"}]}], "-", 
         RowBox[{"cx", " ", 
          RowBox[{"az", "[", "1", "]"}]}]}], ")"}]}], "xiCargoRotation"], "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"dt", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           SuperscriptBox["cy", "2"], " ", "xiAnchor"}], "+", 
          RowBox[{
           SuperscriptBox["cz", "2"], " ", "xiAnchor"}], "-", 
          "xiCargoRotation", "-", 
          RowBox[{"2", " ", "cy", " ", "xiAnchor", " ", 
           RowBox[{"ay", "[", "1", "]"}]}], "+", 
          RowBox[{"xiAnchor", " ", 
           SuperscriptBox[
            RowBox[{"ay", "[", "1", "]"}], "2"]}], "-", 
          RowBox[{"2", " ", "cz", " ", "xiAnchor", " ", 
           RowBox[{"az", "[", "1", "]"}]}], "+", 
          RowBox[{"xiAnchor", " ", 
           SuperscriptBox[
            RowBox[{"az", "[", "1", "]"}], "2"]}]}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{
          FractionBox[
           RowBox[{"xiAnchor", " ", 
            RowBox[{"ax", "[", "1", "]"}]}], "dt"], "-", 
          RowBox[{"FmTangentialx", "[", "1", "]"}]}], ")"}]}], ")"}], "/", 
      RowBox[{"(", 
       RowBox[{"xiAnchor", " ", "xiCargoRotation"}], ")"}]}], "-", 
     FractionBox[
      RowBox[{"dt", " ", 
       RowBox[{"(", 
        RowBox[{"cx", "-", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"cy", "-", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"ay", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialy", "[", "1", "]"}]}], ")"}]}], 
      "xiCargoRotation"], "-", 
     FractionBox[
      RowBox[{"dt", " ", 
       RowBox[{"(", 
        RowBox[{"cx", "-", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"cz", "-", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"az", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialz", "[", "1", "]"}]}], ")"}]}], 
      "xiCargoRotation"]}]}], ",", 
   RowBox[{
    RowBox[{"ay1", "[", "1", "]"}], "\[Equal]", 
    RowBox[{
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "cx"}], "+", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "cy"}], " ", "xiAnchor", " ", 
          RowBox[{"ax", "[", "1", "]"}]}], "+", 
         RowBox[{"cx", " ", "xiAnchor", " ", 
          RowBox[{"ay", "[", "1", "]"}]}]}], ")"}]}], "xiCargoRotation"], "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{"cz", "-", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "cz"}], " ", "xiAnchor", " ", 
          RowBox[{"ay", "[", "1", "]"}]}], "+", 
         RowBox[{"cy", " ", "xiAnchor", " ", 
          RowBox[{"az", "[", "1", "]"}]}]}], ")"}]}], "xiCargoRotation"], "-", 
     FractionBox[
      RowBox[{"dt", " ", 
       RowBox[{"(", 
        RowBox[{"cx", "-", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"cy", "-", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialx", "[", "1", "]"}]}], ")"}]}], 
      "xiCargoRotation"], "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"dt", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           SuperscriptBox["cx", "2"], " ", "xiAnchor"}], "+", 
          RowBox[{
           SuperscriptBox["cz", "2"], " ", "xiAnchor"}], "-", 
          "xiCargoRotation", "-", 
          RowBox[{"2", " ", "cx", " ", "xiAnchor", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "+", 
          RowBox[{"xiAnchor", " ", 
           SuperscriptBox[
            RowBox[{"ax", "[", "1", "]"}], "2"]}], "-", 
          RowBox[{"2", " ", "cz", " ", "xiAnchor", " ", 
           RowBox[{"az", "[", "1", "]"}]}], "+", 
          RowBox[{"xiAnchor", " ", 
           SuperscriptBox[
            RowBox[{"az", "[", "1", "]"}], "2"]}]}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{
          FractionBox[
           RowBox[{"xiAnchor", " ", 
            RowBox[{"ay", "[", "1", "]"}]}], "dt"], "-", 
          RowBox[{"FmTangentialy", "[", "1", "]"}]}], ")"}]}], ")"}], "/", 
      RowBox[{"(", 
       RowBox[{"xiAnchor", " ", "xiCargoRotation"}], ")"}]}], "-", 
     FractionBox[
      RowBox[{"dt", " ", 
       RowBox[{"(", 
        RowBox[{"cy", "-", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"cz", "-", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"az", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialz", "[", "1", "]"}]}], ")"}]}], 
      "xiCargoRotation"]}]}], ",", 
   RowBox[{
    RowBox[{"az1", "[", "1", "]"}], "\[Equal]", 
    RowBox[{
     FractionBox[
      RowBox[{"xiAnchor", " ", 
       RowBox[{"(", 
        RowBox[{"cx", "-", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"cz", " ", 
          RowBox[{"ax", "[", "1", "]"}]}], "-", 
         RowBox[{"cx", " ", 
          RowBox[{"az", "[", "1", "]"}]}]}], ")"}]}], "xiCargoRotation"], "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "cy"}], "+", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "cz"}], " ", "xiAnchor", " ", 
          RowBox[{"ay", "[", "1", "]"}]}], "+", 
         RowBox[{"cy", " ", "xiAnchor", " ", 
          RowBox[{"az", "[", "1", "]"}]}]}], ")"}]}], "xiCargoRotation"], "-", 
     FractionBox[
      RowBox[{"dt", " ", 
       RowBox[{"(", 
        RowBox[{"cx", "-", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"cz", "-", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialx", "[", "1", "]"}]}], ")"}]}], 
      "xiCargoRotation"], "-", 
     FractionBox[
      RowBox[{"dt", " ", 
       RowBox[{"(", 
        RowBox[{"cy", "-", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"cz", "-", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"ay", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialy", "[", "1", "]"}]}], ")"}]}], 
      "xiCargoRotation"], "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"dt", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           SuperscriptBox["cx", "2"], " ", "xiAnchor"}], "+", 
          RowBox[{
           SuperscriptBox["cy", "2"], " ", "xiAnchor"}], "-", 
          "xiCargoRotation", "-", 
          RowBox[{"2", " ", "cx", " ", "xiAnchor", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "+", 
          RowBox[{"xiAnchor", " ", 
           SuperscriptBox[
            RowBox[{"ax", "[", "1", "]"}], "2"]}], "-", 
          RowBox[{"2", " ", "cy", " ", "xiAnchor", " ", 
           RowBox[{"ay", "[", "1", "]"}]}], "+", 
          RowBox[{"xiAnchor", " ", 
           SuperscriptBox[
            RowBox[{"ay", "[", "1", "]"}], "2"]}]}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{
          FractionBox[
           RowBox[{"xiAnchor", " ", 
            RowBox[{"az", "[", "1", "]"}]}], "dt"], "-", 
          RowBox[{"FmTangentialz", "[", "1", "]"}]}], ")"}]}], ")"}], "/", 
      RowBox[{"(", 
       RowBox[{"xiAnchor", " ", "xiCargoRotation"}], ")"}]}]}]}], ",", 
   RowBox[{"cx1", "\[Equal]", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{"2", " ", "xiAnchor", " ", 
        RowBox[{"(", 
         RowBox[{"cy", "-", 
          RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "cy"}], " ", "xiAnchor", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "+", 
          RowBox[{"cx", " ", "xiAnchor", " ", 
           RowBox[{"ay", "[", "1", "]"}]}]}], ")"}]}], 
       RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}]]}], "+", 
     FractionBox[
      RowBox[{"2", " ", 
       SuperscriptBox["xiAnchor", "2"], " ", 
       RowBox[{"(", 
        RowBox[{"cz", "-", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"cz", " ", 
          RowBox[{"ax", "[", "1", "]"}]}], "-", 
         RowBox[{"cx", " ", 
          RowBox[{"az", "[", "1", "]"}]}]}], ")"}]}], 
      RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}]], "-", 
     FractionBox[
      RowBox[{
       RowBox[{"cx", " ", "xiCargoTranslation"}], "+", 
       RowBox[{"xiAnchor", " ", 
        RowBox[{"ax", "[", "1", "]"}]}], "-", 
       RowBox[{"dt", " ", 
        RowBox[{"(", 
         RowBox[{"fStericx", "+", "fTrapx", "+", 
          RowBox[{"FmRx", "[", "1", "]"}]}], ")"}]}]}], "xiCargoTranslation"],
      "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"dt", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "2"}], " ", 
           SuperscriptBox["cy", "2"], " ", "xiAnchor"}], "-", 
          RowBox[{"2", " ", 
           SuperscriptBox["cz", "2"], " ", "xiAnchor"}], "+", 
          "xiCargoRotation", "+", 
          RowBox[{"4", " ", "cy", " ", "xiAnchor", " ", 
           RowBox[{"ay", "[", "1", "]"}]}], "-", 
          RowBox[{"2", " ", "xiAnchor", " ", 
           SuperscriptBox[
            RowBox[{"ay", "[", "1", "]"}], "2"]}], "+", 
          RowBox[{"4", " ", "cz", " ", "xiAnchor", " ", 
           RowBox[{"az", "[", "1", "]"}]}], "-", 
          RowBox[{"2", " ", "xiAnchor", " ", 
           SuperscriptBox[
            RowBox[{"az", "[", "1", "]"}], "2"]}]}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{
          FractionBox[
           RowBox[{"xiAnchor", " ", 
            RowBox[{"ax", "[", "1", "]"}]}], "dt"], "-", 
          RowBox[{"FmTangentialx", "[", "1", "]"}]}], ")"}]}], ")"}], "/", 
      RowBox[{"(", 
       RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}], ")"}]}], "+", 
     FractionBox[
      RowBox[{"2", " ", "dt", " ", "xiAnchor", " ", 
       RowBox[{"(", 
        RowBox[{"cx", "-", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"cy", "-", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"ay", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialy", "[", "1", "]"}]}], ")"}]}], 
      RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}]], "+", 
     FractionBox[
      RowBox[{"2", " ", "dt", " ", "xiAnchor", " ", 
       RowBox[{"(", 
        RowBox[{"cx", "-", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"cz", "-", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"az", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialz", "[", "1", "]"}]}], ")"}]}], 
      RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}]]}]}], ",", 
   RowBox[{"cy1", "\[Equal]", 
    RowBox[{
     FractionBox[
      RowBox[{"2", " ", "xiAnchor", " ", 
       RowBox[{"(", 
        RowBox[{"cx", "-", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "cy"}], " ", "xiAnchor", " ", 
          RowBox[{"ax", "[", "1", "]"}]}], "+", 
         RowBox[{"cx", " ", "xiAnchor", " ", 
          RowBox[{"ay", "[", "1", "]"}]}]}], ")"}]}], 
      RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}]], "-", 
     FractionBox[
      RowBox[{"2", " ", "xiAnchor", " ", 
       RowBox[{"(", 
        RowBox[{"cz", "-", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "cz"}], " ", "xiAnchor", " ", 
          RowBox[{"ay", "[", "1", "]"}]}], "+", 
         RowBox[{"cy", " ", "xiAnchor", " ", 
          RowBox[{"az", "[", "1", "]"}]}]}], ")"}]}], 
      RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}]], "-", 
     FractionBox[
      RowBox[{
       RowBox[{"cy", " ", "xiCargoTranslation"}], "+", 
       RowBox[{"xiAnchor", " ", 
        RowBox[{"ay", "[", "1", "]"}]}], "-", 
       RowBox[{"dt", " ", 
        RowBox[{"(", 
         RowBox[{"fStericy", "+", "fTrapy", "+", 
          RowBox[{"FmRy", "[", "1", "]"}]}], ")"}]}]}], "xiCargoTranslation"],
      "+", 
     FractionBox[
      RowBox[{"2", " ", "dt", " ", "xiAnchor", " ", 
       RowBox[{"(", 
        RowBox[{"cx", "-", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"cy", "-", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialx", "[", "1", "]"}]}], ")"}]}], 
      RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}]], "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"dt", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "2"}], " ", 
           SuperscriptBox["cx", "2"], " ", "xiAnchor"}], "-", 
          RowBox[{"2", " ", 
           SuperscriptBox["cz", "2"], " ", "xiAnchor"}], "+", 
          "xiCargoRotation", "+", 
          RowBox[{"4", " ", "cx", " ", "xiAnchor", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "-", 
          RowBox[{"2", " ", "xiAnchor", " ", 
           SuperscriptBox[
            RowBox[{"ax", "[", "1", "]"}], "2"]}], "+", 
          RowBox[{"4", " ", "cz", " ", "xiAnchor", " ", 
           RowBox[{"az", "[", "1", "]"}]}], "-", 
          RowBox[{"2", " ", "xiAnchor", " ", 
           SuperscriptBox[
            RowBox[{"az", "[", "1", "]"}], "2"]}]}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{
          FractionBox[
           RowBox[{"xiAnchor", " ", 
            RowBox[{"ay", "[", "1", "]"}]}], "dt"], "-", 
          RowBox[{"FmTangentialy", "[", "1", "]"}]}], ")"}]}], ")"}], "/", 
      RowBox[{"(", 
       RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}], ")"}]}], "+", 
     FractionBox[
      RowBox[{"2", " ", "dt", " ", "xiAnchor", " ", 
       RowBox[{"(", 
        RowBox[{"cy", "-", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"cz", "-", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"az", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialz", "[", "1", "]"}]}], ")"}]}], 
      RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}]]}]}], ",", 
   RowBox[{"cz1", "\[Equal]", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{"2", " ", 
        SuperscriptBox["xiAnchor", "2"], " ", 
        RowBox[{"(", 
         RowBox[{"cx", "-", 
          RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"cz", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "-", 
          RowBox[{"cx", " ", 
           RowBox[{"az", "[", "1", "]"}]}]}], ")"}]}], 
       RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}]]}], "+", 
     FractionBox[
      RowBox[{"2", " ", "xiAnchor", " ", 
       RowBox[{"(", 
        RowBox[{"cy", "-", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "cz"}], " ", "xiAnchor", " ", 
          RowBox[{"ay", "[", "1", "]"}]}], "+", 
         RowBox[{"cy", " ", "xiAnchor", " ", 
          RowBox[{"az", "[", "1", "]"}]}]}], ")"}]}], 
      RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}]], "-", 
     FractionBox[
      RowBox[{
       RowBox[{"cz", " ", "xiCargoTranslation"}], "+", 
       RowBox[{"xiAnchor", " ", 
        RowBox[{"az", "[", "1", "]"}]}], "-", 
       RowBox[{"dt", " ", 
        RowBox[{"(", 
         RowBox[{"fStericz", "+", "fTrapz", "+", 
          RowBox[{"FmRz", "[", "1", "]"}]}], ")"}]}]}], "xiCargoTranslation"],
      "+", 
     FractionBox[
      RowBox[{"2", " ", "dt", " ", "xiAnchor", " ", 
       RowBox[{"(", 
        RowBox[{"cx", "-", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"cz", "-", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialx", "[", "1", "]"}]}], ")"}]}], 
      RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}]], "+", 
     FractionBox[
      RowBox[{"2", " ", "dt", " ", "xiAnchor", " ", 
       RowBox[{"(", 
        RowBox[{"cy", "-", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"cz", "-", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"ay", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialy", "[", "1", "]"}]}], ")"}]}], 
      RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}]], "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"dt", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "2"}], " ", 
           SuperscriptBox["cx", "2"], " ", "xiAnchor"}], "-", 
          RowBox[{"2", " ", 
           SuperscriptBox["cy", "2"], " ", "xiAnchor"}], "+", 
          "xiCargoRotation", "+", 
          RowBox[{"4", " ", "cx", " ", "xiAnchor", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "-", 
          RowBox[{"2", " ", "xiAnchor", " ", 
           SuperscriptBox[
            RowBox[{"ax", "[", "1", "]"}], "2"]}], "+", 
          RowBox[{"4", " ", "cy", " ", "xiAnchor", " ", 
           RowBox[{"ay", "[", "1", "]"}]}], "-", 
          RowBox[{"2", " ", "xiAnchor", " ", 
           SuperscriptBox[
            RowBox[{"ay", "[", "1", "]"}], "2"]}]}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{
          FractionBox[
           RowBox[{"xiAnchor", " ", 
            RowBox[{"az", "[", "1", "]"}]}], "dt"], "-", 
          RowBox[{"FmTangentialz", "[", "1", "]"}]}], ")"}]}], ")"}], "/", 
      RowBox[{"(", 
       RowBox[{"xiCargoRotation", " ", "xiCargoTranslation"}], ")"}]}]}]}], 
   ",", 
   RowBox[{"omegax", "\[Equal]", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{
        RowBox[{
         RowBox[{"-", "cz"}], " ", "xiAnchor", " ", 
         RowBox[{"ay", "[", "1", "]"}]}], "+", 
        RowBox[{"cy", " ", "xiAnchor", " ", 
         RowBox[{"az", "[", "1", "]"}]}]}], 
       RowBox[{"dt", " ", "xiCargoRotation"}]]}], "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "cz"}], "+", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"ay", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialy", "[", "1", "]"}]}], ")"}]}], 
      "xiCargoRotation"], "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{"cy", "-", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"az", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialz", "[", "1", "]"}]}], ")"}]}], 
      "xiCargoRotation"]}]}], ",", 
   RowBox[{"omegay", "\[Equal]", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{"xiAnchor", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"cz", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "-", 
          RowBox[{"cx", " ", 
           RowBox[{"az", "[", "1", "]"}]}]}], ")"}]}], 
       RowBox[{"dt", " ", "xiCargoRotation"}]]}], "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{"cz", "-", 
         RowBox[{"az", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialx", "[", "1", "]"}]}], ")"}]}], 
      "xiCargoRotation"], "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "cx"}], "+", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"az", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialz", "[", "1", "]"}]}], ")"}]}], 
      "xiCargoRotation"]}]}], ",", 
   RowBox[{"omegaz", "\[Equal]", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{
        RowBox[{
         RowBox[{"-", "cy"}], " ", "xiAnchor", " ", 
         RowBox[{"ax", "[", "1", "]"}]}], "+", 
        RowBox[{"cx", " ", "xiAnchor", " ", 
         RowBox[{"ay", "[", "1", "]"}]}]}], 
       RowBox[{"dt", " ", "xiCargoRotation"}]]}], "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "cy"}], "+", 
         RowBox[{"ay", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"ax", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialx", "[", "1", "]"}]}], ")"}]}], 
      "xiCargoRotation"], "+", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{"cx", "-", 
         RowBox[{"ax", "[", "1", "]"}]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         FractionBox[
          RowBox[{"xiAnchor", " ", 
           RowBox[{"ay", "[", "1", "]"}]}], "dt"], "-", 
         RowBox[{"FmTangentialy", "[", "1", "]"}]}], ")"}]}], 
      "xiCargoRotation"]}]}]}], "}"}]], "Output",
 CellChangeTimes->{{3.684098432742928*^9, 3.684098455709284*^9}, 
   3.684099036005537*^9}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Write output to file", "Section",
 CellChangeTimes->{{3.6840201613753433`*^9, 3.684020164558502*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"outfileLoc", "=", 
  RowBox[{"CreateFile", "[", "\"\<funcout3.txt\>\"", "]"}]}]], "Input",
 CellChangeTimes->{{3.684019716725196*^9, 3.68401973092797*^9}, {
  3.684019993064774*^9, 3.684020004268895*^9}}],

Cell[BoxData["\<\"/Users/Matt/funcout3.txt\"\>"], "Output",
 CellChangeTimes->{
  3.684019731811645*^9, 3.684020004956641*^9, 3.684020173260717*^9, {
   3.6840203340196333`*^9, 3.6840203554207172`*^9}, 3.684020529751093*^9, 
   3.684020724972673*^9, 3.6840208288083982`*^9, 3.6840208624277487`*^9, {
   3.684020967092856*^9, 3.6840209950987864`*^9}, 3.6840210543016357`*^9, 
   3.6840779795462027`*^9, 3.6840781147409973`*^9, 3.684078288980584*^9, {
   3.68409062614299*^9, 3.6840906543688107`*^9}, 3.684091342769141*^9, 
   3.684097226583794*^9, 3.684097294386303*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"outfile", "=", 
  RowBox[{"File", "[", "outfileLoc", "]"}]}]], "Input",
 CellChangeTimes->{{3.684019772496966*^9, 3.684019778571994*^9}, {
  3.6840198531305227`*^9, 3.684019854228492*^9}, {3.68401998799146*^9, 
  3.684020011558853*^9}}],

Cell[BoxData[
 RowBox[{"File", "[", 
  TemplateBox[{"\"/Users/Matt/funcout3.txt\""},
   "FileArgument"], "]"}]], "Output",
 CellChangeTimes->{
  3.684019859391829*^9, 3.6840200139591503`*^9, 3.684020173307829*^9, {
   3.6840203340759573`*^9, 3.684020359552182*^9}, 3.684020531417399*^9, 
   3.68402072715025*^9, 3.684020830679491*^9, 3.6840208624983797`*^9, {
   3.684020967146779*^9, 3.684020995154147*^9}, 3.6840210543791103`*^9, 
   3.684077979622684*^9, 3.684078114795874*^9, 3.68407828906461*^9, {
   3.6840906262259693`*^9, 3.684090654467849*^9}, 3.6840913428607683`*^9, 
   3.6840972266839647`*^9, 3.684097294478373*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{"For", "[", 
  RowBox[{
   RowBox[{"i", "=", "1"}], ",", 
   RowBox[{"i", "\[LessEqual]", 
    RowBox[{"3", 
     RowBox[{"(", 
      RowBox[{"nmotors", "+", "2"}], ")"}]}]}], ",", 
   RowBox[{"i", "++"}], ",", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"WriteString", "[", 
     RowBox[{"outfile", ",", 
      RowBox[{"CForm", "[", 
       RowBox[{"invsoln", "[", 
        RowBox[{"[", "i", "]"}], "]"}], "]"}], ",", "\"\<;\>\"", ",", 
      "\"\<\\n\\n\>\""}], "]"}], ";"}]}], "\[IndentingNewLine]", 
  "]"}]], "Input",
 CellChangeTimes->{{3.684020017848206*^9, 3.6840200735238657`*^9}, {
  3.684020186665773*^9, 3.684020197217394*^9}, {3.684020274100178*^9, 
  3.684020274313697*^9}, {3.6840203185267153`*^9, 3.684020320865985*^9}, {
  3.684020521049096*^9, 3.684020549251914*^9}, {3.684020714019902*^9, 
  3.684020721348217*^9}, {3.684020955365819*^9, 3.684020983669923*^9}, {
  3.684076784596681*^9, 3.684076788169228*^9}, {3.684078008649905*^9, 
  3.684078054250601*^9}, {3.684078084291253*^9, 3.684078086526618*^9}, {
  3.684078136019842*^9, 3.684078136262817*^9}, {3.6840782737155867`*^9, 
  3.6840782791821337`*^9}, {3.684090643257327*^9, 3.684090645157736*^9}, {
  3.684097290794353*^9, 3.684097290861506*^9}}],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{"WriteString", "[", 
   RowBox[{"outfile", ",", 
    RowBox[{"CForm", "[", 
     RowBox[{"invsoln", "[", 
      RowBox[{"[", "2", "]"}], "]"}], "]"}], ",", "\"\<;\>\"", ",", 
    "\"\<\\n\>\""}], "]"}], "*)"}]], "Input",
 CellChangeTimes->{{3.6840200972050037`*^9, 3.6840201081626062`*^9}, {
  3.684020192526313*^9, 3.6840201932461443`*^9}, {3.684020272671854*^9, 
  3.684020272873459*^9}, {3.6840210307630863`*^9, 3.684021037457946*^9}, {
  3.684078101714675*^9, 3.6840781045938997`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Close", "[", "outfile", "]"}]], "Input",
 CellChangeTimes->{{3.684020114118475*^9, 3.684020122889592*^9}}],

Cell[BoxData["\<\"/Users/Matt/funcout3.txt\"\>"], "Output",
 CellChangeTimes->{
  3.684020123612043*^9, 3.6840201733789454`*^9, 3.684020334150408*^9, 
   3.6840205807241096`*^9, {3.684020849654195*^9, 3.6840208625686693`*^9}, {
   3.684020967225412*^9, 3.684020995229472*^9}, 3.684021054447184*^9, 
   3.684077979714348*^9, 3.684078114905699*^9, 3.684078289142982*^9, {
   3.684090626313222*^9, 3.6840906545998173`*^9}, 3.6840913429907217`*^9, 
   3.684097226806333*^9, 3.684097294602585*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"FilePrint", "[", "outfile", "]"}]], "Input",
 CellChangeTimes->{{3.6840201331421537`*^9, 3.6840201391568413`*^9}}],

Cell["\<\
ax1(1) == (xiAnchor*(cy - ay(1))*(-(cy*(ax(1) + ax(2) + ax(3) + ax(4))) + \
cx*(ay(1) + ay(2) + ay(3) + ay(4))))/xiCargoRotation + (xiAnchor*(-cz + \
az(1))*(cz*(ax(1) + ax(2) + ax(3) + ax(4)) - cx*(az(1) + az(2) + az(3) + \
az(4))))/xiCargoRotation + (dt*(Power(cy,2)*xiAnchor + Power(cz,2)*xiAnchor - \
xiCargoRotation - 2*cy*xiAnchor*ay(1) + xiAnchor*Power(ay(1),2) - \
2*cz*xiAnchor*az(1) + xiAnchor*Power(az(1),2))*((xiAnchor*ax(1))/dt - \
FmTangentialx(1)))/(xiAnchor*xiCargoRotation) + (dt*(Power(cy,2) + \
Power(cz,2) + ay(1)*ay(2) - cy*(ay(1) + ay(2)) + az(1)*az(2) - cz*(az(1) + \
az(2)))*((xiAnchor*ax(2))/dt - FmTangentialx(2)))/xiCargoRotation + \
(dt*(Power(cy,2) + Power(cz,2) + ay(1)*ay(3) - cy*(ay(1) + ay(3)) + \
az(1)*az(3) - cz*(az(1) + az(3)))*((xiAnchor*ax(3))/dt - \
FmTangentialx(3)))/xiCargoRotation + (dt*(Power(cy,2) + Power(cz,2) + \
ay(1)*ay(4) - cy*(ay(1) + ay(4)) + az(1)*az(4) - cz*(az(1) + \
az(4)))*((xiAnchor*ax(4))/dt - FmTangentialx(4)))/xiCargoRotation - (dt*(cx - \
ax(1))*(cy - ay(1))*((xiAnchor*ay(1))/dt - FmTangentialy(1)))/xiCargoRotation \
- (dt*(cx - ax(2))*(cy - ay(1))*((xiAnchor*ay(2))/dt - \
FmTangentialy(2)))/xiCargoRotation - (dt*(cx - ax(3))*(cy - \
ay(1))*((xiAnchor*ay(3))/dt - FmTangentialy(3)))/xiCargoRotation - (dt*(cx - \
ax(4))*(cy - ay(1))*((xiAnchor*ay(4))/dt - FmTangentialy(4)))/xiCargoRotation \
- (dt*(cx - ax(1))*(cz - az(1))*((xiAnchor*az(1))/dt - \
FmTangentialz(1)))/xiCargoRotation - (dt*(cx - ax(2))*(cz - \
az(1))*((xiAnchor*az(2))/dt - FmTangentialz(2)))/xiCargoRotation - (dt*(cx - \
ax(3))*(cz - az(1))*((xiAnchor*az(3))/dt - FmTangentialz(3)))/xiCargoRotation \
- (dt*(cx - ax(4))*(cz - az(1))*((xiAnchor*az(4))/dt - \
FmTangentialz(4)))/xiCargoRotation;

ay1(1) == (xiAnchor*(-cx + ax(1))*(-(cy*(ax(1) + ax(2) + ax(3) + ax(4))) + \
cx*(ay(1) + ay(2) + ay(3) + ay(4))))/xiCargoRotation + (xiAnchor*(cz - \
az(1))*(-(cz*(ay(1) + ay(2) + ay(3) + ay(4))) + cy*(az(1) + az(2) + az(3) + \
az(4))))/xiCargoRotation - (dt*(cx - ax(1))*(cy - ay(1))*((xiAnchor*ax(1))/dt \
- FmTangentialx(1)))/xiCargoRotation - (dt*(cx - ax(1))*(cy - \
ay(2))*((xiAnchor*ax(2))/dt - FmTangentialx(2)))/xiCargoRotation - (dt*(cx - \
ax(1))*(cy - ay(3))*((xiAnchor*ax(3))/dt - FmTangentialx(3)))/xiCargoRotation \
- (dt*(cx - ax(1))*(cy - ay(4))*((xiAnchor*ax(4))/dt - \
FmTangentialx(4)))/xiCargoRotation + (dt*(Power(cx,2)*xiAnchor + \
Power(cz,2)*xiAnchor - xiCargoRotation - 2*cx*xiAnchor*ax(1) + \
xiAnchor*Power(ax(1),2) - 2*cz*xiAnchor*az(1) + \
xiAnchor*Power(az(1),2))*((xiAnchor*ay(1))/dt - \
FmTangentialy(1)))/(xiAnchor*xiCargoRotation) + (dt*(Power(cx,2) + \
Power(cz,2) + ax(1)*ax(2) - cx*(ax(1) + ax(2)) + az(1)*az(2) - cz*(az(1) + \
az(2)))*((xiAnchor*ay(2))/dt - FmTangentialy(2)))/xiCargoRotation + \
(dt*(Power(cx,2) + Power(cz,2) + ax(1)*ax(3) - cx*(ax(1) + ax(3)) + \
az(1)*az(3) - cz*(az(1) + az(3)))*((xiAnchor*ay(3))/dt - \
FmTangentialy(3)))/xiCargoRotation + (dt*(Power(cx,2) + Power(cz,2) + \
ax(1)*ax(4) - cx*(ax(1) + ax(4)) + az(1)*az(4) - cz*(az(1) + \
az(4)))*((xiAnchor*ay(4))/dt - FmTangentialy(4)))/xiCargoRotation - (dt*(cy - \
ay(1))*(cz - az(1))*((xiAnchor*az(1))/dt - FmTangentialz(1)))/xiCargoRotation \
- (dt*(cy - ay(2))*(cz - az(1))*((xiAnchor*az(2))/dt - \
FmTangentialz(2)))/xiCargoRotation - (dt*(cy - ay(3))*(cz - \
az(1))*((xiAnchor*az(3))/dt - FmTangentialz(3)))/xiCargoRotation - (dt*(cy - \
ay(4))*(cz - az(1))*((xiAnchor*az(4))/dt - FmTangentialz(4)))/xiCargoRotation;

az1(1) == (xiAnchor*(cx - ax(1))*(cz*(ax(1) + ax(2) + ax(3) + ax(4)) - \
cx*(az(1) + az(2) + az(3) + az(4))))/xiCargoRotation + (xiAnchor*(-cy + \
ay(1))*(-(cz*(ay(1) + ay(2) + ay(3) + ay(4))) + cy*(az(1) + az(2) + az(3) + \
az(4))))/xiCargoRotation - (dt*(cx - ax(1))*(cz - az(1))*((xiAnchor*ax(1))/dt \
- FmTangentialx(1)))/xiCargoRotation - (dt*(cx - ax(1))*(cz - \
az(2))*((xiAnchor*ax(2))/dt - FmTangentialx(2)))/xiCargoRotation - (dt*(cx - \
ax(1))*(cz - az(3))*((xiAnchor*ax(3))/dt - FmTangentialx(3)))/xiCargoRotation \
- (dt*(cx - ax(1))*(cz - az(4))*((xiAnchor*ax(4))/dt - \
FmTangentialx(4)))/xiCargoRotation - (dt*(cy - ay(1))*(cz - \
az(1))*((xiAnchor*ay(1))/dt - FmTangentialy(1)))/xiCargoRotation - (dt*(cy - \
ay(1))*(cz - az(2))*((xiAnchor*ay(2))/dt - FmTangentialy(2)))/xiCargoRotation \
- (dt*(cy - ay(1))*(cz - az(3))*((xiAnchor*ay(3))/dt - \
FmTangentialy(3)))/xiCargoRotation - (dt*(cy - ay(1))*(cz - \
az(4))*((xiAnchor*ay(4))/dt - FmTangentialy(4)))/xiCargoRotation + \
(dt*(Power(cx,2)*xiAnchor + Power(cy,2)*xiAnchor - xiCargoRotation - \
2*cx*xiAnchor*ax(1) + xiAnchor*Power(ax(1),2) - 2*cy*xiAnchor*ay(1) + \
xiAnchor*Power(ay(1),2))*((xiAnchor*az(1))/dt - \
FmTangentialz(1)))/(xiAnchor*xiCargoRotation) + (dt*(Power(cx,2) + \
Power(cy,2) + ax(1)*ax(2) - cx*(ax(1) + ax(2)) + ay(1)*ay(2) - cy*(ay(1) + \
ay(2)))*((xiAnchor*az(2))/dt - FmTangentialz(2)))/xiCargoRotation + \
(dt*(Power(cx,2) + Power(cy,2) + ax(1)*ax(3) - cx*(ax(1) + ax(3)) + \
ay(1)*ay(3) - cy*(ay(1) + ay(3)))*((xiAnchor*az(3))/dt - \
FmTangentialz(3)))/xiCargoRotation + (dt*(Power(cx,2) + Power(cy,2) + \
ax(1)*ax(4) - cx*(ax(1) + ax(4)) + ay(1)*ay(4) - cy*(ay(1) + \
ay(4)))*((xiAnchor*az(4))/dt - FmTangentialz(4)))/xiCargoRotation;

ax1(2) == (xiAnchor*(cy - ay(2))*(-(cy*(ax(1) + ax(2) + ax(3) + ax(4))) + \
cx*(ay(1) + ay(2) + ay(3) + ay(4))))/xiCargoRotation + (xiAnchor*(-cz + \
az(2))*(cz*(ax(1) + ax(2) + ax(3) + ax(4)) - cx*(az(1) + az(2) + az(3) + \
az(4))))/xiCargoRotation + (dt*(Power(cy,2) + Power(cz,2) + ay(1)*ay(2) - \
cy*(ay(1) + ay(2)) + az(1)*az(2) - cz*(az(1) + az(2)))*((xiAnchor*ax(1))/dt - \
FmTangentialx(1)))/xiCargoRotation + (dt*(Power(cy,2)*xiAnchor + \
Power(cz,2)*xiAnchor - xiCargoRotation - 2*cy*xiAnchor*ay(2) + \
xiAnchor*Power(ay(2),2) - 2*cz*xiAnchor*az(2) + \
xiAnchor*Power(az(2),2))*((xiAnchor*ax(2))/dt - \
FmTangentialx(2)))/(xiAnchor*xiCargoRotation) + (dt*(Power(cy,2) + \
Power(cz,2) + ay(2)*ay(3) - cy*(ay(2) + ay(3)) + az(2)*az(3) - cz*(az(2) + \
az(3)))*((xiAnchor*ax(3))/dt - FmTangentialx(3)))/xiCargoRotation + \
(dt*(Power(cy,2) + Power(cz,2) + ay(2)*ay(4) - cy*(ay(2) + ay(4)) + \
az(2)*az(4) - cz*(az(2) + az(4)))*((xiAnchor*ax(4))/dt - \
FmTangentialx(4)))/xiCargoRotation - (dt*(cx - ax(1))*(cy - \
ay(2))*((xiAnchor*ay(1))/dt - FmTangentialy(1)))/xiCargoRotation - (dt*(cx - \
ax(2))*(cy - ay(2))*((xiAnchor*ay(2))/dt - FmTangentialy(2)))/xiCargoRotation \
- (dt*(cx - ax(3))*(cy - ay(2))*((xiAnchor*ay(3))/dt - \
FmTangentialy(3)))/xiCargoRotation - (dt*(cx - ax(4))*(cy - \
ay(2))*((xiAnchor*ay(4))/dt - FmTangentialy(4)))/xiCargoRotation - (dt*(cx - \
ax(1))*(cz - az(2))*((xiAnchor*az(1))/dt - FmTangentialz(1)))/xiCargoRotation \
- (dt*(cx - ax(2))*(cz - az(2))*((xiAnchor*az(2))/dt - \
FmTangentialz(2)))/xiCargoRotation - (dt*(cx - ax(3))*(cz - \
az(2))*((xiAnchor*az(3))/dt - FmTangentialz(3)))/xiCargoRotation - (dt*(cx - \
ax(4))*(cz - az(2))*((xiAnchor*az(4))/dt - FmTangentialz(4)))/xiCargoRotation;

ay1(2) == (xiAnchor*(-cx + ax(2))*(-(cy*(ax(1) + ax(2) + ax(3) + ax(4))) + \
cx*(ay(1) + ay(2) + ay(3) + ay(4))))/xiCargoRotation + (xiAnchor*(cz - \
az(2))*(-(cz*(ay(1) + ay(2) + ay(3) + ay(4))) + cy*(az(1) + az(2) + az(3) + \
az(4))))/xiCargoRotation - (dt*(cx - ax(2))*(cy - ay(1))*((xiAnchor*ax(1))/dt \
- FmTangentialx(1)))/xiCargoRotation - (dt*(cx - ax(2))*(cy - \
ay(2))*((xiAnchor*ax(2))/dt - FmTangentialx(2)))/xiCargoRotation - (dt*(cx - \
ax(2))*(cy - ay(3))*((xiAnchor*ax(3))/dt - FmTangentialx(3)))/xiCargoRotation \
- (dt*(cx - ax(2))*(cy - ay(4))*((xiAnchor*ax(4))/dt - \
FmTangentialx(4)))/xiCargoRotation + (dt*(Power(cx,2) + Power(cz,2) + \
ax(1)*ax(2) - cx*(ax(1) + ax(2)) + az(1)*az(2) - cz*(az(1) + \
az(2)))*((xiAnchor*ay(1))/dt - FmTangentialy(1)))/xiCargoRotation + \
(dt*(Power(cx,2)*xiAnchor + Power(cz,2)*xiAnchor - xiCargoRotation - \
2*cx*xiAnchor*ax(2) + xiAnchor*Power(ax(2),2) - 2*cz*xiAnchor*az(2) + \
xiAnchor*Power(az(2),2))*((xiAnchor*ay(2))/dt - \
FmTangentialy(2)))/(xiAnchor*xiCargoRotation) + (dt*(Power(cx,2) + \
Power(cz,2) + ax(2)*ax(3) - cx*(ax(2) + ax(3)) + az(2)*az(3) - cz*(az(2) + \
az(3)))*((xiAnchor*ay(3))/dt - FmTangentialy(3)))/xiCargoRotation + \
(dt*(Power(cx,2) + Power(cz,2) + ax(2)*ax(4) - cx*(ax(2) + ax(4)) + \
az(2)*az(4) - cz*(az(2) + az(4)))*((xiAnchor*ay(4))/dt - \
FmTangentialy(4)))/xiCargoRotation - (dt*(cy - ay(1))*(cz - \
az(2))*((xiAnchor*az(1))/dt - FmTangentialz(1)))/xiCargoRotation - (dt*(cy - \
ay(2))*(cz - az(2))*((xiAnchor*az(2))/dt - FmTangentialz(2)))/xiCargoRotation \
- (dt*(cy - ay(3))*(cz - az(2))*((xiAnchor*az(3))/dt - \
FmTangentialz(3)))/xiCargoRotation - (dt*(cy - ay(4))*(cz - \
az(2))*((xiAnchor*az(4))/dt - FmTangentialz(4)))/xiCargoRotation;

az1(2) == (xiAnchor*(cx - ax(2))*(cz*(ax(1) + ax(2) + ax(3) + ax(4)) - \
cx*(az(1) + az(2) + az(3) + az(4))))/xiCargoRotation + (xiAnchor*(-cy + \
ay(2))*(-(cz*(ay(1) + ay(2) + ay(3) + ay(4))) + cy*(az(1) + az(2) + az(3) + \
az(4))))/xiCargoRotation - (dt*(cx - ax(2))*(cz - az(1))*((xiAnchor*ax(1))/dt \
- FmTangentialx(1)))/xiCargoRotation - (dt*(cx - ax(2))*(cz - \
az(2))*((xiAnchor*ax(2))/dt - FmTangentialx(2)))/xiCargoRotation - (dt*(cx - \
ax(2))*(cz - az(3))*((xiAnchor*ax(3))/dt - FmTangentialx(3)))/xiCargoRotation \
- (dt*(cx - ax(2))*(cz - az(4))*((xiAnchor*ax(4))/dt - \
FmTangentialx(4)))/xiCargoRotation - (dt*(cy - ay(2))*(cz - \
az(1))*((xiAnchor*ay(1))/dt - FmTangentialy(1)))/xiCargoRotation - (dt*(cy - \
ay(2))*(cz - az(2))*((xiAnchor*ay(2))/dt - FmTangentialy(2)))/xiCargoRotation \
- (dt*(cy - ay(2))*(cz - az(3))*((xiAnchor*ay(3))/dt - \
FmTangentialy(3)))/xiCargoRotation - (dt*(cy - ay(2))*(cz - \
az(4))*((xiAnchor*ay(4))/dt - FmTangentialy(4)))/xiCargoRotation + \
(dt*(Power(cx,2) + Power(cy,2) + ax(1)*ax(2) - cx*(ax(1) + ax(2)) + \
ay(1)*ay(2) - cy*(ay(1) + ay(2)))*((xiAnchor*az(1))/dt - \
FmTangentialz(1)))/xiCargoRotation + (dt*(Power(cx,2)*xiAnchor + \
Power(cy,2)*xiAnchor - xiCargoRotation - 2*cx*xiAnchor*ax(2) + \
xiAnchor*Power(ax(2),2) - 2*cy*xiAnchor*ay(2) + \
xiAnchor*Power(ay(2),2))*((xiAnchor*az(2))/dt - \
FmTangentialz(2)))/(xiAnchor*xiCargoRotation) + (dt*(Power(cx,2) + \
Power(cy,2) + ax(2)*ax(3) - cx*(ax(2) + ax(3)) + ay(2)*ay(3) - cy*(ay(2) + \
ay(3)))*((xiAnchor*az(3))/dt - FmTangentialz(3)))/xiCargoRotation + \
(dt*(Power(cx,2) + Power(cy,2) + ax(2)*ax(4) - cx*(ax(2) + ax(4)) + \
ay(2)*ay(4) - cy*(ay(2) + ay(4)))*((xiAnchor*az(4))/dt - \
FmTangentialz(4)))/xiCargoRotation;

ax1(3) == (xiAnchor*(cy - ay(3))*(-(cy*(ax(1) + ax(2) + ax(3) + ax(4))) + \
cx*(ay(1) + ay(2) + ay(3) + ay(4))))/xiCargoRotation + (xiAnchor*(-cz + \
az(3))*(cz*(ax(1) + ax(2) + ax(3) + ax(4)) - cx*(az(1) + az(2) + az(3) + \
az(4))))/xiCargoRotation + (dt*(Power(cy,2) + Power(cz,2) + ay(1)*ay(3) - \
cy*(ay(1) + ay(3)) + az(1)*az(3) - cz*(az(1) + az(3)))*((xiAnchor*ax(1))/dt - \
FmTangentialx(1)))/xiCargoRotation + (dt*(Power(cy,2) + Power(cz,2) + \
ay(2)*ay(3) - cy*(ay(2) + ay(3)) + az(2)*az(3) - cz*(az(2) + \
az(3)))*((xiAnchor*ax(2))/dt - FmTangentialx(2)))/xiCargoRotation + \
(dt*(Power(cy,2)*xiAnchor + Power(cz,2)*xiAnchor - xiCargoRotation - \
2*cy*xiAnchor*ay(3) + xiAnchor*Power(ay(3),2) - 2*cz*xiAnchor*az(3) + \
xiAnchor*Power(az(3),2))*((xiAnchor*ax(3))/dt - \
FmTangentialx(3)))/(xiAnchor*xiCargoRotation) + (dt*(Power(cy,2) + \
Power(cz,2) + ay(3)*ay(4) - cy*(ay(3) + ay(4)) + az(3)*az(4) - cz*(az(3) + \
az(4)))*((xiAnchor*ax(4))/dt - FmTangentialx(4)))/xiCargoRotation - (dt*(cx - \
ax(1))*(cy - ay(3))*((xiAnchor*ay(1))/dt - FmTangentialy(1)))/xiCargoRotation \
- (dt*(cx - ax(2))*(cy - ay(3))*((xiAnchor*ay(2))/dt - \
FmTangentialy(2)))/xiCargoRotation - (dt*(cx - ax(3))*(cy - \
ay(3))*((xiAnchor*ay(3))/dt - FmTangentialy(3)))/xiCargoRotation - (dt*(cx - \
ax(4))*(cy - ay(3))*((xiAnchor*ay(4))/dt - FmTangentialy(4)))/xiCargoRotation \
- (dt*(cx - ax(1))*(cz - az(3))*((xiAnchor*az(1))/dt - \
FmTangentialz(1)))/xiCargoRotation - (dt*(cx - ax(2))*(cz - \
az(3))*((xiAnchor*az(2))/dt - FmTangentialz(2)))/xiCargoRotation - (dt*(cx - \
ax(3))*(cz - az(3))*((xiAnchor*az(3))/dt - FmTangentialz(3)))/xiCargoRotation \
- (dt*(cx - ax(4))*(cz - az(3))*((xiAnchor*az(4))/dt - \
FmTangentialz(4)))/xiCargoRotation;

ay1(3) == (xiAnchor*(-cx + ax(3))*(-(cy*(ax(1) + ax(2) + ax(3) + ax(4))) + \
cx*(ay(1) + ay(2) + ay(3) + ay(4))))/xiCargoRotation + (xiAnchor*(cz - \
az(3))*(-(cz*(ay(1) + ay(2) + ay(3) + ay(4))) + cy*(az(1) + az(2) + az(3) + \
az(4))))/xiCargoRotation - (dt*(cx - ax(3))*(cy - ay(1))*((xiAnchor*ax(1))/dt \
- FmTangentialx(1)))/xiCargoRotation - (dt*(cx - ax(3))*(cy - \
ay(2))*((xiAnchor*ax(2))/dt - FmTangentialx(2)))/xiCargoRotation - (dt*(cx - \
ax(3))*(cy - ay(3))*((xiAnchor*ax(3))/dt - FmTangentialx(3)))/xiCargoRotation \
- (dt*(cx - ax(3))*(cy - ay(4))*((xiAnchor*ax(4))/dt - \
FmTangentialx(4)))/xiCargoRotation + (dt*(Power(cx,2) + Power(cz,2) + \
ax(1)*ax(3) - cx*(ax(1) + ax(3)) + az(1)*az(3) - cz*(az(1) + \
az(3)))*((xiAnchor*ay(1))/dt - FmTangentialy(1)))/xiCargoRotation + \
(dt*(Power(cx,2) + Power(cz,2) + ax(2)*ax(3) - cx*(ax(2) + ax(3)) + \
az(2)*az(3) - cz*(az(2) + az(3)))*((xiAnchor*ay(2))/dt - \
FmTangentialy(2)))/xiCargoRotation + (dt*(Power(cx,2)*xiAnchor + \
Power(cz,2)*xiAnchor - xiCargoRotation - 2*cx*xiAnchor*ax(3) + \
xiAnchor*Power(ax(3),2) - 2*cz*xiAnchor*az(3) + \
xiAnchor*Power(az(3),2))*((xiAnchor*ay(3))/dt - \
FmTangentialy(3)))/(xiAnchor*xiCargoRotation) + (dt*(Power(cx,2) + \
Power(cz,2) + ax(3)*ax(4) - cx*(ax(3) + ax(4)) + az(3)*az(4) - cz*(az(3) + \
az(4)))*((xiAnchor*ay(4))/dt - FmTangentialy(4)))/xiCargoRotation - (dt*(cy - \
ay(1))*(cz - az(3))*((xiAnchor*az(1))/dt - FmTangentialz(1)))/xiCargoRotation \
- (dt*(cy - ay(2))*(cz - az(3))*((xiAnchor*az(2))/dt - \
FmTangentialz(2)))/xiCargoRotation - (dt*(cy - ay(3))*(cz - \
az(3))*((xiAnchor*az(3))/dt - FmTangentialz(3)))/xiCargoRotation - (dt*(cy - \
ay(4))*(cz - az(3))*((xiAnchor*az(4))/dt - FmTangentialz(4)))/xiCargoRotation;

az1(3) == (xiAnchor*(cx - ax(3))*(cz*(ax(1) + ax(2) + ax(3) + ax(4)) - \
cx*(az(1) + az(2) + az(3) + az(4))))/xiCargoRotation + (xiAnchor*(-cy + \
ay(3))*(-(cz*(ay(1) + ay(2) + ay(3) + ay(4))) + cy*(az(1) + az(2) + az(3) + \
az(4))))/xiCargoRotation - (dt*(cx - ax(3))*(cz - az(1))*((xiAnchor*ax(1))/dt \
- FmTangentialx(1)))/xiCargoRotation - (dt*(cx - ax(3))*(cz - \
az(2))*((xiAnchor*ax(2))/dt - FmTangentialx(2)))/xiCargoRotation - (dt*(cx - \
ax(3))*(cz - az(3))*((xiAnchor*ax(3))/dt - FmTangentialx(3)))/xiCargoRotation \
- (dt*(cx - ax(3))*(cz - az(4))*((xiAnchor*ax(4))/dt - \
FmTangentialx(4)))/xiCargoRotation - (dt*(cy - ay(3))*(cz - \
az(1))*((xiAnchor*ay(1))/dt - FmTangentialy(1)))/xiCargoRotation - (dt*(cy - \
ay(3))*(cz - az(2))*((xiAnchor*ay(2))/dt - FmTangentialy(2)))/xiCargoRotation \
- (dt*(cy - ay(3))*(cz - az(3))*((xiAnchor*ay(3))/dt - \
FmTangentialy(3)))/xiCargoRotation - (dt*(cy - ay(3))*(cz - \
az(4))*((xiAnchor*ay(4))/dt - FmTangentialy(4)))/xiCargoRotation + \
(dt*(Power(cx,2) + Power(cy,2) + ax(1)*ax(3) - cx*(ax(1) + ax(3)) + \
ay(1)*ay(3) - cy*(ay(1) + ay(3)))*((xiAnchor*az(1))/dt - \
FmTangentialz(1)))/xiCargoRotation + (dt*(Power(cx,2) + Power(cy,2) + \
ax(2)*ax(3) - cx*(ax(2) + ax(3)) + ay(2)*ay(3) - cy*(ay(2) + \
ay(3)))*((xiAnchor*az(2))/dt - FmTangentialz(2)))/xiCargoRotation + \
(dt*(Power(cx,2)*xiAnchor + Power(cy,2)*xiAnchor - xiCargoRotation - \
2*cx*xiAnchor*ax(3) + xiAnchor*Power(ax(3),2) - 2*cy*xiAnchor*ay(3) + \
xiAnchor*Power(ay(3),2))*((xiAnchor*az(3))/dt - \
FmTangentialz(3)))/(xiAnchor*xiCargoRotation) + (dt*(Power(cx,2) + \
Power(cy,2) + ax(3)*ax(4) - cx*(ax(3) + ax(4)) + ay(3)*ay(4) - cy*(ay(3) + \
ay(4)))*((xiAnchor*az(4))/dt - FmTangentialz(4)))/xiCargoRotation;

ax1(4) == (xiAnchor*(cy - ay(4))*(-(cy*(ax(1) + ax(2) + ax(3) + ax(4))) + \
cx*(ay(1) + ay(2) + ay(3) + ay(4))))/xiCargoRotation + (xiAnchor*(-cz + \
az(4))*(cz*(ax(1) + ax(2) + ax(3) + ax(4)) - cx*(az(1) + az(2) + az(3) + \
az(4))))/xiCargoRotation + (dt*(Power(cy,2) + Power(cz,2) + ay(1)*ay(4) - \
cy*(ay(1) + ay(4)) + az(1)*az(4) - cz*(az(1) + az(4)))*((xiAnchor*ax(1))/dt - \
FmTangentialx(1)))/xiCargoRotation + (dt*(Power(cy,2) + Power(cz,2) + \
ay(2)*ay(4) - cy*(ay(2) + ay(4)) + az(2)*az(4) - cz*(az(2) + \
az(4)))*((xiAnchor*ax(2))/dt - FmTangentialx(2)))/xiCargoRotation + \
(dt*(Power(cy,2) + Power(cz,2) + ay(3)*ay(4) - cy*(ay(3) + ay(4)) + \
az(3)*az(4) - cz*(az(3) + az(4)))*((xiAnchor*ax(3))/dt - \
FmTangentialx(3)))/xiCargoRotation + (dt*(Power(cy,2)*xiAnchor + \
Power(cz,2)*xiAnchor - xiCargoRotation - 2*cy*xiAnchor*ay(4) + \
xiAnchor*Power(ay(4),2) - 2*cz*xiAnchor*az(4) + \
xiAnchor*Power(az(4),2))*((xiAnchor*ax(4))/dt - \
FmTangentialx(4)))/(xiAnchor*xiCargoRotation) - (dt*(cx - ax(1))*(cy - \
ay(4))*((xiAnchor*ay(1))/dt - FmTangentialy(1)))/xiCargoRotation - (dt*(cx - \
ax(2))*(cy - ay(4))*((xiAnchor*ay(2))/dt - FmTangentialy(2)))/xiCargoRotation \
- (dt*(cx - ax(3))*(cy - ay(4))*((xiAnchor*ay(3))/dt - \
FmTangentialy(3)))/xiCargoRotation - (dt*(cx - ax(4))*(cy - \
ay(4))*((xiAnchor*ay(4))/dt - FmTangentialy(4)))/xiCargoRotation - (dt*(cx - \
ax(1))*(cz - az(4))*((xiAnchor*az(1))/dt - FmTangentialz(1)))/xiCargoRotation \
- (dt*(cx - ax(2))*(cz - az(4))*((xiAnchor*az(2))/dt - \
FmTangentialz(2)))/xiCargoRotation - (dt*(cx - ax(3))*(cz - \
az(4))*((xiAnchor*az(3))/dt - FmTangentialz(3)))/xiCargoRotation - (dt*(cx - \
ax(4))*(cz - az(4))*((xiAnchor*az(4))/dt - FmTangentialz(4)))/xiCargoRotation;

ay1(4) == (xiAnchor*(-cx + ax(4))*(-(cy*(ax(1) + ax(2) + ax(3) + ax(4))) + \
cx*(ay(1) + ay(2) + ay(3) + ay(4))))/xiCargoRotation + (xiAnchor*(cz - \
az(4))*(-(cz*(ay(1) + ay(2) + ay(3) + ay(4))) + cy*(az(1) + az(2) + az(3) + \
az(4))))/xiCargoRotation - (dt*(cx - ax(4))*(cy - ay(1))*((xiAnchor*ax(1))/dt \
- FmTangentialx(1)))/xiCargoRotation - (dt*(cx - ax(4))*(cy - \
ay(2))*((xiAnchor*ax(2))/dt - FmTangentialx(2)))/xiCargoRotation - (dt*(cx - \
ax(4))*(cy - ay(3))*((xiAnchor*ax(3))/dt - FmTangentialx(3)))/xiCargoRotation \
- (dt*(cx - ax(4))*(cy - ay(4))*((xiAnchor*ax(4))/dt - \
FmTangentialx(4)))/xiCargoRotation + (dt*(Power(cx,2) + Power(cz,2) + \
ax(1)*ax(4) - cx*(ax(1) + ax(4)) + az(1)*az(4) - cz*(az(1) + \
az(4)))*((xiAnchor*ay(1))/dt - FmTangentialy(1)))/xiCargoRotation + \
(dt*(Power(cx,2) + Power(cz,2) + ax(2)*ax(4) - cx*(ax(2) + ax(4)) + \
az(2)*az(4) - cz*(az(2) + az(4)))*((xiAnchor*ay(2))/dt - \
FmTangentialy(2)))/xiCargoRotation + (dt*(Power(cx,2) + Power(cz,2) + \
ax(3)*ax(4) - cx*(ax(3) + ax(4)) + az(3)*az(4) - cz*(az(3) + \
az(4)))*((xiAnchor*ay(3))/dt - FmTangentialy(3)))/xiCargoRotation + \
(dt*(Power(cx,2)*xiAnchor + Power(cz,2)*xiAnchor - xiCargoRotation - \
2*cx*xiAnchor*ax(4) + xiAnchor*Power(ax(4),2) - 2*cz*xiAnchor*az(4) + \
xiAnchor*Power(az(4),2))*((xiAnchor*ay(4))/dt - \
FmTangentialy(4)))/(xiAnchor*xiCargoRotation) - (dt*(cy - ay(1))*(cz - \
az(4))*((xiAnchor*az(1))/dt - FmTangentialz(1)))/xiCargoRotation - (dt*(cy - \
ay(2))*(cz - az(4))*((xiAnchor*az(2))/dt - FmTangentialz(2)))/xiCargoRotation \
- (dt*(cy - ay(3))*(cz - az(4))*((xiAnchor*az(3))/dt - \
FmTangentialz(3)))/xiCargoRotation - (dt*(cy - ay(4))*(cz - \
az(4))*((xiAnchor*az(4))/dt - FmTangentialz(4)))/xiCargoRotation;

az1(4) == (xiAnchor*(cx - ax(4))*(cz*(ax(1) + ax(2) + ax(3) + ax(4)) - \
cx*(az(1) + az(2) + az(3) + az(4))))/xiCargoRotation + (xiAnchor*(-cy + \
ay(4))*(-(cz*(ay(1) + ay(2) + ay(3) + ay(4))) + cy*(az(1) + az(2) + az(3) + \
az(4))))/xiCargoRotation - (dt*(cx - ax(4))*(cz - az(1))*((xiAnchor*ax(1))/dt \
- FmTangentialx(1)))/xiCargoRotation - (dt*(cx - ax(4))*(cz - \
az(2))*((xiAnchor*ax(2))/dt - FmTangentialx(2)))/xiCargoRotation - (dt*(cx - \
ax(4))*(cz - az(3))*((xiAnchor*ax(3))/dt - FmTangentialx(3)))/xiCargoRotation \
- (dt*(cx - ax(4))*(cz - az(4))*((xiAnchor*ax(4))/dt - \
FmTangentialx(4)))/xiCargoRotation - (dt*(cy - ay(4))*(cz - \
az(1))*((xiAnchor*ay(1))/dt - FmTangentialy(1)))/xiCargoRotation - (dt*(cy - \
ay(4))*(cz - az(2))*((xiAnchor*ay(2))/dt - FmTangentialy(2)))/xiCargoRotation \
- (dt*(cy - ay(4))*(cz - az(3))*((xiAnchor*ay(3))/dt - \
FmTangentialy(3)))/xiCargoRotation - (dt*(cy - ay(4))*(cz - \
az(4))*((xiAnchor*ay(4))/dt - FmTangentialy(4)))/xiCargoRotation + \
(dt*(Power(cx,2) + Power(cy,2) + ax(1)*ax(4) - cx*(ax(1) + ax(4)) + \
ay(1)*ay(4) - cy*(ay(1) + ay(4)))*((xiAnchor*az(1))/dt - \
FmTangentialz(1)))/xiCargoRotation + (dt*(Power(cx,2) + Power(cy,2) + \
ax(2)*ax(4) - cx*(ax(2) + ax(4)) + ay(2)*ay(4) - cy*(ay(2) + \
ay(4)))*((xiAnchor*az(2))/dt - FmTangentialz(2)))/xiCargoRotation + \
(dt*(Power(cx,2) + Power(cy,2) + ax(3)*ax(4) - cx*(ax(3) + ax(4)) + \
ay(3)*ay(4) - cy*(ay(3) + ay(4)))*((xiAnchor*az(3))/dt - \
FmTangentialz(3)))/xiCargoRotation + (dt*(Power(cx,2)*xiAnchor + \
Power(cy,2)*xiAnchor - xiCargoRotation - 2*cx*xiAnchor*ax(4) + \
xiAnchor*Power(ax(4),2) - 2*cy*xiAnchor*ay(4) + \
xiAnchor*Power(ay(4),2))*((xiAnchor*az(4))/dt - \
FmTangentialz(4)))/(xiAnchor*xiCargoRotation);

cx1 == (2*Power(xiAnchor,2)*(-4*cy + ay(1) + ay(2) + ay(3) + \
ay(4))*(-(cy*(ax(1) + ax(2) + ax(3) + ax(4))) + cx*(ay(1) + ay(2) + ay(3) + \
ay(4))))/(xiCargoRotation*xiCargoTranslation) + (2*Power(xiAnchor,2)*(4*cz - \
az(1) - az(2) - az(3) - az(4))*(cz*(ax(1) + ax(2) + ax(3) + ax(4)) - \
cx*(az(1) + az(2) + az(3) + az(4))))/(xiCargoRotation*xiCargoTranslation) - \
(cx*xiCargoTranslation + xiAnchor*(ax(1) + ax(2) + ax(3) + ax(4)) - \
dt*(fStericx + fTrapx + FmRx(1) + FmRx(2) + FmRx(3) + \
FmRx(4)))/xiCargoTranslation + (dt*(-8*Power(cy,2)*xiAnchor - \
8*Power(cz,2)*xiAnchor + xiCargoRotation - 2*xiAnchor*Power(ay(1),2) - \
2*xiAnchor*ay(1)*ay(2) - 2*xiAnchor*ay(1)*ay(3) - 2*xiAnchor*ay(1)*ay(4) + \
2*cy*xiAnchor*(5*ay(1) + ay(2) + ay(3) + ay(4)) - 2*xiAnchor*Power(az(1),2) - \
2*xiAnchor*az(1)*az(2) - 2*xiAnchor*az(1)*az(3) - 2*xiAnchor*az(1)*az(4) + \
2*cz*xiAnchor*(5*az(1) + az(2) + az(3) + az(4)))*((xiAnchor*ax(1))/dt - \
FmTangentialx(1)))/(xiCargoRotation*xiCargoTranslation) + \
(dt*(-8*Power(cy,2)*xiAnchor - 8*Power(cz,2)*xiAnchor + xiCargoRotation - \
2*xiAnchor*ay(1)*ay(2) - 2*xiAnchor*Power(ay(2),2) - 2*xiAnchor*ay(2)*ay(3) - \
2*xiAnchor*ay(2)*ay(4) + 2*cy*xiAnchor*(ay(1) + 5*ay(2) + ay(3) + ay(4)) - \
2*xiAnchor*az(1)*az(2) - 2*xiAnchor*Power(az(2),2) - 2*xiAnchor*az(2)*az(3) - \
2*xiAnchor*az(2)*az(4) + 2*cz*xiAnchor*(az(1) + 5*az(2) + az(3) + \
az(4)))*((xiAnchor*ax(2))/dt - \
FmTangentialx(2)))/(xiCargoRotation*xiCargoTranslation) + \
(dt*(-8*Power(cy,2)*xiAnchor - 8*Power(cz,2)*xiAnchor + xiCargoRotation - \
2*xiAnchor*ay(1)*ay(3) - 2*xiAnchor*ay(2)*ay(3) - 2*xiAnchor*Power(ay(3),2) - \
2*xiAnchor*ay(3)*ay(4) + 2*cy*xiAnchor*(ay(1) + ay(2) + 5*ay(3) + ay(4)) - \
2*xiAnchor*az(1)*az(3) - 2*xiAnchor*az(2)*az(3) - 2*xiAnchor*Power(az(3),2) - \
2*xiAnchor*az(3)*az(4) + 2*cz*xiAnchor*(az(1) + az(2) + 5*az(3) + \
az(4)))*((xiAnchor*ax(3))/dt - \
FmTangentialx(3)))/(xiCargoRotation*xiCargoTranslation) + \
(dt*(-8*Power(cy,2)*xiAnchor - 8*Power(cz,2)*xiAnchor + xiCargoRotation - \
2*xiAnchor*ay(1)*ay(4) - 2*xiAnchor*ay(2)*ay(4) - 2*xiAnchor*ay(3)*ay(4) - \
2*xiAnchor*Power(ay(4),2) + 2*cy*xiAnchor*(ay(1) + ay(2) + ay(3) + 5*ay(4)) - \
2*xiAnchor*az(1)*az(4) - 2*xiAnchor*az(2)*az(4) - 2*xiAnchor*az(3)*az(4) - \
2*xiAnchor*Power(az(4),2) + 2*cz*xiAnchor*(az(1) + az(2) + az(3) + \
5*az(4)))*((xiAnchor*ax(4))/dt - \
FmTangentialx(4)))/(xiCargoRotation*xiCargoTranslation) + (2*dt*xiAnchor*(cx \
- ax(1))*(4*cy - ay(1) - ay(2) - ay(3) - ay(4))*((xiAnchor*ay(1))/dt - \
FmTangentialy(1)))/(xiCargoRotation*xiCargoTranslation) + (2*dt*xiAnchor*(cx \
- ax(2))*(4*cy - ay(1) - ay(2) - ay(3) - ay(4))*((xiAnchor*ay(2))/dt - \
FmTangentialy(2)))/(xiCargoRotation*xiCargoTranslation) + (2*dt*xiAnchor*(cx \
- ax(3))*(4*cy - ay(1) - ay(2) - ay(3) - ay(4))*((xiAnchor*ay(3))/dt - \
FmTangentialy(3)))/(xiCargoRotation*xiCargoTranslation) + (2*dt*xiAnchor*(cx \
- ax(4))*(4*cy - ay(1) - ay(2) - ay(3) - ay(4))*((xiAnchor*ay(4))/dt - \
FmTangentialy(4)))/(xiCargoRotation*xiCargoTranslation) + (2*dt*xiAnchor*(cx \
- ax(1))*(4*cz - az(1) - az(2) - az(3) - az(4))*((xiAnchor*az(1))/dt - \
FmTangentialz(1)))/(xiCargoRotation*xiCargoTranslation) + (2*dt*xiAnchor*(cx \
- ax(2))*(4*cz - az(1) - az(2) - az(3) - az(4))*((xiAnchor*az(2))/dt - \
FmTangentialz(2)))/(xiCargoRotation*xiCargoTranslation) + (2*dt*xiAnchor*(cx \
- ax(3))*(4*cz - az(1) - az(2) - az(3) - az(4))*((xiAnchor*az(3))/dt - \
FmTangentialz(3)))/(xiCargoRotation*xiCargoTranslation) + (2*dt*xiAnchor*(cx \
- ax(4))*(4*cz - az(1) - az(2) - az(3) - az(4))*((xiAnchor*az(4))/dt - \
FmTangentialz(4)))/(xiCargoRotation*xiCargoTranslation);

cy1 == (2*Power(xiAnchor,2)*(4*cx - ax(1) - ax(2) - ax(3) - \
ax(4))*(-(cy*(ax(1) + ax(2) + ax(3) + ax(4))) + cx*(ay(1) + ay(2) + ay(3) + \
ay(4))))/(xiCargoRotation*xiCargoTranslation) + (2*Power(xiAnchor,2)*(-4*cz + \
az(1) + az(2) + az(3) + az(4))*(-(cz*(ay(1) + ay(2) + ay(3) + ay(4))) + \
cy*(az(1) + az(2) + az(3) + az(4))))/(xiCargoRotation*xiCargoTranslation) - \
(cy*xiCargoTranslation + xiAnchor*(ay(1) + ay(2) + ay(3) + ay(4)) - \
dt*(fStericy + fTrapy + FmRy(1) + FmRy(2) + FmRy(3) + \
FmRy(4)))/xiCargoTranslation + (2*dt*xiAnchor*(4*cx - ax(1) - ax(2) - ax(3) - \
ax(4))*(cy - ay(1))*((xiAnchor*ax(1))/dt - \
FmTangentialx(1)))/(xiCargoRotation*xiCargoTranslation) + \
(2*dt*xiAnchor*(4*cx - ax(1) - ax(2) - ax(3) - ax(4))*(cy - \
ay(2))*((xiAnchor*ax(2))/dt - \
FmTangentialx(2)))/(xiCargoRotation*xiCargoTranslation) + \
(2*dt*xiAnchor*(4*cx - ax(1) - ax(2) - ax(3) - ax(4))*(cy - \
ay(3))*((xiAnchor*ax(3))/dt - \
FmTangentialx(3)))/(xiCargoRotation*xiCargoTranslation) + \
(2*dt*xiAnchor*(4*cx - ax(1) - ax(2) - ax(3) - ax(4))*(cy - \
ay(4))*((xiAnchor*ax(4))/dt - \
FmTangentialx(4)))/(xiCargoRotation*xiCargoTranslation) + \
(dt*(-8*Power(cx,2)*xiAnchor - 8*Power(cz,2)*xiAnchor + xiCargoRotation - \
2*xiAnchor*Power(ax(1),2) - 2*xiAnchor*ax(1)*ax(2) - 2*xiAnchor*ax(1)*ax(3) - \
2*xiAnchor*ax(1)*ax(4) + 2*cx*xiAnchor*(5*ax(1) + ax(2) + ax(3) + ax(4)) - \
2*xiAnchor*Power(az(1),2) - 2*xiAnchor*az(1)*az(2) - 2*xiAnchor*az(1)*az(3) - \
2*xiAnchor*az(1)*az(4) + 2*cz*xiAnchor*(5*az(1) + az(2) + az(3) + \
az(4)))*((xiAnchor*ay(1))/dt - \
FmTangentialy(1)))/(xiCargoRotation*xiCargoTranslation) + \
(dt*(-8*Power(cx,2)*xiAnchor - 8*Power(cz,2)*xiAnchor + xiCargoRotation - \
2*xiAnchor*ax(1)*ax(2) - 2*xiAnchor*Power(ax(2),2) - 2*xiAnchor*ax(2)*ax(3) - \
2*xiAnchor*ax(2)*ax(4) + 2*cx*xiAnchor*(ax(1) + 5*ax(2) + ax(3) + ax(4)) - \
2*xiAnchor*az(1)*az(2) - 2*xiAnchor*Power(az(2),2) - 2*xiAnchor*az(2)*az(3) - \
2*xiAnchor*az(2)*az(4) + 2*cz*xiAnchor*(az(1) + 5*az(2) + az(3) + \
az(4)))*((xiAnchor*ay(2))/dt - \
FmTangentialy(2)))/(xiCargoRotation*xiCargoTranslation) + \
(dt*(-8*Power(cx,2)*xiAnchor - 8*Power(cz,2)*xiAnchor + xiCargoRotation - \
2*xiAnchor*ax(1)*ax(3) - 2*xiAnchor*ax(2)*ax(3) - 2*xiAnchor*Power(ax(3),2) - \
2*xiAnchor*ax(3)*ax(4) + 2*cx*xiAnchor*(ax(1) + ax(2) + 5*ax(3) + ax(4)) - \
2*xiAnchor*az(1)*az(3) - 2*xiAnchor*az(2)*az(3) - 2*xiAnchor*Power(az(3),2) - \
2*xiAnchor*az(3)*az(4) + 2*cz*xiAnchor*(az(1) + az(2) + 5*az(3) + \
az(4)))*((xiAnchor*ay(3))/dt - \
FmTangentialy(3)))/(xiCargoRotation*xiCargoTranslation) + \
(dt*(-8*Power(cx,2)*xiAnchor - 8*Power(cz,2)*xiAnchor + xiCargoRotation - \
2*xiAnchor*ax(1)*ax(4) - 2*xiAnchor*ax(2)*ax(4) - 2*xiAnchor*ax(3)*ax(4) - \
2*xiAnchor*Power(ax(4),2) + 2*cx*xiAnchor*(ax(1) + ax(2) + ax(3) + 5*ax(4)) - \
2*xiAnchor*az(1)*az(4) - 2*xiAnchor*az(2)*az(4) - 2*xiAnchor*az(3)*az(4) - \
2*xiAnchor*Power(az(4),2) + 2*cz*xiAnchor*(az(1) + az(2) + az(3) + \
5*az(4)))*((xiAnchor*ay(4))/dt - \
FmTangentialy(4)))/(xiCargoRotation*xiCargoTranslation) + (2*dt*xiAnchor*(cy \
- ay(1))*(4*cz - az(1) - az(2) - az(3) - az(4))*((xiAnchor*az(1))/dt - \
FmTangentialz(1)))/(xiCargoRotation*xiCargoTranslation) + (2*dt*xiAnchor*(cy \
- ay(2))*(4*cz - az(1) - az(2) - az(3) - az(4))*((xiAnchor*az(2))/dt - \
FmTangentialz(2)))/(xiCargoRotation*xiCargoTranslation) + (2*dt*xiAnchor*(cy \
- ay(3))*(4*cz - az(1) - az(2) - az(3) - az(4))*((xiAnchor*az(3))/dt - \
FmTangentialz(3)))/(xiCargoRotation*xiCargoTranslation) + (2*dt*xiAnchor*(cy \
- ay(4))*(4*cz - az(1) - az(2) - az(3) - az(4))*((xiAnchor*az(4))/dt - \
FmTangentialz(4)))/(xiCargoRotation*xiCargoTranslation);

cz1 == (2*Power(xiAnchor,2)*(-4*cx + ax(1) + ax(2) + ax(3) + \
ax(4))*(cz*(ax(1) + ax(2) + ax(3) + ax(4)) - cx*(az(1) + az(2) + az(3) + \
az(4))))/(xiCargoRotation*xiCargoTranslation) + (2*Power(xiAnchor,2)*(4*cy - \
ay(1) - ay(2) - ay(3) - ay(4))*(-(cz*(ay(1) + ay(2) + ay(3) + ay(4))) + \
cy*(az(1) + az(2) + az(3) + az(4))))/(xiCargoRotation*xiCargoTranslation) - \
(cz*xiCargoTranslation + xiAnchor*(az(1) + az(2) + az(3) + az(4)) - \
dt*(fStericz + fTrapz + FmRz(1) + FmRz(2) + FmRz(3) + \
FmRz(4)))/xiCargoTranslation + (2*dt*xiAnchor*(4*cx - ax(1) - ax(2) - ax(3) - \
ax(4))*(cz - az(1))*((xiAnchor*ax(1))/dt - \
FmTangentialx(1)))/(xiCargoRotation*xiCargoTranslation) + \
(2*dt*xiAnchor*(4*cx - ax(1) - ax(2) - ax(3) - ax(4))*(cz - \
az(2))*((xiAnchor*ax(2))/dt - \
FmTangentialx(2)))/(xiCargoRotation*xiCargoTranslation) + \
(2*dt*xiAnchor*(4*cx - ax(1) - ax(2) - ax(3) - ax(4))*(cz - \
az(3))*((xiAnchor*ax(3))/dt - \
FmTangentialx(3)))/(xiCargoRotation*xiCargoTranslation) + \
(2*dt*xiAnchor*(4*cx - ax(1) - ax(2) - ax(3) - ax(4))*(cz - \
az(4))*((xiAnchor*ax(4))/dt - \
FmTangentialx(4)))/(xiCargoRotation*xiCargoTranslation) + \
(2*dt*xiAnchor*(4*cy - ay(1) - ay(2) - ay(3) - ay(4))*(cz - \
az(1))*((xiAnchor*ay(1))/dt - \
FmTangentialy(1)))/(xiCargoRotation*xiCargoTranslation) + \
(2*dt*xiAnchor*(4*cy - ay(1) - ay(2) - ay(3) - ay(4))*(cz - \
az(2))*((xiAnchor*ay(2))/dt - \
FmTangentialy(2)))/(xiCargoRotation*xiCargoTranslation) + \
(2*dt*xiAnchor*(4*cy - ay(1) - ay(2) - ay(3) - ay(4))*(cz - \
az(3))*((xiAnchor*ay(3))/dt - \
FmTangentialy(3)))/(xiCargoRotation*xiCargoTranslation) + \
(2*dt*xiAnchor*(4*cy - ay(1) - ay(2) - ay(3) - ay(4))*(cz - \
az(4))*((xiAnchor*ay(4))/dt - \
FmTangentialy(4)))/(xiCargoRotation*xiCargoTranslation) + \
(dt*(xiCargoRotation - 2*xiAnchor*(cx - ax(1))*(4*cx - ax(1) - ax(2) - ax(3) \
- ax(4)) - 2*xiAnchor*(cy - ay(1))*(4*cy - ay(1) - ay(2) - ay(3) - \
ay(4)))*((xiAnchor*az(1))/dt - \
FmTangentialz(1)))/(xiCargoRotation*xiCargoTranslation) + \
(dt*(xiCargoRotation - 2*xiAnchor*(cx - ax(2))*(4*cx - ax(1) - ax(2) - ax(3) \
- ax(4)) - 2*xiAnchor*(cy - ay(2))*(4*cy - ay(1) - ay(2) - ay(3) - \
ay(4)))*((xiAnchor*az(2))/dt - \
FmTangentialz(2)))/(xiCargoRotation*xiCargoTranslation) + \
(dt*(xiCargoRotation - 2*xiAnchor*(cx - ax(3))*(4*cx - ax(1) - ax(2) - ax(3) \
- ax(4)) - 2*xiAnchor*(cy - ay(3))*(4*cy - ay(1) - ay(2) - ay(3) - \
ay(4)))*((xiAnchor*az(3))/dt - \
FmTangentialz(3)))/(xiCargoRotation*xiCargoTranslation) + \
(dt*(xiCargoRotation - 2*xiAnchor*(cx - ax(4))*(4*cx - ax(1) - ax(2) - ax(3) \
- ax(4)) - 2*xiAnchor*(cy - ay(4))*(4*cy - ay(1) - ay(2) - ay(3) - \
ay(4)))*((xiAnchor*az(4))/dt - \
FmTangentialz(4)))/(xiCargoRotation*xiCargoTranslation);

omegax == -((xiAnchor*(-(cz*(ay(1) + ay(2) + ay(3) + ay(4))) + cy*(az(1) + \
az(2) + az(3) + az(4))))/(dt*xiCargoRotation)) + ((-cz + \
az(1))*((xiAnchor*ay(1))/dt - FmTangentialy(1)))/xiCargoRotation + ((-cz + \
az(2))*((xiAnchor*ay(2))/dt - FmTangentialy(2)))/xiCargoRotation + ((-cz + \
az(3))*((xiAnchor*ay(3))/dt - FmTangentialy(3)))/xiCargoRotation + ((-cz + \
az(4))*((xiAnchor*ay(4))/dt - FmTangentialy(4)))/xiCargoRotation + ((cy - \
ay(1))*((xiAnchor*az(1))/dt - FmTangentialz(1)))/xiCargoRotation + ((cy - \
ay(2))*((xiAnchor*az(2))/dt - FmTangentialz(2)))/xiCargoRotation + ((cy - \
ay(3))*((xiAnchor*az(3))/dt - FmTangentialz(3)))/xiCargoRotation + ((cy - \
ay(4))*((xiAnchor*az(4))/dt - FmTangentialz(4)))/xiCargoRotation;

omegay == -((xiAnchor*(cz*(ax(1) + ax(2) + ax(3) + ax(4)) - cx*(az(1) + az(2) \
+ az(3) + az(4))))/(dt*xiCargoRotation)) + ((cz - az(1))*((xiAnchor*ax(1))/dt \
- FmTangentialx(1)))/xiCargoRotation + ((cz - az(2))*((xiAnchor*ax(2))/dt - \
FmTangentialx(2)))/xiCargoRotation + ((cz - az(3))*((xiAnchor*ax(3))/dt - \
FmTangentialx(3)))/xiCargoRotation + ((cz - az(4))*((xiAnchor*ax(4))/dt - \
FmTangentialx(4)))/xiCargoRotation + ((-cx + ax(1))*((xiAnchor*az(1))/dt - \
FmTangentialz(1)))/xiCargoRotation + ((-cx + ax(2))*((xiAnchor*az(2))/dt - \
FmTangentialz(2)))/xiCargoRotation + ((-cx + ax(3))*((xiAnchor*az(3))/dt - \
FmTangentialz(3)))/xiCargoRotation + ((-cx + ax(4))*((xiAnchor*az(4))/dt - \
FmTangentialz(4)))/xiCargoRotation;

omegaz == -((xiAnchor*(-(cy*(ax(1) + ax(2) + ax(3) + ax(4))) + cx*(ay(1) + \
ay(2) + ay(3) + ay(4))))/(dt*xiCargoRotation)) + ((-cy + \
ay(1))*((xiAnchor*ax(1))/dt - FmTangentialx(1)))/xiCargoRotation + ((-cy + \
ay(2))*((xiAnchor*ax(2))/dt - FmTangentialx(2)))/xiCargoRotation + ((-cy + \
ay(3))*((xiAnchor*ax(3))/dt - FmTangentialx(3)))/xiCargoRotation + ((-cy + \
ay(4))*((xiAnchor*ax(4))/dt - FmTangentialx(4)))/xiCargoRotation + ((cx - \
ax(1))*((xiAnchor*ay(1))/dt - FmTangentialy(1)))/xiCargoRotation + ((cx - \
ax(2))*((xiAnchor*ay(2))/dt - FmTangentialy(2)))/xiCargoRotation + ((cx - \
ax(3))*((xiAnchor*ay(3))/dt - FmTangentialy(3)))/xiCargoRotation + ((cx - \
ax(4))*((xiAnchor*ay(4))/dt - FmTangentialy(4)))/xiCargoRotation;
\
\>", "Print",
 CellChangeTimes->{
  3.684020862589073*^9, {3.68402096727332*^9, 3.684020995263473*^9}, 
   3.684021054495174*^9, 3.684077979755156*^9, 3.684078114941572*^9, 
   3.684078289200943*^9, {3.6840906263850927`*^9, 3.6840906547274437`*^9}, 
   3.684091343130118*^9, 3.6840972269483557`*^9, 3.6840972947270203`*^9}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Write file with iterations of different numbers of motors", "Section",
 CellChangeTimes->{{3.684098531303584*^9, 3.684098537535494*^9}, {
  3.684098604822413*^9, 3.684098628446341*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"outfileLoc", "=", 
   RowBox[{"CreateFile", "[", 
    RowBox[{
     RowBox[{"NotebookDirectory", "[", "]"}], "<>", "\"\</\>\"", "<>", 
     "\"\<forwardequations.c\>\""}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"outfile", "=", 
   RowBox[{"File", "[", "outfileLoc", "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.684098648719748*^9, 3.684098677654524*^9}, 
   3.6840991788294983`*^9, 3.68409921040814*^9, {3.684102465568993*^9, 
   3.684102482037467*^9}, {3.684102558481722*^9, 3.684102578910823*^9}}],

Cell["Write C function beginning lines", "Text",
 CellChangeTimes->{{3.6840992130621567`*^9, 3.684099228238578*^9}}],

Cell[BoxData[{
 RowBox[{"WriteString", "[", 
  RowBox[{
  "outfile", ",", "\"\<//prototypes\>\"", ",", "\"\<\\n\>\"", ",", 
   "\"\<void compute_next_locations();\>\"", ",", "\"\<\\n\\n\>\""}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"WriteString", "[", 
  RowBox[{
  "outfile", ",", "\"\<void compute_next_locations(){\>\"", ",", 
   "\"\<\\n\>\""}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"WriteString", "[", 
  RowBox[{
  "outfile", ",", "\"\<    \>\"", ",", 
   "\"\<switch(total_pulling_motors){\>\"", ",", "\"\<\\n\>\""}], 
  "]"}]}], "Input",
 CellChangeTimes->{{3.684099231380281*^9, 3.684099240084999*^9}, {
  3.6840992762656183`*^9, 3.684099515878077*^9}, {3.6840996083649063`*^9, 
  3.684099671532875*^9}, {3.6840997024259577`*^9, 3.684099710873991*^9}, {
  3.68410043232519*^9, 3.684100434844616*^9}, {3.684100489632914*^9, 
  3.684100491769526*^9}, {3.684102822946341*^9, 3.684102824329294*^9}}],

Cell[BoxData[
 RowBox[{"For", "[", 
  RowBox[{
   RowBox[{"j", "=", "1"}], ",", 
   RowBox[{"j", "\[LessEqual]", "2"}], ",", 
   RowBox[{"j", "++"}], ",", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"WriteString", "[", 
     RowBox[{
     "outfile", ",", "\"\<        \>\"", ",", "\"\<case \>\"", ",", "j", ",", 
      "\"\<:\>\"", ",", "\"\<\\n\>\""}], "]"}], ";", "\[IndentingNewLine]", 
    RowBox[{"invsoln", "=", 
     RowBox[{"generateEqs", "[", "j", "]"}]}], ";", "\[IndentingNewLine]", 
    RowBox[{"For", "[", 
     RowBox[{
      RowBox[{"i", "=", "1"}], ",", 
      RowBox[{"i", "\[LessEqual]", 
       RowBox[{"3", 
        RowBox[{"(", 
         RowBox[{"j", "+", "2"}], ")"}]}]}], ",", 
      RowBox[{"i", "++"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"WriteString", "[", 
        RowBox[{"outfile", ",", "\"\<            \>\"", ",", 
         RowBox[{"CForm", "[", 
          RowBox[{"invsoln", "[", 
           RowBox[{"[", "i", "]"}], "]"}], "]"}], ",", "\"\<;\>\"", ",", 
         "\"\<\\n\\n\>\""}], "]"}], ";"}]}], "\[IndentingNewLine]", "]"}], 
    ";", "\[IndentingNewLine]", 
    RowBox[{"WriteString", "[", 
     RowBox[{
     "outfile", ",", "\"\<            \>\"", ",", "\"\<break;\>\"", ",", 
      "\"\<\\n\\n\>\""}], "]"}], ";"}]}], "\[IndentingNewLine]", 
  "]"}]], "Input",
 CellChangeTimes->{{3.684098684247036*^9, 3.684098766686006*^9}, {
   3.684098856697693*^9, 3.684098878004724*^9}, {3.684099061289969*^9, 
   3.6840991277763557`*^9}, 3.6840991935196753`*^9, {3.684099519804295*^9, 
   3.684099541348055*^9}, {3.6840997343083973`*^9, 3.684099816432733*^9}, {
   3.684100169619607*^9, 3.6841001736468277`*^9}, {3.684100402884281*^9, 
   3.684100411512261*^9}, {3.6841005086000032`*^9, 3.684100540493479*^9}, {
   3.68410061534379*^9, 3.684100657686246*^9}, {3.684100711764319*^9, 
   3.684100715138089*^9}}],

Cell[BoxData[{
 RowBox[{"WriteString", "[", 
  RowBox[{
  "outfile", ",", "\"\<        \>\"", ",", "\"\<default:\>\"", ",", 
   "\"\<\\n\>\"", ",", "\"\<            \>\"", ",", 
   "\"\<printf(\\\"Bad value for total_pulling_motors\\\\n\\\");\>\"", ",", 
   "\"\<\\n\>\""}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"WriteString", "[", 
  RowBox[{"outfile", ",", "\"\<    }\\n\>\"", ",", "\"\<}\\n\>\""}], 
  "]"}]}], "Input",
 CellChangeTimes->{{3.684099840640665*^9, 3.684099931812181*^9}, {
  3.6840999744158993`*^9, 3.68409998222359*^9}, {3.684100043368163*^9, 
  3.684100084620983*^9}, {3.6841001168977137`*^9, 3.684100160693183*^9}, {
  3.684100202273947*^9, 3.6841002029258747`*^9}, {3.684100279347612*^9, 
  3.684100298168747*^9}, {3.684100370877803*^9, 3.6841003714731607`*^9}, {
  3.684100419881982*^9, 3.6841004213560467`*^9}, {3.684100523328725*^9, 
  3.684100531020879*^9}, {3.684100563084326*^9, 3.684100566716979*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Close", "[", "outfile", "]"}]], "Input"],

Cell[BoxData["\<\"/Users/Matt/project_code/Motor_Freedom/tools//\
forwardequations.c\"\>"], "Output",
 CellChangeTimes->{{3.684100300257049*^9, 3.6841003123613777`*^9}, 
   3.684100438657907*^9, 3.684100553368664*^9, 3.6841005843912697`*^9, 
   3.684100673530526*^9, {3.684100722534998*^9, 3.684100732493864*^9}, 
   3.684102391742468*^9, 3.684102594087244*^9}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Older try at writing output", "Section",
 CellChangeTimes->{{3.684090462188586*^9, 3.684090470332848*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Export", "[", 
  RowBox[{"\"\<funcout.txt\>\"", ",", 
   RowBox[{"CForm", "[", 
    RowBox[{"invsoln", "[", 
     RowBox[{"[", "1", "]"}], "]"}], "]"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.684018774128228*^9, 3.684018779473948*^9}, {
  3.6840191126181498`*^9, 3.68401912397969*^9}, {3.684019162128559*^9, 
  3.684019175594932*^9}}],

Cell[BoxData["\<\"funcout.txt\"\>"], "Output",
 CellChangeTimes->{3.684019177209207*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"str", "=", 
  RowBox[{"OpenWrite", "[", "]"}]}]], "Input",
 CellChangeTimes->{{3.684019336099132*^9, 3.684019344840369*^9}}],

Cell[BoxData[
 InterpretationBox[
  RowBox[{
   TagBox["OutputStream",
    "SummaryHead"], "[", 
   DynamicModuleBox[{Typeset`open$$ = False}, 
    PanelBox[
     PaneSelectorBox[{False->GridBox[{
        {
         PaneBox[
          ButtonBox[
           
           DynamicBox[FEPrivate`FrontEndResource[
            "FEBitmaps", "SquarePlusIconMedium"],
            ImageSizeCache->{12., {0., 12.}}],
           Appearance->None,
           ButtonFunction:>(Typeset`open$$ = True),
           Evaluator->Automatic,
           Method->"Preemptive"],
          Alignment->{Center, Center},
          
          ImageSize->
           Dynamic[{
            Automatic, 3.5 CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
             Magnification]}]], 
         GraphicsBox[
          {Thickness[0.0016806722689075631`], 
           {FaceForm[{GrayLevel[0.93], Opacity[1.]}], 
            FilledCurveBox[{{{1, 4, 3}, {0, 1, 0}, {1, 3, 3}, {0, 1, 0}, {1, 
             3, 3}, {0, 1, 0}, {1, 3, 3}, {0, 1, 0}}}, {{{25.499999999999996`,
              2.5}, {25.499999999999996`, 1.3953100000000003`}, {
             24.604699999999998`, 0.49999999999999994`}, {23.5, 
             0.49999999999999994`}, {2.5, 0.49999999999999994`}, {
             1.3953100000000003`, 0.49999999999999994`}, {
             0.49999999999999994`, 1.3953100000000003`}, {
             0.49999999999999994`, 2.5}, {0.49999999999999994`, 23.5}, {
             0.49999999999999994`, 24.604699999999998`}, {1.3953100000000003`,
              25.499999999999996`}, {2.5, 25.499999999999996`}, {23.5, 
             25.499999999999996`}, {24.604699999999998`, 
             25.499999999999996`}, {25.499999999999996`, 
             24.604699999999998`}, {25.499999999999996`, 23.5}, {
             25.499999999999996`, 2.5}}}]}, 
           {RGBColor[0.699951, 0.699951, 0.699951], Opacity[1.], 
            JoinForm[{ElisionsDump`Miter, 10.}], 
            JoinedCurveBox[{{{1, 4, 3}, {0, 1, 0}, {1, 3, 3}, {0, 1, 0}, {1, 
             3, 3}, {0, 1, 0}, {1, 3, 3}, {0, 1, 0}}}, {{{25.499999999999996`,
              2.5}, {25.499999999999996`, 1.3953100000000003`}, {
             24.604699999999998`, 0.49999999999999994`}, {23.5, 
             0.49999999999999994`}, {2.5, 0.49999999999999994`}, {
             1.3953100000000003`, 0.49999999999999994`}, {
             0.49999999999999994`, 1.3953100000000003`}, {
             0.49999999999999994`, 2.5}, {0.49999999999999994`, 23.5}, {
             0.49999999999999994`, 24.604699999999998`}, {1.3953100000000003`,
              25.499999999999996`}, {2.5, 25.499999999999996`}, {23.5, 
             25.499999999999996`}, {24.604699999999998`, 
             25.499999999999996`}, {25.499999999999996`, 
             24.604699999999998`}, {25.499999999999996`, 23.5}, {
             25.499999999999996`, 2.5}}}]}, 
           {FaceForm[{RGBColor[0.5, 0.5, 0.5], Opacity[1.]}], 
            FilledCurveBox[{{{0, 2, 0}, {1, 3, 3}, {0, 1, 0}, {1, 3, 3}, {0, 
             1, 0}, {1, 3, 3}, {1, 3, 3}}}, {{{3.52539, 
             1.0035199999999997`}, {2.5250000000000004`, 
             1.0035199999999997`}, {1.6828099999999997`, 
             1.0035199999999997`}, {0.9999999999999999, 
             1.6863299999999997`}, {0.9999999999999999, 
             2.5285199999999994`}, {0.9999999999999999, 
             23.474999999999998`}, {0.9999999999999999, 
             24.317199999999996`}, {1.6828099999999997`, 
             24.999999999999996`}, {2.5250000000000004`, 
             24.999999999999996`}, {3.52539, 24.999999999999996`}, {3.52539, 
             24.999999999999993`}, {5.523440000000001, 22.421099999999996`}, {
             5.523440000000001, 13.0039}, {5.523440000000001, 
             3.5867199999999992`}, {3.52539, 1.0035199999999997`}, {3.52539, 
             1.0035199999999997`}}}], 
            FilledCurveBox[{{{0, 2, 0}, {0, 1, 0}, {0, 1, 0}, {0, 1, 0}, {0, 
             1, 0}, {0, 1, 0}}}, {{{22.4977, 12.9016}, {17.740599999999997`, 
             16.8398}, {17.740599999999997`, 14.856599999999998`}, {
             19.980900000000002`, 12.947299999999997`}, {17.740599999999997`, 
             10.946100000000001`}, {17.740599999999997`, 8.96289}, {22.4977, 
             12.9016}}}]}, 
           {FaceForm[{RGBColor[
            0.46093800000000007`, 0.46093800000000007`, 0.46093800000000007`],
             Opacity[1.]}], 
            FilledCurveBox[{{{1, 4, 3}, {1, 3, 3}, {1, 3, 3}, {1, 3, 3}}}, {{{
             9.202339999999998, 12.8969}, {9.202339999999998, 
             12.335499999999998`}, {8.747660000000002, 11.880899999999999`}, {
             8.186329999999998, 11.880899999999999`}, {7.624999999999999, 
             11.880899999999999`}, {7.169920000000001, 12.335499999999998`}, {
             7.169920000000001, 12.8969}, {7.169920000000001, 
             13.458200000000003`}, {7.624999999999999, 13.9133}, {
             8.186329999999998, 13.9133}, {8.747660000000002, 13.9133}, {
             9.202339999999998, 13.458200000000003`}, {9.202339999999998, 
             12.8969}}}], 
            FilledCurveBox[{{{1, 4, 3}, {1, 3, 3}, {1, 3, 3}, {1, 3, 3}}}, {{{
             12.6227, 12.8969}, {12.6227, 12.335499999999998`}, {
             12.167599999999998`, 11.880899999999999`}, {11.606200000000001`, 
             11.880899999999999`}, {11.0449, 11.880899999999999`}, {
             10.589799999999999`, 12.335499999999998`}, {10.589799999999999`, 
             12.8969}, {10.589799999999999`, 13.458200000000003`}, {11.0449, 
             13.9133}, {11.606200000000001`, 13.9133}, {12.167599999999998`, 
             13.9133}, {12.6227, 13.458200000000003`}, {12.6227, 12.8969}}}], 
            FilledCurveBox[{{{1, 4, 3}, {1, 3, 3}, {1, 3, 3}, {1, 3, 3}}}, {{{
             16.042600000000004`, 12.8969}, {16.042600000000004`, 
             12.335499999999998`}, {15.587499999999999`, 
             11.880899999999999`}, {15.026199999999998`, 
             11.880899999999999`}, {14.464799999999997`, 
             11.880899999999999`}, {14.010199999999998`, 
             12.335499999999998`}, {14.010199999999998`, 12.8969}, {
             14.010199999999998`, 13.458200000000003`}, {14.464799999999997`, 
             13.9133}, {15.026199999999998`, 13.9133}, {15.587499999999999`, 
             13.9133}, {16.042600000000004`, 13.458200000000003`}, {
             16.042600000000004`, 12.8969}}}]}},
          AspectRatio->1,
          Axes->False,
          Background->GrayLevel[0.5],
          Frame->True,
          FrameStyle->Directive[
            Thickness[Tiny], 
            GrayLevel[0.7]],
          FrameTicks->None,
          ImageSize->{Automatic, 
            Dynamic[
            3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
              Magnification])]}], GridBox[{
           {
            RowBox[{
             TagBox["\<\"Name: \"\>",
              "SummaryItemAnnotation"], "\[InvisibleSpace]", 
             TagBox[
              StyleBox[
               PaneBox["\<\"m0000026431\"\>",
                BaselinePosition->Baseline,
                ContentPadding->False,
                FrameMargins->0,
                ImageSize->{{1, 300}, Automatic},
                StripOnInput->True],
               LineBreakWithin->False],
              "SummaryItem"]}]},
           {
            RowBox[{
             TagBox["\<\"Unique ID: \"\>",
              "SummaryItemAnnotation"], "\[InvisibleSpace]", 
             TagBox["3",
              "SummaryItem"]}]}
          },
          AutoDelete->False,
          
          BaseStyle->{
           ShowStringCharacters -> False, NumberMarks -> False, 
            PrintPrecision -> 3, ShowSyntaxStyles -> False},
          GridBoxAlignment->{"Columns" -> {{Left}}, "Rows" -> {{Automatic}}},
          
          GridBoxItemSize->{
           "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}},
          GridBoxSpacings->{"Columns" -> {{2}}, "Rows" -> {{Automatic}}}]}
       },
       AutoDelete->False,
       BaselinePosition->{1, 1},
       GridBoxAlignment->{"Rows" -> {{Top}}},
       GridBoxItemSize->{
        "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}], True->
      GridBox[{
        {
         PaneBox[
          ButtonBox[
           
           DynamicBox[FEPrivate`FrontEndResource[
            "FEBitmaps", "SquareMinusIconMedium"]],
           Appearance->None,
           ButtonFunction:>(Typeset`open$$ = False),
           Evaluator->Automatic,
           Method->"Preemptive"],
          Alignment->{Center, Center},
          
          ImageSize->
           Dynamic[{
            Automatic, 3.5 CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
             Magnification]}]], 
         GraphicsBox[
          {Thickness[0.0016806722689075631`], 
           {FaceForm[{GrayLevel[0.93], Opacity[1.]}], 
            FilledCurveBox[{{{1, 4, 3}, {0, 1, 0}, {1, 3, 3}, {0, 1, 0}, {1, 
             3, 3}, {0, 1, 0}, {1, 3, 3}, {0, 1, 0}}}, {{{25.499999999999996`,
              2.5}, {25.499999999999996`, 1.3953100000000003`}, {
             24.604699999999998`, 0.49999999999999994`}, {23.5, 
             0.49999999999999994`}, {2.5, 0.49999999999999994`}, {
             1.3953100000000003`, 0.49999999999999994`}, {
             0.49999999999999994`, 1.3953100000000003`}, {
             0.49999999999999994`, 2.5}, {0.49999999999999994`, 23.5}, {
             0.49999999999999994`, 24.604699999999998`}, {1.3953100000000003`,
              25.499999999999996`}, {2.5, 25.499999999999996`}, {23.5, 
             25.499999999999996`}, {24.604699999999998`, 
             25.499999999999996`}, {25.499999999999996`, 
             24.604699999999998`}, {25.499999999999996`, 23.5}, {
             25.499999999999996`, 2.5}}}]}, 
           {RGBColor[0.699951, 0.699951, 0.699951], Opacity[1.], 
            JoinForm[{ElisionsDump`Miter, 10.}], 
            JoinedCurveBox[{{{1, 4, 3}, {0, 1, 0}, {1, 3, 3}, {0, 1, 0}, {1, 
             3, 3}, {0, 1, 0}, {1, 3, 3}, {0, 1, 0}}}, {{{25.499999999999996`,
              2.5}, {25.499999999999996`, 1.3953100000000003`}, {
             24.604699999999998`, 0.49999999999999994`}, {23.5, 
             0.49999999999999994`}, {2.5, 0.49999999999999994`}, {
             1.3953100000000003`, 0.49999999999999994`}, {
             0.49999999999999994`, 1.3953100000000003`}, {
             0.49999999999999994`, 2.5}, {0.49999999999999994`, 23.5}, {
             0.49999999999999994`, 24.604699999999998`}, {1.3953100000000003`,
              25.499999999999996`}, {2.5, 25.499999999999996`}, {23.5, 
             25.499999999999996`}, {24.604699999999998`, 
             25.499999999999996`}, {25.499999999999996`, 
             24.604699999999998`}, {25.499999999999996`, 23.5}, {
             25.499999999999996`, 2.5}}}]}, 
           {FaceForm[{RGBColor[0.5, 0.5, 0.5], Opacity[1.]}], 
            FilledCurveBox[{{{0, 2, 0}, {1, 3, 3}, {0, 1, 0}, {1, 3, 3}, {0, 
             1, 0}, {1, 3, 3}, {1, 3, 3}}}, {{{3.52539, 
             1.0035199999999997`}, {2.5250000000000004`, 
             1.0035199999999997`}, {1.6828099999999997`, 
             1.0035199999999997`}, {0.9999999999999999, 
             1.6863299999999997`}, {0.9999999999999999, 
             2.5285199999999994`}, {0.9999999999999999, 
             23.474999999999998`}, {0.9999999999999999, 
             24.317199999999996`}, {1.6828099999999997`, 
             24.999999999999996`}, {2.5250000000000004`, 
             24.999999999999996`}, {3.52539, 24.999999999999996`}, {3.52539, 
             24.999999999999993`}, {5.523440000000001, 22.421099999999996`}, {
             5.523440000000001, 13.0039}, {5.523440000000001, 
             3.5867199999999992`}, {3.52539, 1.0035199999999997`}, {3.52539, 
             1.0035199999999997`}}}], 
            FilledCurveBox[{{{0, 2, 0}, {0, 1, 0}, {0, 1, 0}, {0, 1, 0}, {0, 
             1, 0}, {0, 1, 0}}}, {{{22.4977, 12.9016}, {17.740599999999997`, 
             16.8398}, {17.740599999999997`, 14.856599999999998`}, {
             19.980900000000002`, 12.947299999999997`}, {17.740599999999997`, 
             10.946100000000001`}, {17.740599999999997`, 8.96289}, {22.4977, 
             12.9016}}}]}, 
           {FaceForm[{RGBColor[
            0.46093800000000007`, 0.46093800000000007`, 0.46093800000000007`],
             Opacity[1.]}], 
            FilledCurveBox[{{{1, 4, 3}, {1, 3, 3}, {1, 3, 3}, {1, 3, 3}}}, {{{
             9.202339999999998, 12.8969}, {9.202339999999998, 
             12.335499999999998`}, {8.747660000000002, 11.880899999999999`}, {
             8.186329999999998, 11.880899999999999`}, {7.624999999999999, 
             11.880899999999999`}, {7.169920000000001, 12.335499999999998`}, {
             7.169920000000001, 12.8969}, {7.169920000000001, 
             13.458200000000003`}, {7.624999999999999, 13.9133}, {
             8.186329999999998, 13.9133}, {8.747660000000002, 13.9133}, {
             9.202339999999998, 13.458200000000003`}, {9.202339999999998, 
             12.8969}}}], 
            FilledCurveBox[{{{1, 4, 3}, {1, 3, 3}, {1, 3, 3}, {1, 3, 3}}}, {{{
             12.6227, 12.8969}, {12.6227, 12.335499999999998`}, {
             12.167599999999998`, 11.880899999999999`}, {11.606200000000001`, 
             11.880899999999999`}, {11.0449, 11.880899999999999`}, {
             10.589799999999999`, 12.335499999999998`}, {10.589799999999999`, 
             12.8969}, {10.589799999999999`, 13.458200000000003`}, {11.0449, 
             13.9133}, {11.606200000000001`, 13.9133}, {12.167599999999998`, 
             13.9133}, {12.6227, 13.458200000000003`}, {12.6227, 12.8969}}}], 
            FilledCurveBox[{{{1, 4, 3}, {1, 3, 3}, {1, 3, 3}, {1, 3, 3}}}, {{{
             16.042600000000004`, 12.8969}, {16.042600000000004`, 
             12.335499999999998`}, {15.587499999999999`, 
             11.880899999999999`}, {15.026199999999998`, 
             11.880899999999999`}, {14.464799999999997`, 
             11.880899999999999`}, {14.010199999999998`, 
             12.335499999999998`}, {14.010199999999998`, 12.8969}, {
             14.010199999999998`, 13.458200000000003`}, {14.464799999999997`, 
             13.9133}, {15.026199999999998`, 13.9133}, {15.587499999999999`, 
             13.9133}, {16.042600000000004`, 13.458200000000003`}, {
             16.042600000000004`, 12.8969}}}]}},
          AspectRatio->1,
          Axes->False,
          Background->GrayLevel[0.5],
          Frame->True,
          FrameStyle->Directive[
            Thickness[Tiny], 
            GrayLevel[0.7]],
          FrameTicks->None,
          ImageSize->{Automatic, 
            Dynamic[
            3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
              Magnification])]}], GridBox[{
           {
            RowBox[{
             TagBox["\<\"Name: \"\>",
              "SummaryItemAnnotation"], "\[InvisibleSpace]", 
             TagBox[
              
              PaneBox["\<\"/var/folders/hs/z4kp0p255yd7t6hj28xq3j480000gn/T/\
m0000026431\"\>",
               BaselinePosition->Baseline,
               ContentPadding->False,
               FrameMargins->0,
               ImageSize->{{1, 500}, Automatic},
               StripOnInput->True],
              "SummaryItem"]}]},
           {
            RowBox[{
             TagBox["\<\"Unique ID: \"\>",
              "SummaryItemAnnotation"], "\[InvisibleSpace]", 
             TagBox["3",
              "SummaryItem"]}]},
           {
            RowBox[{
             TagBox["\<\"Binary: \"\>",
              "SummaryItemAnnotation"], "\[InvisibleSpace]", 
             TagBox["False",
              "SummaryItem"]}]},
           {
            RowBox[{
             TagBox["\<\"Open: \"\>",
              "SummaryItemAnnotation"], "\[InvisibleSpace]", 
             TagBox[
              DynamicBox[ToBoxes[Options[
                  OutputStream[
                  "/var/folders/hs/z4kp0p255yd7t6hj28xq3j480000gn/T/\
m0000026431", 3]] =!= {}, StandardForm],
               UpdateInterval->1],
              "SummaryItem"]}]},
           {
            RowBox[{
             TagBox["\<\"Encoding: \"\>",
              "SummaryItemAnnotation"], "\[InvisibleSpace]", 
             TagBox["Automatic",
              "SummaryItem"]}]},
           {
            RowBox[{
             TagBox["\<\"Format: \"\>",
              "SummaryItemAnnotation"], "\[InvisibleSpace]", 
             TagBox["InputForm",
              "SummaryItem"]}]},
           {
            RowBox[{
             TagBox["\<\"Page width: \"\>",
              "SummaryItemAnnotation"], "\[InvisibleSpace]", 
             TagBox["78",
              "SummaryItem"]}]},
           {
            RowBox[{
             TagBox["\<\"Number marks: \"\>",
              "SummaryItemAnnotation"], "\[InvisibleSpace]", 
             TagBox["Automatic",
              "SummaryItem"]}]}
          },
          AutoDelete->False,
          
          BaseStyle->{
           ShowStringCharacters -> False, NumberMarks -> False, 
            PrintPrecision -> 3, ShowSyntaxStyles -> False},
          GridBoxAlignment->{"Columns" -> {{Left}}, "Rows" -> {{Automatic}}},
          
          GridBoxItemSize->{
           "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}},
          GridBoxSpacings->{"Columns" -> {{2}}, "Rows" -> {{Automatic}}}]}
       },
       AutoDelete->False,
       BaselinePosition->{1, 1},
       GridBoxAlignment->{"Rows" -> {{Top}}},
       GridBoxItemSize->{
        "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}]}, Dynamic[
      Typeset`open$$],
      ImageSize->Automatic],
     BaselinePosition->Baseline],
    DynamicModuleValues:>{}], "]"}],
  OutputStream[
  "/var/folders/hs/z4kp0p255yd7t6hj28xq3j480000gn/T/m0000026431", 3],
  Editable->False,
  SelectWithContents->True,
  Selectable->False]], "Output",
 CellChangeTimes->{3.684019346202689*^9, 3.6840194336310167`*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{"Write", "[", 
  RowBox[{"str", ",", 
   RowBox[{"CForm", "[", 
    RowBox[{"invsoln", "[", 
     RowBox[{"[", "1", "]"}], "]"}], "]"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.684019352772455*^9, 3.684019365394103*^9}}],

Cell[BoxData[
 RowBox[{"Write", "[", 
  RowBox[{"str", ",", 
   RowBox[{"CForm", "[", 
    RowBox[{"invsoln", "[", 
     RowBox[{"[", "2", "]"}], "]"}], "]"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.684019430486514*^9, 3.684019430542115*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Close", "[", "str", "]"}]], "Input",
 CellChangeTimes->{{3.684019382393755*^9, 3.684019387364541*^9}}],

Cell[BoxData["\<\"/var/folders/hs/z4kp0p255yd7t6hj28xq3j480000gn/T/\
m0000026431\"\>"], "Output",
 CellChangeTimes->{3.684019388069523*^9, 3.684019438664207*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"FilePrint", "[", "%", "]"}]], "Input",
 CellChangeTimes->{{3.684019408066926*^9, 3.6840194143533*^9}}],

Cell["\<\
ax1(1) == ((-ay(1) + cy(1))*(ay(1)*cx(1) - ax(1)*cy(1))*xiAnchor(1))/
    xiCargoRotation + ((az(1) - cz(1))*(-(az(1)*cx(1)) + ax(1)*cz(1))*
      xiAnchor(1))/xiCargoRotation - 
   (dt*(ax(1) - cx(1))*(ay(1) - cy(1))*(-FmTy(1) + (ay(1)*xiAnchor(1))/dt))/
    xiCargoRotation - (dt*(ax(1) - cx(1))*(az(1) - cz(1))*
      (-FmTz(1) + (az(1)*xiAnchor(1))/dt))/xiCargoRotation - 
   (dt*(-FmTx(1) + (ax(1)*xiAnchor(1))/dt)*
      (xiCargoRotation - (Power(ay(1),2) + Power(az(1),2) - 2*ay(1)*cy(1) + 
           Power(cy(1),2) - 2*az(1)*cz(1) + Power(cz(1),2))*xiAnchor(1)))/
    (xiCargoRotation*xiAnchor(1))
ay1(1) == ((ax(1) - cx(1))*(ay(1)*cx(1) - ax(1)*cy(1))*xiAnchor(1))/
    xiCargoRotation + ((-az(1) + cz(1))*(az(1)*cy(1) - ay(1)*cz(1))*
      xiAnchor(1))/xiCargoRotation - 
   (dt*(ax(1) - cx(1))*(ay(1) - cy(1))*(-FmTx(1) + (ax(1)*xiAnchor(1))/dt))/
    xiCargoRotation - (dt*(ay(1) - cy(1))*(az(1) - cz(1))*
      (-FmTz(1) + (az(1)*xiAnchor(1))/dt))/xiCargoRotation - 
   (dt*(-FmTy(1) + (ay(1)*xiAnchor(1))/dt)*
      (xiCargoRotation - (Power(ax(1),2) + Power(az(1),2) - 2*ax(1)*cx(1) + 
           Power(cx(1),2) - 2*az(1)*cz(1) + Power(cz(1),2))*xiAnchor(1)))/
    (xiCargoRotation*xiAnchor(1))\
\>", "Print",
 CellChangeTimes->{{3.68401941471782*^9, 3.684019440518415*^9}}]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{831, 755},
WindowMargins->{{Automatic, 378}, {Automatic, 116}},
FrontEndVersion->"11.0 for Mac OS X x86 (32-bit, 64-bit Kernel) (July 28, \
2016)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 110, 1, 92, "Title"],
Cell[CellGroupData[{
Cell[715, 27, 120, 1, 64, "Section"],
Cell[838, 30, 111, 1, 30, "Text"],
Cell[CellGroupData[{
Cell[974, 35, 1463, 42, 96, "Input"],
Cell[2440, 79, 2374, 75, 130, "Output"]
}, Open  ]],
Cell[4829, 157, 108, 1, 30, "Text"],
Cell[CellGroupData[{
Cell[4962, 162, 1557, 43, 75, "Input"],
Cell[6522, 207, 2004, 70, 130, "Output"]
}, Open  ]],
Cell[8541, 280, 109, 1, 30, "Text"],
Cell[CellGroupData[{
Cell[8675, 285, 987, 29, 96, "Input"],
Cell[9665, 316, 1911, 50, 127, "Output"]
}, Open  ]],
Cell[11591, 369, 122, 1, 30, "Text"],
Cell[CellGroupData[{
Cell[11738, 374, 768, 18, 75, "Input"],
Cell[12509, 394, 36428, 943, 1278, "Output"]
}, Open  ]],
Cell[48952, 1340, 141, 1, 30, "Text"],
Cell[CellGroupData[{
Cell[49118, 1345, 127, 2, 32, "Input"],
Cell[49248, 1349, 7209, 137, 1724, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[56506, 1492, 113, 1, 64, "Section"],
Cell[56622, 1495, 139, 1, 30, "Text"],
Cell[CellGroupData[{
Cell[56786, 1500, 382, 10, 32, "Input"],
Cell[57171, 1512, 905, 22, 55, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[58113, 1539, 330, 6, 32, "Input"],
Cell[58446, 1547, 724, 18, 35, "Output"]
}, Open  ]],
Cell[59185, 1568, 139, 1, 30, "Text"],
Cell[CellGroupData[{
Cell[59349, 1573, 428, 10, 32, "Input"],
Cell[59780, 1585, 4679, 128, 173, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[64496, 1718, 691, 17, 54, "Input"],
Cell[65190, 1737, 2913, 87, 123, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[68140, 1829, 160, 3, 32, "Input"],
Cell[68303, 1834, 2867, 81, 127, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[71219, 1921, 154, 2, 64, "Section"],
Cell[CellGroupData[{
Cell[71398, 1927, 1248, 33, 75, "Input"],
Cell[72649, 1962, 1719, 52, 127, "Output"]
}, Open  ]],
Cell[74383, 2017, 108, 1, 30, "Text"],
Cell[CellGroupData[{
Cell[74516, 2022, 1454, 36, 75, "Input"],
Cell[75973, 2060, 1379, 47, 88, "Output"]
}, Open  ]],
Cell[77367, 2110, 109, 1, 30, "Text"],
Cell[CellGroupData[{
Cell[77501, 2115, 987, 29, 96, "Input"],
Cell[78491, 2146, 1935, 50, 127, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[80463, 2201, 691, 16, 75, "Input"],
Cell[81157, 2219, 5283, 153, 400, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[86477, 2377, 135, 2, 32, "Input"],
Cell[86615, 2381, 3223, 98, 247, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[89875, 2484, 133, 2, 32, "Input"],
Cell[90011, 2488, 2297, 73, 247, "Output"]
}, Open  ]]
}, Open  ]],
Cell[92335, 2565, 123, 1, 64, "Section"],
Cell[CellGroupData[{
Cell[92483, 2570, 100, 1, 50, "Section"],
Cell[CellGroupData[{
Cell[92608, 2575, 1296, 33, 75, "Input"],
Cell[93907, 2610, 1790, 53, 127, "Output"]
}, Open  ]],
Cell[95712, 2666, 108, 1, 30, "Text"],
Cell[CellGroupData[{
Cell[95845, 2671, 1978, 51, 138, "Input"],
Cell[97826, 2724, 2279, 70, 127, "Output"]
}, Open  ]],
Cell[100120, 2797, 109, 1, 30, "Text"],
Cell[CellGroupData[{
Cell[100254, 2802, 1481, 42, 138, "Input"],
Cell[101738, 2846, 5291, 112, 260, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[107066, 2963, 476, 13, 75, "Input"],
Cell[107545, 2978, 8789, 240, 576, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[116371, 3223, 131, 2, 32, "Input"],
Cell[116505, 3227, 6715, 188, 247, "Output"]
}, Open  ]],
Cell[123235, 3418, 125, 1, 30, "Text"],
Cell[CellGroupData[{
Cell[123385, 3423, 310, 5, 32, "Input"],
Cell[123698, 3430, 1682, 32, 302, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[125429, 3468, 121, 1, 64, "Section"],
Cell[125553, 3471, 765, 18, 96, "Input"],
Cell[126321, 3491, 84, 1, 30, "Text"],
Cell[126408, 3494, 3223, 68, 180, "Input"],
Cell[129634, 3564, 105, 1, 30, "Text"],
Cell[129742, 3567, 3858, 84, 201, "Input"],
Cell[133603, 3653, 105, 1, 30, "Text"],
Cell[133711, 3656, 3598, 78, 138, "Input"],
Cell[137312, 3736, 316, 8, 32, "Input"],
Cell[CellGroupData[{
Cell[137653, 3748, 843, 21, 54, "Input"],
Cell[138499, 3771, 494, 10, 32, "Output"]
}, Open  ]],
Cell[139008, 3784, 558, 13, 32, "Input"],
Cell[139569, 3799, 331, 6, 49, "Text"],
Cell[CellGroupData[{
Cell[139925, 3809, 400, 8, 75, "Input"],
Cell[140328, 3819, 193, 3, 32, "Output"],
Cell[140524, 3824, 237, 5, 32, "Output"],
Cell[140764, 3831, 217, 4, 32, "Output"]
}, Open  ]],
Cell[140996, 3838, 236, 4, 49, "Text"],
Cell[141235, 3844, 314, 7, 32, "Input"],
Cell[141552, 3853, 187, 4, 30, "Text"],
Cell[141742, 3859, 314, 8, 32, "Input"],
Cell[CellGroupData[{
Cell[142081, 3871, 365, 7, 32, "Input"],
Cell[142449, 3880, 23891, 666, 2183, "Output"]
}, Closed]],
Cell[166355, 4549, 101, 1, 27, "Text"],
Cell[166459, 4552, 9153, 226, 663, "Input"],
Cell[CellGroupData[{
Cell[175637, 4782, 132, 2, 32, "Input"],
Cell[175772, 4786, 23721, 663, 2183, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[199542, 5455, 107, 1, 64, "Section"],
Cell[CellGroupData[{
Cell[199674, 5460, 228, 4, 32, "Input"],
Cell[199905, 5466, 569, 8, 32, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[200511, 5479, 260, 5, 32, "Input"],
Cell[200774, 5486, 627, 11, 40, "Output"]
}, Open  ]],
Cell[201416, 5500, 1248, 26, 75, "Input"],
Cell[202667, 5528, 529, 11, 32, "Input"],
Cell[CellGroupData[{
Cell[203221, 5543, 130, 2, 32, "Input"],
Cell[203354, 5547, 492, 7, 32, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[203883, 5559, 138, 2, 32, "Input"],
Cell[204024, 5563, 33384, 509, 619, "Print"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[237457, 6078, 191, 2, 64, "Section"],
Cell[237651, 6082, 560, 12, 54, "Input"],
Cell[238214, 6096, 116, 1, 30, "Text"],
Cell[238333, 6099, 912, 19, 75, "Input"],
Cell[239248, 6120, 1868, 41, 180, "Input"],
Cell[241119, 6163, 932, 16, 75, "Input"],
Cell[CellGroupData[{
Cell[242076, 6183, 64, 1, 32, "Input"],
Cell[242143, 6186, 361, 5, 32, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[242553, 6197, 112, 1, 64, "Section"],
Cell[CellGroupData[{
Cell[242690, 6202, 360, 8, 32, "Input"],
Cell[243053, 6212, 88, 1, 32, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[243178, 6218, 148, 3, 32, "Input"],
Cell[243329, 6223, 17881, 364, 60, "Output"]
}, Open  ]],
Cell[261225, 6590, 244, 6, 32, "Input"],
Cell[261472, 6598, 244, 6, 32, "Input"],
Cell[CellGroupData[{
Cell[261741, 6608, 126, 2, 32, "Input"],
Cell[261870, 6612, 161, 2, 32, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[262068, 6619, 126, 2, 32, "Input"],
Cell[262197, 6623, 1300, 22, 347, "Print"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}
]
*)

